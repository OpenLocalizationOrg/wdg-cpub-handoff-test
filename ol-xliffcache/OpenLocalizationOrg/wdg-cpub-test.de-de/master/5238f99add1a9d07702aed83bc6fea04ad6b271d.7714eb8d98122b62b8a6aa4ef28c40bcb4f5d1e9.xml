{"nodes":[{"pos":[17,88],"content":"Learn how to store and retrieve local, roaming, and temporary app data.","needQuote":true,"needEscape":true,"nodes":[{"content":"Learn how to store and retrieve local, roaming, and temporary app data.","pos":[0,71]}]},{"pos":[96,142],"content":"Store and retrieve settings and other app data","needQuote":true,"needEscape":true,"nodes":[{"content":"Store and retrieve settings and other app data","pos":[0,46]}]},{"content":"Store and retrieve settings and other app data","pos":[249,295]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[297,335]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[336,431],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"content":"<bpt id=\"p1\">*</bpt>App data<ept id=\"p1\">*</ept> is mutable data that is specific to a particular app.","pos":[433,497],"source":"*App data* is mutable data that is specific to a particular app."},{"content":"It includes runtime state, user preferences, and other settings.","pos":[498,562]},{"content":"App data is different from <bpt id=\"p1\">*</bpt>user data<ept id=\"p1\">*</ept>, data that the user creates and manages when using an app.","pos":[563,660],"source":" App data is different from *user data*, data that the user creates and manages when using an app."},{"content":"User data includes document or media files, email or communication transcripts, or database records holding content created by the user.","pos":[661,797]},{"content":"User data may be useful or meaningful to more than one app.","pos":[798,857]},{"content":"Often, this is data that the user wants to manipulate or transmit as an entity independent of the app itself, such as a document.","pos":[858,987]},{"content":"**Important note about app data:  **The lifetime of the app data is tied to the lifetime of the app.","pos":[989,1089]},{"content":"If the app is removed, all of the app data will be lost as a consequence.","pos":[1090,1163]},{"content":"Don't use app data to store user data or anything that users might perceive as valuable and irreplaceable.","pos":[1164,1270]},{"content":"We recommend that the user's libraries and Microsoft OneDrive be used to store this sort of information.","pos":[1271,1375]},{"content":"App data is ideal for storing app-specific user preferences, settings, and favorites.","pos":[1376,1461]},{"content":"Types of app data","pos":[1466,1483]},{"content":"There are two types of app data: settings and files.","pos":[1485,1537]},{"content":"Settings","pos":[1545,1553]},{"content":"Use settings to store user preferences and application state info.","pos":[1561,1627]},{"content":"The app data API enables you to easily create and retrieve settings (we'll show you some examples later in this article).","pos":[1628,1749]},{"content":"Here are data types you can use for app settings:","pos":[1755,1804]},{"pos":[1814,1916],"content":"<bpt id=\"p1\">**</bpt>UInt8<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Int16<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>UInt16<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Int32<ept id=\"p4\">**</ept>, <bpt id=\"p5\">**</bpt>UInt32<ept id=\"p5\">**</ept>, <bpt id=\"p6\">**</bpt>Int64<ept id=\"p6\">**</ept>, <bpt id=\"p7\">**</bpt>UInt64<ept id=\"p7\">**</ept>, <bpt id=\"p8\">**</bpt>Single<ept id=\"p8\">**</ept>, <bpt id=\"p9\">**</bpt>Double<ept id=\"p9\">**</ept>","source":"**UInt8**, **Int16**, **UInt16**, **Int32**, **UInt32**, **Int64**, **UInt64**, **Single**, **Double**"},{"content":"Boolean","pos":[1927,1934]},{"pos":[1945,1967],"content":"<bpt id=\"p1\">**</bpt>Char16<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>String<ept id=\"p2\">**</ept>","source":"**Char16**, **String**"},{"pos":[1976,2122],"content":"<bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DateTime<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br206576)</ept>, <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>TimeSpan<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br225996)</ept>","source":"[**DateTime**](https://msdn.microsoft.com/library/windows/apps/br206576), [**TimeSpan**](https://msdn.microsoft.com/library/windows/apps/br225996)"},{"pos":[2131,2350],"content":"<bpt id=\"p1\">**</bpt>GUID<ept id=\"p1\">**</ept>, <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>Point<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br225870)</ept>, <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>Size<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br225995)</ept>, <bpt id=\"p6\">[</bpt><bpt id=\"p7\">**</bpt>Rect<ept id=\"p7\">**</ept><ept id=\"p6\">](https://msdn.microsoft.com/library/windows/apps/br225994)</ept>","source":"**GUID**, [**Point**](https://msdn.microsoft.com/library/windows/apps/br225870), [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995), [**Rect**](https://msdn.microsoft.com/library/windows/apps/br225994)"},{"content":"<bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationDataCompositeValue<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241588)</ept>: A set of related app settings that must be serialized and deserialized atomically.","pos":[2359,2536],"source":"[**ApplicationDataCompositeValue**](https://msdn.microsoft.com/library/windows/apps/br241588): A set of related app settings that must be serialized and deserialized atomically."},{"content":"Use composite settings to easily handle atomic updates of interdependent settings.","pos":[2537,2619]},{"content":"The system ensures the integrity of composite settings during concurrent access and roaming.","pos":[2620,2712]},{"content":"Composite settings are optimized for small amounts of data, and performance can be poor if you use them for large data sets.","pos":[2713,2837]},{"content":"Files","pos":[2844,2849]},{"content":"Use files to store binary data or to enable your own, customized serialized types.","pos":[2857,2939]},{"content":"Storing app data in the app data stores","pos":[2944,2983]},{"content":"When an app is installed, the system gives it its own per-user data stores for settings and files.","pos":[2985,3083]},{"content":"You don't need to know where or how this data exists, because the system is responsible for managing the physical storage, ensuring that the data is kept isolated from other apps and other users.","pos":[3084,3279]},{"content":"The system also preserves the contents of these data stores when the user installs an update to your app and removes the contents of these data stores completely and cleanly when your app is uninstalled.","pos":[3280,3483]},{"content":"Within its app data store, each app has system-defined root directories: one for local files, one for roaming files, and one for temporary files.","pos":[3485,3630]},{"content":"Your app can add new files and new containers to each of these root directories.","pos":[3631,3711]},{"content":"Local app data","pos":[3716,3730]},{"content":"Local app data should be used for any information that needs to be preserved between app sessions and is not suitable for roaming app data.","pos":[3732,3871]},{"content":"Data that is not applicable on other devices should be stored here as well.","pos":[3872,3947]},{"content":"There is no general size restriction on local data stored.","pos":[3948,4006]},{"content":"Use the local app data store for data that it does not make sense to roam and for large data sets.","pos":[4007,4105]},{"content":"Retrieve the local app data store","pos":[4111,4144]},{"content":"Before you can read or write local app data, you must retrieve the local app data store.","pos":[4146,4234]},{"content":"To retrieve the local app data store, use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationData.LocalSettings<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241622)</ept> property to get the app's local settings as an <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>ApplicationDataContainer<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br241599)</ept> object.","pos":[4235,4518],"source":" To retrieve the local app data store, use the [**ApplicationData.LocalSettings**](https://msdn.microsoft.com/library/windows/apps/br241622) property to get the app's local settings as an [**ApplicationDataContainer**](https://msdn.microsoft.com/library/windows/apps/br241599) object."},{"content":"Use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationData.LocalFolder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241621)</ept> property to get the files in a <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>StorageFolder<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br227230)</ept> object.","pos":[4519,4735],"source":" Use the [**ApplicationData.LocalFolder**](https://msdn.microsoft.com/library/windows/apps/br241621) property to get the files in a [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) object."},{"content":"Use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationData.LocalCacheFolder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn633825)</ept> property to get the folder in the local app data store where you can save files that are not included in backup and restore.","pos":[4736,4965],"source":" Use the [**ApplicationData.LocalCacheFolder**](https://msdn.microsoft.com/library/windows/apps/dn633825) property to get the folder in the local app data store where you can save files that are not included in backup and restore."},{"content":"Create and retrieve a simple local setting","pos":[5201,5243]},{"content":"To create or write a setting, use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationDataContainer.Values<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241615)</ept> property to access the settings in the <ph id=\"ph1\">`localSettings`</ph> container we got in the previous step.","pos":[5245,5472],"source":"To create or write a setting, use the [**ApplicationDataContainer.Values**](https://msdn.microsoft.com/library/windows/apps/br241615) property to access the settings in the `localSettings` container we got in the previous step."},{"content":"This example creates a setting named <ph id=\"ph1\">`exampleSetting`</ph>.","pos":[5473,5527],"source":" This example creates a setting named `exampleSetting`."},{"content":"To retrieve the setting, you use the same <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationDataContainer.Values<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241615)</ept> property that you used to create the setting.","pos":[5617,5800],"source":"To retrieve the setting, you use the same [**ApplicationDataContainer.Values**](https://msdn.microsoft.com/library/windows/apps/br241615) property that you used to create the setting."},{"content":"This example shows how to retrieve the setting we just created.","pos":[5801,5864]},{"content":"Create and retrieve a local composite value","pos":[5954,5997]},{"content":"To create or write a composite value, create an <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationDataCompositeValue<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241588)</ept> object.","pos":[5999,6148],"source":"To create or write a composite value, create an [**ApplicationDataCompositeValue**](https://msdn.microsoft.com/library/windows/apps/br241588) object."},{"content":"This example creates a composite setting named <ph id=\"ph1\">`exampleCompositeSetting`</ph> and adds it to the <ph id=\"ph2\">`localSettings`</ph> container.","pos":[6149,6267],"source":" This example creates a composite setting named `exampleCompositeSetting` and adds it to the `localSettings` container."},{"content":"This example shows how to retrieve the composite value we just created.","pos":[6537,6608]},{"content":"Create and read a local file","pos":[6921,6949]},{"content":"To create and update a file in the local app data store, use the file APIs, such as <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Storage.StorageFolder.CreateFileAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227249)</ept> and <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Windows.Storage.FileIO.WriteTextAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh701505)</ept>.","pos":[6951,7251],"source":"To create and update a file in the local app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.CreateFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227249) and [**Windows.Storage.FileIO.WriteTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701505)."},{"content":"This example creates a file named <ph id=\"ph1\">`dataFile.txt`</ph> in the <ph id=\"ph2\">`localFolder`</ph> container and writes the current date and time to the file.","pos":[7252,7381],"source":" This example creates a file named `dataFile.txt` in the `localFolder` container and writes the current date and time to the file."},{"content":"The <bpt id=\"p1\">**</bpt>ReplaceExisting<ept id=\"p1\">**</ept> value from the <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>CreationCollisionOption<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br241631)</ept> enumeration indicates to replace the file if it already exists.","pos":[7382,7572],"source":" The **ReplaceExisting** value from the [**CreationCollisionOption**](https://msdn.microsoft.com/library/windows/apps/br241631) enumeration indicates to replace the file if it already exists."},{"content":"To open and read a file in the local app data store, use the file APIs, such as <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Storage.StorageFolder.GetFileAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227272)</ept>, <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Windows.Storage.StorageFile.GetFileFromApplicationUriAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh701741)</ept>, and <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>Windows.Storage.FileIO.ReadTextAsync<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/hh701482)</ept>.","pos":[7978,8395],"source":"To open and read a file in the local app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.GetFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227272), [**Windows.Storage.StorageFile.GetFileFromApplicationUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701741), and [**Windows.Storage.FileIO.ReadTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701482)."},{"content":"This example opens the <ph id=\"ph1\">`dataFile.txt`</ph> file created in the previous step and reads the date from the file.","pos":[8396,8501],"source":" This example opens the `dataFile.txt` file created in the previous step and reads the date from the file."},{"content":"For details on loading file resources from various locations, see <bpt id=\"p1\">[</bpt>How to load file resources<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/hh965322)</ept>.","pos":[8502,8660],"source":" For details on loading file resources from various locations, see [How to load file resources](https://msdn.microsoft.com/library/windows/apps/xaml/hh965322)."},{"content":"Roaming data","pos":[8968,8980]},{"content":"If you use roaming data in your app, your users can easily keep your app's app data in sync across multiple devices.","pos":[8982,9098]},{"content":"If a user installs your app on multiple devices, the OS keeps the app data in sync, reducing the amount of setup work that the user needs to do for your app on their second device.","pos":[9099,9279]},{"content":"Roaming also enables your users to continue a task, such as composing a list, right where they left off even on a different device.","pos":[9280,9411]},{"content":"The OS replicates roaming data to the cloud when it is updated, and synchronizes the data to the other devices on which the app is installed.","pos":[9412,9553]},{"content":"The OS limits the size of the app data that each app may roam.","pos":[9555,9617]},{"content":"See <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationData.RoamingStorageQuota<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241625)</ept>.","pos":[9618,9722],"source":" See [**ApplicationData.RoamingStorageQuota**](https://msdn.microsoft.com/library/windows/apps/br241625)."},{"content":"If the app hits this limit, none of the app's app data will be replicated to the cloud until the app's total roamed app data is less than the limit again.","pos":[9723,9877]},{"content":"For this reason, it is a best practice to use roaming data only for user preferences, links, and small data files.","pos":[9878,9992]},{"content":"Roaming data for an app is available in the cloud as long as it is accessed by the user from some device within the required time interval.","pos":[9994,10133]},{"content":"If the user does not run an app for longer than this time interval, its roaming data is removed from the cloud.","pos":[10134,10245]},{"content":"If a user uninstalls an app, its roaming data isn't automatically removed from the cloud, it's preserved.","pos":[10246,10351]},{"content":"If the user reinstalls the app within the time interval, the roaming data is synchronized from the cloud.","pos":[10352,10457]},{"content":"Register to receive notification when roaming data changes","pos":[10463,10521]},{"content":"To use roaming app data, you need to register for roaming data changes and retrieve the roaming data containers so you can read and write settings.","pos":[10523,10670]},{"content":"Register to receive notification when roaming data changes.","pos":[10676,10735]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DataChanged<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241620)</ept> event notifies you when roaming data changes.","pos":[10741,10866],"source":"The [**DataChanged**](https://msdn.microsoft.com/library/windows/apps/br241620) event notifies you when roaming data changes."},{"content":"This example sets <ph id=\"ph1\">`DataChangeHandler`</ph> as the handler for roaming data changes.","pos":[10867,10945],"source":" This example sets `DataChangeHandler` as the handler for roaming data changes."},{"content":"Get the containers for the app's settings and files.","pos":[11259,11311]},{"pos":[11317,11578],"content":"Use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationData.RoamingSettings<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241624)</ept> property to get the settings and the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>ApplicationData.RoamingFolder<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br241623)</ept> property to get the files.","source":"Use the [**ApplicationData.RoamingSettings**](https://msdn.microsoft.com/library/windows/apps/br241624) property to get the settings and the [**ApplicationData.RoamingFolder**](https://msdn.microsoft.com/library/windows/apps/br241623) property to get the files."},{"content":"Create and retrieve roaming settings","pos":[11834,11870]},{"content":"Use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationDataContainer.Values<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241615)</ept> property to access the settings in the <ph id=\"ph1\">`roamingSettings`</ph> container we got in the previous section.","pos":[11872,12074],"source":"Use the [**ApplicationDataContainer.Values**](https://msdn.microsoft.com/library/windows/apps/br241615) property to access the settings in the `roamingSettings` container we got in the previous section."},{"content":"This example creates a simple setting named <ph id=\"ph1\">`exampleSetting`</ph> and a composite value named <ph id=\"ph2\">`composite`</ph>.","pos":[12075,12176],"source":" This example creates a simple setting named `exampleSetting` and a composite value named `composite`."},{"content":"This example retrieves the settings we just created.","pos":[12651,12703]},{"content":"Create and retrieve roaming files","pos":[13095,13128]},{"content":"To create and update a file in the roaming app data store, use the file APIs, such as <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Storage.StorageFolder.CreateFileAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227249)</ept> and <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Windows.Storage.FileIO.WriteTextAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh701505)</ept>.","pos":[13130,13432],"source":"To create and update a file in the roaming app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.CreateFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227249) and [**Windows.Storage.FileIO.WriteTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701505)."},{"content":"This example creates a file named <ph id=\"ph1\">`dataFile.txt`</ph> in the <ph id=\"ph2\">`roamingFolder`</ph> container and writes the current date and time to the file.","pos":[13433,13564],"source":" This example creates a file named `dataFile.txt` in the `roamingFolder` container and writes the current date and time to the file."},{"content":"The <bpt id=\"p1\">**</bpt>ReplaceExisting<ept id=\"p1\">**</ept> value from the <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>CreationCollisionOption<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br241631)</ept> enumeration indicates to replace the file if it already exists.","pos":[13565,13755],"source":" The **ReplaceExisting** value from the [**CreationCollisionOption**](https://msdn.microsoft.com/library/windows/apps/br241631) enumeration indicates to replace the file if it already exists."},{"content":"To open and read a file in the roaming app data store, use the file APIs, such as <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Storage.StorageFolder.GetFileAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227272)</ept>, <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Windows.Storage.StorageFile.GetFileFromApplicationUriAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh701741)</ept>, and <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>Windows.Storage.FileIO.ReadTextAsync<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/hh701482)</ept>.","pos":[14165,14584],"source":"To open and read a file in the roaming app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.GetFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227272), [**Windows.Storage.StorageFile.GetFileFromApplicationUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701741), and [**Windows.Storage.FileIO.ReadTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701482)."},{"content":"This example opens the <ph id=\"ph1\">`dataFile.txt`</ph> file created in the previous section and reads the date from the file.","pos":[14585,14693],"source":" This example opens the `dataFile.txt` file created in the previous section and reads the date from the file."},{"content":"For details on loading file resources from various locations, see <bpt id=\"p1\">[</bpt>How to load file resources<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/hh965322)</ept>.","pos":[14694,14852],"source":" For details on loading file resources from various locations, see [How to load file resources](https://msdn.microsoft.com/library/windows/apps/xaml/hh965322)."},{"content":"Temporary app data","pos":[15162,15180]},{"content":"The temporary app data store works like a cache.","pos":[15182,15230]},{"content":"Its files do not roam and could be removed at any time.","pos":[15231,15286]},{"content":"The System Maintenance task can automatically delete data stored at this location at any time.","pos":[15287,15381]},{"content":"The user can also clear files from the temporary data store using Disk Cleanup.","pos":[15382,15461]},{"content":"Temporary app data can be used for storing temporary information during an app session.","pos":[15462,15549]},{"content":"There is no guarantee that this data will persist beyond the end of the app session as the system might reclaim the used space if needed.","pos":[15550,15687]},{"content":"The location is available via the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>temporaryFolder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241629)</ept> property.","pos":[15688,15811],"source":" The location is available via the [**temporaryFolder**](https://msdn.microsoft.com/library/windows/apps/br241629) property."},{"content":"Retrieve the temporary data container","pos":[15817,15854]},{"content":"Use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationData.TemporaryFolder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241629)</ept> property to get the files.","pos":[15856,15986],"source":"Use the [**ApplicationData.TemporaryFolder**](https://msdn.microsoft.com/library/windows/apps/br241629) property to get the files."},{"content":"The next steps use the <ph id=\"ph1\">`temporaryFolder`</ph> variable from this step.","pos":[15987,16052],"source":" The next steps use the `temporaryFolder` variable from this step."},{"content":"Create and read temporary files","pos":[16158,16189]},{"content":"To create and update a file in the temporary app data store, use the file APIs, such as <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Storage.StorageFolder.CreateFileAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227249)</ept> and <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Windows.Storage.FileIO.WriteTextAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh701505)</ept>.","pos":[16191,16495],"source":"To create and update a file in the temporary app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.CreateFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227249) and [**Windows.Storage.FileIO.WriteTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701505)."},{"content":"This example creates a file named <ph id=\"ph1\">`dataFile.txt`</ph> in the <ph id=\"ph2\">`temporaryFolder`</ph> container and writes the current date and time to the file.","pos":[16496,16629],"source":" This example creates a file named `dataFile.txt` in the `temporaryFolder` container and writes the current date and time to the file."},{"content":"The <bpt id=\"p1\">**</bpt>ReplaceExisting<ept id=\"p1\">**</ept> value from the <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>CreationCollisionOption<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br241631)</ept> enumeration indicates to replace the file if it already exists.","pos":[16630,16820],"source":" The **ReplaceExisting** value from the [**CreationCollisionOption**](https://msdn.microsoft.com/library/windows/apps/br241631) enumeration indicates to replace the file if it already exists."},{"content":"To open and read a file in the temporary app data store, use the file APIs, such as <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Storage.StorageFolder.GetFileAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227272)</ept>, <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Windows.Storage.StorageFile.GetFileFromApplicationUriAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh701741)</ept>, and <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>Windows.Storage.FileIO.ReadTextAsync<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/hh701482)</ept>.","pos":[17230,17651],"source":"To open and read a file in the temporary app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.GetFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227272), [**Windows.Storage.StorageFile.GetFileFromApplicationUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701741), and [**Windows.Storage.FileIO.ReadTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701482)."},{"content":"This example opens the <ph id=\"ph1\">`dataFile.txt`</ph> file created in the previous step and reads the date from the file.","pos":[17652,17757],"source":" This example opens the `dataFile.txt` file created in the previous step and reads the date from the file."},{"content":"For details on loading file resources from various locations, see <bpt id=\"p1\">[</bpt>How to load file resources<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/hh965322)</ept>.","pos":[17758,17916],"source":" For details on loading file resources from various locations, see [How to load file resources](https://msdn.microsoft.com/library/windows/apps/xaml/hh965322)."},{"content":"Organize app data with containers","pos":[18228,18261]},{"content":"To help you organize your app data settings and files, you create containers (represented by <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationDataContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241599)</ept> objects) instead of working directly with directories.","pos":[18264,18500],"source":"To help you organize your app data settings and files, you create containers (represented by [**ApplicationDataContainer**](https://msdn.microsoft.com/library/windows/apps/br241599) objects) instead of working directly with directories."},{"content":"You can add containers to the local, roaming, and temporary app data stores.","pos":[18501,18577]},{"content":"Containers can be nested up to 32 levels deep.","pos":[18578,18624]},{"content":"To create a settings container, call the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationDataContainer.CreateContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241611)</ept> method.","pos":[18626,18779],"source":"To create a settings container, call the [**ApplicationDataContainer.CreateContainer**](https://msdn.microsoft.com/library/windows/apps/br241611) method."},{"content":"This example creates a local settings container named <ph id=\"ph1\">`exampleContainer`</ph> and adds a setting named <ph id=\"ph2\">`exampleSetting`</ph>.","pos":[18780,18895],"source":" This example creates a local settings container named `exampleContainer` and adds a setting named `exampleSetting`."},{"content":"The <bpt id=\"p1\">**</bpt>Always<ept id=\"p1\">**</ept> value from the <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>ApplicationDataCreateDisposition<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/br241616)</ept> enumeration indicates that the container is created if it doesn't already exist.","pos":[18896,19103],"source":" The **Always** value from the [**ApplicationDataCreateDisposition**](https://msdn.microsoft.com/library/windows/apps/br241616) enumeration indicates that the container is created if it doesn't already exist."},{"content":"Delete app settings and containers","pos":[19689,19723]},{"content":"To delete a simple setting that your app no longer needs, use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationDataContainerSettings.Remove<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241608)</ept> method.","pos":[19726,19903],"source":"To delete a simple setting that your app no longer needs, use the [**ApplicationDataContainerSettings.Remove**](https://msdn.microsoft.com/library/windows/apps/br241608) method."},{"content":"This example deletesthe <ph id=\"ph1\">`exampleSetting`</ph> local setting that we created earlier.","pos":[19904,19983],"source":" This example deletesthe `exampleSetting` local setting that we created earlier."},{"content":"To delete a composite setting, use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationDataCompositeValue.Remove<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241597)</ept> method.","pos":[20289,20436],"source":"To delete a composite setting, use the [**ApplicationDataCompositeValue.Remove**](https://msdn.microsoft.com/library/windows/apps/br241597) method."},{"content":"This example deletes the local <ph id=\"ph1\">`exampleCompositeSetting`</ph> composite setting we created in an earlier example.","pos":[20437,20545],"source":" This example deletes the local `exampleCompositeSetting` composite setting we created in an earlier example."},{"content":"To delete a container, call the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationDataContainer.DeleteContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241612)</ept> method.","pos":[20863,21007],"source":"To delete a container, call the [**ApplicationDataContainer.DeleteContainer**](https://msdn.microsoft.com/library/windows/apps/br241612) method."},{"content":"This example deletes the local <ph id=\"ph1\">`exampleContainer`</ph> settings container we created earlier.","pos":[21008,21096],"source":" This example deletes the local `exampleContainer` settings container we created earlier."},{"content":"Versioning your app data","pos":[21404,21428]},{"content":"You can optionally version the app data for your app.","pos":[21431,21484]},{"content":"This would enable you to create a future version of your app that changes the format of its app data without causing compatibility problems with the previous version of your app.","pos":[21485,21663]},{"content":"The app checks the version of the app data in the data store, and if the version is less than the version the app expects, the app should update the app data to the new format and update the version.","pos":[21664,21863]},{"content":"For more info, see the<bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Application.Version<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241630)</ept> property and the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>ApplicationData.SetVersionAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh701429)</ept> method.","pos":[21864,22090],"source":" For more info, see the[**Application.Version**](https://msdn.microsoft.com/library/windows/apps/br241630) property and the [**ApplicationData.SetVersionAsync**](https://msdn.microsoft.com/library/windows/apps/hh701429) method."}],"content":"---\nDescription: Learn how to store and retrieve local, roaming, and temporary app data.\ntitle: Store and retrieve settings and other app data\nms.assetid: 41676A02-325A-455E-8565-C9EC0BC3A8FE\nlabel: App settings and data\ntemplate: detail.hbs\n---\n\n# Store and retrieve settings and other app data\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n*App data* is mutable data that is specific to a particular app. It includes runtime state, user preferences, and other settings. App data is different from *user data*, data that the user creates and manages when using an app. User data includes document or media files, email or communication transcripts, or database records holding content created by the user. User data may be useful or meaningful to more than one app. Often, this is data that the user wants to manipulate or transmit as an entity independent of the app itself, such as a document.\n\n**Important note about app data:  **The lifetime of the app data is tied to the lifetime of the app. If the app is removed, all of the app data will be lost as a consequence. Don't use app data to store user data or anything that users might perceive as valuable and irreplaceable. We recommend that the user's libraries and Microsoft OneDrive be used to store this sort of information. App data is ideal for storing app-specific user preferences, settings, and favorites.\n\n## Types of app data\n\nThere are two types of app data: settings and files.\n\n-   **Settings**\n\n    Use settings to store user preferences and application state info. The app data API enables you to easily create and retrieve settings (we'll show you some examples later in this article).\n\n    Here are data types you can use for app settings:\n\n    -   **UInt8**, **Int16**, **UInt16**, **Int32**, **UInt32**, **Int64**, **UInt64**, **Single**, **Double**\n    -   **Boolean**\n    -   **Char16**, **String**\n    -   [**DateTime**](https://msdn.microsoft.com/library/windows/apps/br206576), [**TimeSpan**](https://msdn.microsoft.com/library/windows/apps/br225996)\n    -   **GUID**, [**Point**](https://msdn.microsoft.com/library/windows/apps/br225870), [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995), [**Rect**](https://msdn.microsoft.com/library/windows/apps/br225994)\n    -   [**ApplicationDataCompositeValue**](https://msdn.microsoft.com/library/windows/apps/br241588): A set of related app settings that must be serialized and deserialized atomically. Use composite settings to easily handle atomic updates of interdependent settings. The system ensures the integrity of composite settings during concurrent access and roaming. Composite settings are optimized for small amounts of data, and performance can be poor if you use them for large data sets.\n-   **Files**\n\n    Use files to store binary data or to enable your own, customized serialized types.\n\n## Storing app data in the app data stores\n\nWhen an app is installed, the system gives it its own per-user data stores for settings and files. You don't need to know where or how this data exists, because the system is responsible for managing the physical storage, ensuring that the data is kept isolated from other apps and other users. The system also preserves the contents of these data stores when the user installs an update to your app and removes the contents of these data stores completely and cleanly when your app is uninstalled.\n\nWithin its app data store, each app has system-defined root directories: one for local files, one for roaming files, and one for temporary files. Your app can add new files and new containers to each of these root directories.\n\n## Local app data\n\nLocal app data should be used for any information that needs to be preserved between app sessions and is not suitable for roaming app data. Data that is not applicable on other devices should be stored here as well. There is no general size restriction on local data stored. Use the local app data store for data that it does not make sense to roam and for large data sets.\n\n### Retrieve the local app data store\n\nBefore you can read or write local app data, you must retrieve the local app data store. To retrieve the local app data store, use the [**ApplicationData.LocalSettings**](https://msdn.microsoft.com/library/windows/apps/br241622) property to get the app's local settings as an [**ApplicationDataContainer**](https://msdn.microsoft.com/library/windows/apps/br241599) object. Use the [**ApplicationData.LocalFolder**](https://msdn.microsoft.com/library/windows/apps/br241621) property to get the files in a [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) object. Use the [**ApplicationData.LocalCacheFolder**](https://msdn.microsoft.com/library/windows/apps/dn633825) property to get the folder in the local app data store where you can save files that are not included in backup and restore.\n\n```cs\nWindows.Storage.ApplicationDataContainer localSettings = \n    Windows.Storage.ApplicationData.Current.LocalSettings;\nWindows.Storage.StorageFolder localFolder = \n    Windows.Storage.ApplicationData.Current.LocalFolder;\n```\n\n### Create and retrieve a simple local setting\n\nTo create or write a setting, use the [**ApplicationDataContainer.Values**](https://msdn.microsoft.com/library/windows/apps/br241615) property to access the settings in the `localSettings` container we got in the previous step. This example creates a setting named `exampleSetting`.\n\n```cs\n// Simple setting\n\nlocalSettings.Values[\"exampleSetting\"] = \"Hello Windows\";\n```\n\nTo retrieve the setting, you use the same [**ApplicationDataContainer.Values**](https://msdn.microsoft.com/library/windows/apps/br241615) property that you used to create the setting. This example shows how to retrieve the setting we just created.\n\n```cs\n// Simple setting\nObject value = localSettings.Values[\"exampleSetting\"];\n```\n\n### Create and retrieve a local composite value\n\nTo create or write a composite value, create an [**ApplicationDataCompositeValue**](https://msdn.microsoft.com/library/windows/apps/br241588) object. This example creates a composite setting named `exampleCompositeSetting` and adds it to the `localSettings` container.\n\n```cs\n// Composite setting\n\nWindows.Storage.ApplicationDataCompositeValue composite = \n    new Windows.Storage.ApplicationDataCompositeValue();\ncomposite[\"intVal\"] = 1;\ncomposite[\"strVal\"] = \"string\";\n\nlocalSettings.Values[\"exampleCompositeSetting\"] = composite;\n```\n\nThis example shows how to retrieve the composite value we just created.\n\n```cs\n// Composite setting\n\nWindows.Storage.ApplicationDataCompositeValue composite = \n   (Windows.Storage.ApplicationDataCompositeValue)localSettings.Values[\"exampleCompositeSetting\"];\n\nif (composite == null)\n{\n   // No data\n}\nelse\n{\n   // Access data in composite[\"intVal\"] and composite[\"strVal\"]\n}\n```\n\n### Create and read a local file\n\nTo create and update a file in the local app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.CreateFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227249) and [**Windows.Storage.FileIO.WriteTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701505). This example creates a file named `dataFile.txt` in the `localFolder` container and writes the current date and time to the file. The **ReplaceExisting** value from the [**CreationCollisionOption**](https://msdn.microsoft.com/library/windows/apps/br241631) enumeration indicates to replace the file if it already exists.\n\n```cs\nasync void WriteTimestamp()\n{\n   Windows.Globalization.DateTimeFormatting.DateTimeFormatter formatter = \n       new Windows.Globalization.DatetimeFormatting.DateTimeFormatter(\"longtime\");\n\n   StorageFile sampleFile = await localFolder.CreateFileAsync(\"dataFile.txt\", \n       CreateCollisionOption.ReplaceExisting);\n   await FileIO.WriteTextAsync(sampleFile, formatter.Format(DateTime.Now));\n}\n```\n\nTo open and read a file in the local app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.GetFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227272), [**Windows.Storage.StorageFile.GetFileFromApplicationUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701741), and [**Windows.Storage.FileIO.ReadTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701482). This example opens the `dataFile.txt` file created in the previous step and reads the date from the file. For details on loading file resources from various locations, see [How to load file resources](https://msdn.microsoft.com/library/windows/apps/xaml/hh965322).\n\n```cs\nasync void ReadTimestamp()\n{\n   try\n   {\n      StorageFile sampleFile = await localFolder.GetFileAsync(\"dataFile.txt\");\n      String timestamp = await FileIO.ReadTextAsync(sampleFile);\n      // Data is contained in timestamp\n   }\n   catch (Exception)\n   {\n      // Timestamp not found\n   }\n}\n```\n\n## Roaming data\n\nIf you use roaming data in your app, your users can easily keep your app's app data in sync across multiple devices. If a user installs your app on multiple devices, the OS keeps the app data in sync, reducing the amount of setup work that the user needs to do for your app on their second device. Roaming also enables your users to continue a task, such as composing a list, right where they left off even on a different device. The OS replicates roaming data to the cloud when it is updated, and synchronizes the data to the other devices on which the app is installed.\n\nThe OS limits the size of the app data that each app may roam. See [**ApplicationData.RoamingStorageQuota**](https://msdn.microsoft.com/library/windows/apps/br241625). If the app hits this limit, none of the app's app data will be replicated to the cloud until the app's total roamed app data is less than the limit again. For this reason, it is a best practice to use roaming data only for user preferences, links, and small data files.\n\nRoaming data for an app is available in the cloud as long as it is accessed by the user from some device within the required time interval. If the user does not run an app for longer than this time interval, its roaming data is removed from the cloud. If a user uninstalls an app, its roaming data isn't automatically removed from the cloud, it's preserved. If the user reinstalls the app within the time interval, the roaming data is synchronized from the cloud.\n\n### Register to receive notification when roaming data changes\n\nTo use roaming app data, you need to register for roaming data changes and retrieve the roaming data containers so you can read and write settings.\n\n1.  Register to receive notification when roaming data changes.\n\n    The [**DataChanged**](https://msdn.microsoft.com/library/windows/apps/br241620) event notifies you when roaming data changes. This example sets `DataChangeHandler` as the handler for roaming data changes.\n\n```cs\nvoid InitHandlers()\n    {\n       Windows.Storage.ApplicationData.Current.DataChanged += \n          new TypedEventHandler<ApplicationData, object>(DataChangeHandler);\n    }\n\n    void DataChangeHandler(Windows.Storage.ApplicationData appData, object o)\n    {\n       // TODO: Refresh your data\n    }\n```\n\n2.  Get the containers for the app's settings and files.\n\n    Use the [**ApplicationData.RoamingSettings**](https://msdn.microsoft.com/library/windows/apps/br241624) property to get the settings and the [**ApplicationData.RoamingFolder**](https://msdn.microsoft.com/library/windows/apps/br241623) property to get the files.\n\n```cs\nWindows.Storage.ApplicationDataContainer roamingSettings = \n        Windows.Storage.ApplicationData.Current.RoamingSettings;\n    Windows.Storage.StorageFolder roamingFolder = \n        Windows.Storage.ApplicationData.Current.RoamingFolder;\n```\n\n### Create and retrieve roaming settings\n\nUse the [**ApplicationDataContainer.Values**](https://msdn.microsoft.com/library/windows/apps/br241615) property to access the settings in the `roamingSettings` container we got in the previous section. This example creates a simple setting named `exampleSetting` and a composite value named `composite`.\n\n```cs\n// Simple setting\n\nroamingSettings.Values[\"exampleSetting\"] = \"Hello World\";\n// High Priority setting, for example, last page position in book reader app\nroamingSettings.values[\"HighPriority\"] = \"65\";\n\n// Composite setting\n\nWindows.Storage.ApplicationDataCompositeValue composite = \n    new Windows.Storage.ApplicationDataCompositeValue();\ncomposite[\"intVal\"] = 1;\ncomposite[\"strVal\"] = \"string\";\n\nroamingSettings.Values[\"exampleCompositeSetting\"] = composite;\n\n```\n\nThis example retrieves the settings we just created.\n\n```cs\n// Simple setting\n\nObject value = roamingSettings.Values[\"exampleSetting\"];\n\n// Composite setting\n\nWindows.Storage.ApplicationDataCompositeValue composite = \n   (Windows.Storage.ApplicationDataCompositeValue)roamingSettings.Values[\"exampleCompositeSetting\"];\n\nif (composite == null)\n{\n   // No data\n}\nelse\n{\n   // Access data in composite[\"intVal\"] and composite[\"strVal\"]\n}\n```\n\n### Create and retrieve roaming files\n\nTo create and update a file in the roaming app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.CreateFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227249) and [**Windows.Storage.FileIO.WriteTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701505). This example creates a file named `dataFile.txt` in the `roamingFolder` container and writes the current date and time to the file. The **ReplaceExisting** value from the [**CreationCollisionOption**](https://msdn.microsoft.com/library/windows/apps/br241631) enumeration indicates to replace the file if it already exists.\n\n```cs\nasync void WriteTimestamp()\n{\n   Windows.Globalization.DateTimeFormatting.DateTimeFormatter formatter = \n       new Windows.Globalization.DatetimeFormatting.DateTimeFormatter(\"longtime\");\n\n   StorageFile sampleFile = await roamingFolder.CreateFileAsync(\"dataFile.txt\", \n       CreationCollisionOption.ReplaceExisting);\n   await FileIO.WriteTextAsync(sampleFile, formatter.Format(DateTime.Now));\n}\n```\n\nTo open and read a file in the roaming app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.GetFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227272), [**Windows.Storage.StorageFile.GetFileFromApplicationUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701741), and [**Windows.Storage.FileIO.ReadTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701482). This example opens the `dataFile.txt` file created in the previous section and reads the date from the file. For details on loading file resources from various locations, see [How to load file resources](https://msdn.microsoft.com/library/windows/apps/xaml/hh965322).\n\n```cs\nasync void ReadTimestamp()\n{\n   try\n   {\n      StorageFile sampleFile = await roamingFolder.GetFileAsync(\"dataFile.txt\");\n      String timestamp = await FileIO.ReadTextAsync(sampleFile);\n      // Data is contained in timestamp\n   }\n   catch (Exception)\n   {\n      // Timestamp not found\n   }\n}\n```\n\n## Temporary app data\n\nThe temporary app data store works like a cache. Its files do not roam and could be removed at any time. The System Maintenance task can automatically delete data stored at this location at any time. The user can also clear files from the temporary data store using Disk Cleanup. Temporary app data can be used for storing temporary information during an app session. There is no guarantee that this data will persist beyond the end of the app session as the system might reclaim the used space if needed. The location is available via the [**temporaryFolder**](https://msdn.microsoft.com/library/windows/apps/br241629) property.\n\n### Retrieve the temporary data container\n\nUse the [**ApplicationData.TemporaryFolder**](https://msdn.microsoft.com/library/windows/apps/br241629) property to get the files. The next steps use the `temporaryFolder` variable from this step.\n\n```cs\nWindows.Storage.StorageFolder temporaryFolder = ApplicationData.Current.TemporaryFolder;\n```\n\n### Create and read temporary files\n\nTo create and update a file in the temporary app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.CreateFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227249) and [**Windows.Storage.FileIO.WriteTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701505). This example creates a file named `dataFile.txt` in the `temporaryFolder` container and writes the current date and time to the file. The **ReplaceExisting** value from the [**CreationCollisionOption**](https://msdn.microsoft.com/library/windows/apps/br241631) enumeration indicates to replace the file if it already exists.\n\n```cs\nasync void WriteTimestamp()\n{\n   Windows.Globalization.DateTimeFormatting.DateTimeFormatter formatter = \n       new Windows.Globalization.DatetimeFormatting.DateTimeFormatter(\"longtime\");\n\n   StorageFile sampleFile = await temporaryFolder.CreateFileAsync(\"dataFile.txt\", \n       CreateCollisionOption.ReplaceExisting);\n   await FileIO.WriteTextAsync(sampleFile, formatter.Format(DateTime.Now));\n}\n```\n\nTo open and read a file in the temporary app data store, use the file APIs, such as [**Windows.Storage.StorageFolder.GetFileAsync**](https://msdn.microsoft.com/library/windows/apps/br227272), [**Windows.Storage.StorageFile.GetFileFromApplicationUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701741), and [**Windows.Storage.FileIO.ReadTextAsync**](https://msdn.microsoft.com/library/windows/apps/hh701482). This example opens the `dataFile.txt` file created in the previous step and reads the date from the file. For details on loading file resources from various locations, see [How to load file resources](https://msdn.microsoft.com/library/windows/apps/xaml/hh965322).\n\n```cs\nasync void ReadTimestamp()\n{\n   try\n   {\n      StorageFile sampleFile = await temporaryFolder.GetFileAsync(\"dataFile.txt\");\n      String timestamp = await FileIO.ReadTextAsync(sampleFile);\n      // Data is contained in timestamp\n   }\n   catch (Exception)\n   {\n      // Timestamp not found\n   }\n}\n```\n\n## Organize app data with containers\n\n\nTo help you organize your app data settings and files, you create containers (represented by [**ApplicationDataContainer**](https://msdn.microsoft.com/library/windows/apps/br241599) objects) instead of working directly with directories. You can add containers to the local, roaming, and temporary app data stores. Containers can be nested up to 32 levels deep.\n\nTo create a settings container, call the [**ApplicationDataContainer.CreateContainer**](https://msdn.microsoft.com/library/windows/apps/br241611) method. This example creates a local settings container named `exampleContainer` and adds a setting named `exampleSetting`. The **Always** value from the [**ApplicationDataCreateDisposition**](https://msdn.microsoft.com/library/windows/apps/br241616) enumeration indicates that the container is created if it doesn't already exist.\n\n```cs\nWindows.Storage.ApplicationDataContainer localSettings = \n    Windows.Storage.ApplicationData.Current.LocalSettings;\nWindows.Storage.StorageFolder localFolder = \n    Windows.Storage.ApplicationData.Current.LocalFolder;\n\n// Setting in a container\nWindows.Storage.ApplicationDataContainer container = \n   localSettings.CreateContainer(\"exampleContainer\", Windows.Storage.ApplicationDataCreateDisposition.Always);\n\nif (localSettings.Containers.ContainsKey(\"exampleContainer\"))\n{\n   localSettings.Containers[\"exampleContainer\"].Values[\"exampleSetting\"] = \"Hello Windows\";\n}\n```\n\n## Delete app settings and containers\n\n\nTo delete a simple setting that your app no longer needs, use the [**ApplicationDataContainerSettings.Remove**](https://msdn.microsoft.com/library/windows/apps/br241608) method. This example deletesthe `exampleSetting` local setting that we created earlier.\n\n```cs\nWindows.Storage.ApplicationDataContainer localSettings = \n    Windows.Storage.ApplicationData.Current.LocalSettings;\nWindows.Storage.StorageFolder localFolder = \n    Windows.Storage.ApplicationData.Current.LocalFolder;\n\n// Delete simple setting\n\nlocalSettings.Values.Remove(\"exampleSetting\");\n```\n\nTo delete a composite setting, use the [**ApplicationDataCompositeValue.Remove**](https://msdn.microsoft.com/library/windows/apps/br241597) method. This example deletes the local `exampleCompositeSetting` composite setting we created in an earlier example.\n\n```cs\nWindows.Storage.ApplicationDataContainer localSettings = \n    Windows.Storage.ApplicationData.Current.LocalSettings;\nWindows.Storage.StorageFolder localFolder = \n    Windows.Storage.ApplicationData.Current.LocalFolder;\n\n// Delete composite setting\n\nlocalSettings.Values.Remove(\"exampleCompositeSetting\");\n```\n\nTo delete a container, call the [**ApplicationDataContainer.DeleteContainer**](https://msdn.microsoft.com/library/windows/apps/br241612) method. This example deletes the local `exampleContainer` settings container we created earlier.\n\n```cs\nWindows.Storage.ApplicationDataContainer localSettings = \n    Windows.Storage.ApplicationData.Current.LocalSettings;\nWindows.Storage.StorageFolder localFolder = \n    Windows.Storage.ApplicationData.Current.LocalFolder;\n\n// Delete container\n\nlocalSettings.DeleteContainer(\"exampleContainer\");\n```\n\n## Versioning your app data\n\n\nYou can optionally version the app data for your app. This would enable you to create a future version of your app that changes the format of its app data without causing compatibility problems with the previous version of your app. The app checks the version of the app data in the data store, and if the version is less than the version the app expects, the app should update the app data to the new format and update the version. For more info, see the[**Application.Version**](https://msdn.microsoft.com/library/windows/apps/br241630) property and the [**ApplicationData.SetVersionAsync**](https://msdn.microsoft.com/library/windows/apps/hh701429) method.\n\n \n\n \n\n\n\n\n"}