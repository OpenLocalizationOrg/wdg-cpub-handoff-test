{"nodes":[{"content":"Enumerate devices over a network","pos":[2,34]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[36,74]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[75,170],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"content":"** Important APIs **","pos":[173,193]},{"content":"Windows.Devices.Enumeration","pos":[202,229]},{"pos":[292,518],"content":"In addition to discovering locally connected devices, you can use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Devices.Enumeration<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR225459)</ept> APIs to enumerate devices over wireless and networked protocols.","source":"In addition to discovering locally connected devices, you can use the [**Windows.Devices.Enumeration**](https://msdn.microsoft.com/library/windows/apps/BR225459) APIs to enumerate devices over wireless and networked protocols."},{"content":"Enumerating devices over networked or wireless protocols","pos":[523,579]},{"content":"Sometimes you need to enumerate devices that are not locally connected and can only be discovered over a wireless or networking protocols.","pos":[581,719]},{"content":"In order to do so, the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Devices.Enumeration<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/BR225459)</ept> APIs have three different kinds of device objects: the <bpt id=\"p3\">**</bpt>AssociationEndpoint<ept id=\"p3\">**</ept> (AEP), the <bpt id=\"p4\">**</bpt>AssociationEndpointContainer<ept id=\"p4\">**</ept> (AEP Container), and the <bpt id=\"p5\">**</bpt>AssociationEndpointService<ept id=\"p5\">**</ept> (AEP Service).","pos":[720,1028],"source":" In order to do so, the [**Windows.Devices.Enumeration**](https://msdn.microsoft.com/library/windows/apps/BR225459) APIs have three different kinds of device objects: the **AssociationEndpoint** (AEP), the **AssociationEndpointContainer** (AEP Container), and the **AssociationEndpointService** (AEP Service)."},{"content":"As a group these are referred to as AEPs or AEP objects.","pos":[1029,1085]},{"content":"Some device APIs provide a selector string that you can use to enumerate through the available AEP objects.","pos":[1087,1194]},{"content":"This could include both devices that are paired and are not paired with the system.","pos":[1195,1278]},{"content":"Some of the devices might not require pairing.","pos":[1279,1325]},{"content":"Those device APIs may attempt to pair the device if pairing it is necessary before interacting with it.","pos":[1326,1429]},{"content":"Wi-Fi Direct is an example of APIs that follow this pattern.","pos":[1430,1490]},{"content":"If those device APIs do not automatically pair the device, you can pair it using the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DeviceInformationPairing<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Mt168396)</ept> object available from <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>DeviceInformation.Pairing<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/Dn705960)</ept>.","pos":[1491,1777],"source":" If those device APIs do not automatically pair the device, you can pair it using the [**DeviceInformationPairing**](https://msdn.microsoft.com/library/windows/apps/Mt168396) object available from [**DeviceInformation.Pairing**](https://msdn.microsoft.com/library/windows/apps/Dn705960)."},{"content":"However, there may be cases where you want to manually discover devices on your own without using a pre-defined selector string.","pos":[1779,1907]},{"content":"For example, you may just need to gather information about AEP devices without interacting with them or you may want to find more AEP objects than will be discovered with the pre-defined selector string.","pos":[1908,2111]},{"content":"In this case, you will build your own selector string and use it following the instructions under <bpt id=\"p1\">[</bpt>Build a device selector<ept id=\"p1\">](build-a-device-selector.md)</ept>.","pos":[2112,2264],"source":" In this case, you will build your own selector string and use it following the instructions under [Build a device selector](build-a-device-selector.md)."},{"content":"When you build your own selector, it is strongly recommended that you limit your scope of enumeration to the protocols that you are interested in.","pos":[2266,2412]},{"content":"For example, you don't want to have the Wi-Fi radio search for Wi-Fi Direct devices if you are particularly interested in UPnP devices.","pos":[2413,2548]},{"content":"Windows has defined an identity for each protocol that you can use to scope your enumeration.","pos":[2549,2642]},{"content":"The following table lists the protocol types and identifiers.","pos":[2643,2704]},{"content":"Protocol or network device type","pos":[2708,2739]},{"content":"Id","pos":[2755,2757]},{"content":"UPnP (including DIAL and DLNA)","pos":[2896,2926]},{"content":"{0e261de4-12f0-46e6-91ba-428607ccef64}","pos":[2945,2983]},{"content":"Web services on devices (WSD)","pos":[2990,3019]},{"content":"{782232aa-a2f9-4993-971b-aedc551346b0}","pos":[3039,3077]},{"content":"Wi-Fi Direct","pos":[3084,3096]},{"content":"{0407d24e-53de-4c9a-9ba1-9ced54641188}","pos":[3133,3171]},{"content":"DNS service discovery (DNS-SD)","pos":[3178,3208]},{"content":"{4526e8c1-8aac-4153-9b16-55e86ada0e54}","pos":[3227,3265]},{"content":"Point of service","pos":[3272,3288]},{"content":"{d4bf61b3-442e-4ada-882d-fa7B70c832d9}","pos":[3321,3359]},{"content":"Network printers (active directory printers)","pos":[3366,3410]},{"content":"{37aba761-2124-454c-8d82-c42962c2de2b}","pos":[3415,3453]},{"content":"Windows connect now (WNC)","pos":[3460,3485]},{"content":"{4c1b1ef8-2f62-4b9f-9bc5-b21ab636138f}","pos":[3509,3547]},{"content":"WiGig docks","pos":[3554,3565]},{"content":"{a277f3a5-8764-4f88-8045-4c5e962640b1}","pos":[3603,3641]},{"content":"Wi-Fi provisioning for HP printers","pos":[3648,3682]},{"content":"{c85ef710-f344-4792-bb6d-85a4346f1e69}","pos":[3697,3735]},{"content":"Bluetooth","pos":[3742,3751]},{"content":"Not currently provided","pos":[3789,3811]},{"content":"Bluetooth LE","pos":[3836,3848]},{"content":"Not currently provided","pos":[3883,3905]},{"content":"AQS examples","pos":[3935,3947]},{"content":"Each AEP kind has a property you can use to constrain your enumeration to a specific protocol.","pos":[3949,4043]},{"content":"Keep in mind you can use the OR operator in an AQS filter to combine multiple protocols.","pos":[4044,4132]},{"content":"Here are some examples of AQS filter strings that show how to query for AEP devices.","pos":[4133,4217]},{"pos":[4219,4411],"content":"This AQS queries for all UPnP <bpt id=\"p1\">**</bpt>AssociationEndpoint<ept id=\"p1\">**</ept> objects when the <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>DeviceInformationKind<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/Dn948991)</ept> is set to <bpt id=\"p4\">**</bpt>AsssociationEndpoint<ept id=\"p4\">**</ept>.","source":"This AQS queries for all UPnP **AssociationEndpoint** objects when the [**DeviceInformationKind**](https://msdn.microsoft.com/library/windows/apps/Dn948991) is set to **AsssociationEndpoint**."},{"pos":[4501,4701],"content":"This AQS queries for all UPnP and WSD <bpt id=\"p1\">**</bpt>AssociationEndpoint<ept id=\"p1\">**</ept> objects when the <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>DeviceInformationKind<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/Dn948991)</ept> is set to <bpt id=\"p4\">**</bpt>AsssociationEndpoint<ept id=\"p4\">**</ept>.","source":"This AQS queries for all UPnP and WSD **AssociationEndpoint** objects when the [**DeviceInformationKind**](https://msdn.microsoft.com/library/windows/apps/Dn948991) is set to **AsssociationEndpoint**."},{"pos":[4867,5071],"content":"This AQS queries for all UPnP <bpt id=\"p1\">**</bpt>AssociationEndpointService<ept id=\"p1\">**</ept> objects if the <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>DeviceInformationKind<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/Dn948991)</ept> is set to <bpt id=\"p4\">**</bpt>AsssociationEndpointService<ept id=\"p4\">**</ept>.","source":"This AQS queries for all UPnP **AssociationEndpointService** objects if the [**DeviceInformationKind**](https://msdn.microsoft.com/library/windows/apps/Dn948991) is set to **AsssociationEndpointService**."},{"content":"This AQS queries <bpt id=\"p1\">**</bpt>AssociationEndpointContainer<ept id=\"p1\">**</ept> objects when the <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>DeviceInformationKind<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/Dn948991)</ept> is set to <bpt id=\"p4\">**</bpt>AssociationEndpointContainer<ept id=\"p4\">**</ept>, but only finds them by enumerating the UPnP protocol.","pos":[5168,5418],"source":"This AQS queries **AssociationEndpointContainer** objects when the [**DeviceInformationKind**](https://msdn.microsoft.com/library/windows/apps/Dn948991) is set to **AssociationEndpointContainer**, but only finds them by enumerating the UPnP protocol."},{"content":"Typically, it wouldn't be useful to enumerate containers that only come from one protocol.","pos":[5419,5509]},{"content":"However, this might be useful by limiting your filter to protocols where you know your device can be discovered.","pos":[5510,5622]}],"content":"# Enumerate devices over a network\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n\n** Important APIs **\n\n-   [**Windows.Devices.Enumeration**](https://msdn.microsoft.com/library/windows/apps/BR225459)\n\nIn addition to discovering locally connected devices, you can use the [**Windows.Devices.Enumeration**](https://msdn.microsoft.com/library/windows/apps/BR225459) APIs to enumerate devices over wireless and networked protocols.\n\n## Enumerating devices over networked or wireless protocols\n\nSometimes you need to enumerate devices that are not locally connected and can only be discovered over a wireless or networking protocols. In order to do so, the [**Windows.Devices.Enumeration**](https://msdn.microsoft.com/library/windows/apps/BR225459) APIs have three different kinds of device objects: the **AssociationEndpoint** (AEP), the **AssociationEndpointContainer** (AEP Container), and the **AssociationEndpointService** (AEP Service). As a group these are referred to as AEPs or AEP objects.\n\nSome device APIs provide a selector string that you can use to enumerate through the available AEP objects. This could include both devices that are paired and are not paired with the system. Some of the devices might not require pairing. Those device APIs may attempt to pair the device if pairing it is necessary before interacting with it. Wi-Fi Direct is an example of APIs that follow this pattern. If those device APIs do not automatically pair the device, you can pair it using the [**DeviceInformationPairing**](https://msdn.microsoft.com/library/windows/apps/Mt168396) object available from [**DeviceInformation.Pairing**](https://msdn.microsoft.com/library/windows/apps/Dn705960).\n\nHowever, there may be cases where you want to manually discover devices on your own without using a pre-defined selector string. For example, you may just need to gather information about AEP devices without interacting with them or you may want to find more AEP objects than will be discovered with the pre-defined selector string. In this case, you will build your own selector string and use it following the instructions under [Build a device selector](build-a-device-selector.md).\n\nWhen you build your own selector, it is strongly recommended that you limit your scope of enumeration to the protocols that you are interested in. For example, you don't want to have the Wi-Fi radio search for Wi-Fi Direct devices if you are particularly interested in UPnP devices. Windows has defined an identity for each protocol that you can use to scope your enumeration. The following table lists the protocol types and identifiers.\n\n| Protocol or network device type              | Id                                         |\n|----------------------------------------------|--------------------------------------------|\n| UPnP (including DIAL and DLNA)               | **{0e261de4-12f0-46e6-91ba-428607ccef64}** |\n| Web services on devices (WSD)                | **{782232aa-a2f9-4993-971b-aedc551346b0}** |\n| Wi-Fi Direct                                 | **{0407d24e-53de-4c9a-9ba1-9ced54641188}** |\n| DNS service discovery (DNS-SD)               | **{4526e8c1-8aac-4153-9b16-55e86ada0e54}** |\n| Point of service                             | **{d4bf61b3-442e-4ada-882d-fa7B70c832d9}** |\n| Network printers (active directory printers) | **{37aba761-2124-454c-8d82-c42962c2de2b}** |\n| Windows connect now (WNC)                    | **{4c1b1ef8-2f62-4b9f-9bc5-b21ab636138f}** |\n| WiGig docks                                  | **{a277f3a5-8764-4f88-8045-4c5e962640b1}** |\n| Wi-Fi provisioning for HP printers           | **{c85ef710-f344-4792-bb6d-85a4346f1e69}** |\n| Bluetooth                                    | Not currently provided                     |\n| Bluetooth LE                                 | Not currently provided                     |\n\n \n\n## AQS examples\n\nEach AEP kind has a property you can use to constrain your enumeration to a specific protocol. Keep in mind you can use the OR operator in an AQS filter to combine multiple protocols. Here are some examples of AQS filter strings that show how to query for AEP devices.\n\nThis AQS queries for all UPnP **AssociationEndpoint** objects when the [**DeviceInformationKind**](https://msdn.microsoft.com/library/windows/apps/Dn948991) is set to **AsssociationEndpoint**.\n\n``` syntax\nSystem.Devices.Aep.ProtocolId:=\"{0e261de4-12f0-46e6-91ba-428607ccef64}\"\n```\n\nThis AQS queries for all UPnP and WSD **AssociationEndpoint** objects when the [**DeviceInformationKind**](https://msdn.microsoft.com/library/windows/apps/Dn948991) is set to **AsssociationEndpoint**.\n\n``` syntax\nSystem.Devices.Aep.ProtocolId:=\"{782232aa-a2f9-4993-971b-aedc551346b0}\" OR \nSystem.Devices.Aep.ProtocolId:=\"{0e261de4-12f0-46e6-91ba-428607ccef64}\"\n```\n\nThis AQS queries for all UPnP **AssociationEndpointService** objects if the [**DeviceInformationKind**](https://msdn.microsoft.com/library/windows/apps/Dn948991) is set to **AsssociationEndpointService**.\n\n``` syntax\nSystem.Devices.AepService.ProtocolId:=\"{0e261de4-12f0-46e6-91ba-428607ccef64}\"\n```\n\nThis AQS queries **AssociationEndpointContainer** objects when the [**DeviceInformationKind**](https://msdn.microsoft.com/library/windows/apps/Dn948991) is set to **AssociationEndpointContainer**, but only finds them by enumerating the UPnP protocol. Typically, it wouldn't be useful to enumerate containers that only come from one protocol. However, this might be useful by limiting your filter to protocols where you know your device can be discovered.\n\n``` syntax\nSystem.Devices.AepContainer.ProtocolIds:~~\"{0e261de4-12f0-46e6-91ba-428607ccef64}\"\n```\n\n \n\n \n\n\n\n"}