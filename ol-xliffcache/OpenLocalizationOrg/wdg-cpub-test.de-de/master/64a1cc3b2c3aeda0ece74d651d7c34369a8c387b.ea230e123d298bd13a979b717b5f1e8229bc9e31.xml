{"nodes":[{"content":"Signing a Driver During Development and Testing","pos":[0,47]},{"content":"Before you install a driver on a computer running a 64-bit version of Windows, you must sign the driver package.","pos":[172,284]},{"content":"For testing purposes, you can test sign the driver package, which is a more relaxed form of signing than signing for public release.","pos":[285,417]},{"content":"In Microsoft Visual Studio, test signing is enabled by default.","pos":[419,482]},{"content":"Suppose you have created a KMDF driver solution as described in <bpt id=\"p1\">[</bpt>Writing a KMDF driver based on a template<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh439654)</ept>.","pos":[483,659],"source":" Suppose you have created a KMDF driver solution as described in [Writing a KMDF driver based on a template](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh439654)."},{"content":"When you build the solution, you can see in the <bpt id=\"p1\">**</bpt>Output<ept id=\"p1\">**</ept> window that the driver package has been test signed.","pos":[660,771],"source":" When you build the solution, you can see in the **Output** window that the driver package has been test signed."},{"pos":[775,966],"content":"Screen shot of the Output window<ph id=\"ph1\">](images/SigningADriver01.png)\n&lt;span id=\"enabling_test_signing_manually\"&gt;&lt;/span&gt;&lt;span id=\"ENABLING_TEST_SIGNING_MANUALLY\"&gt;&lt;/span&gt;</ph>Enabling test signing manually","source":"Screen shot of the Output window](images/SigningADriver01.png)\n<span id=\"enabling_test_signing_manually\"></span><span id=\"ENABLING_TEST_SIGNING_MANUALLY\"></span>Enabling test signing manually"},{"content":"To manually enable test signing, follow these steps.","pos":[1097,1149]},{"content":"In Visual Studio, open a solution that has a driver package project.","pos":[1155,1223]},{"content":"Right-click the driver package project, and choose <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.","pos":[1224,1290],"source":" Right-click the driver package project, and choose **Properties**."},{"content":"In the property pages for the package, navigate to <bpt id=\"p1\">**</bpt>Configuation Properties <ph id=\"ph1\">&amp;gt;</ph> Driver Signing <ph id=\"ph2\">&amp;gt;</ph> General<ept id=\"p1\">**</ept>.","pos":[1296,1408],"source":"In the property pages for the package, navigate to **Configuation Properties &gt; Driver Signing &gt; General**."},{"content":"In the <bpt id=\"p1\">**</bpt>Sign Mode<ept id=\"p1\">**</ept> drop-down list, select <bpt id=\"p2\">**</bpt>Test Sign<ept id=\"p2\">**</ept>.","pos":[1409,1467],"source":" In the **Sign Mode** drop-down list, select **Test Sign**."},{"content":"In the property pages for the package, navigate to <bpt id=\"p1\">**</bpt>Configuation Properties <ph id=\"ph1\">&amp;gt;</ph> Inf2Cat <ph id=\"ph2\">&amp;gt;</ph> General<ept id=\"p1\">**</ept>.","pos":[1473,1578],"source":"In the property pages for the package, navigate to **Configuation Properties &gt; Inf2Cat &gt; General**."},{"content":"In the <bpt id=\"p1\">**</bpt>Run Inf2Cat<ept id=\"p1\">**</ept> drop-down list, select <bpt id=\"p2\">**</bpt>Yes<ept id=\"p2\">**</ept>.","pos":[1579,1633],"source":" In the **Run Inf2Cat** drop-down list, select **Yes**."},{"pos":[1791,1824],"content":"Viewing the signed driver package"},{"content":"After you build your solution, navigate in File Explorer to the folder that contains your driver package.","pos":[2016,2121]},{"content":"One of the files in the package is a catalog file.","pos":[2122,2172]},{"content":"The catalog file contains the digital signature for the package.","pos":[2173,2237]},{"content":"For an example of viewing the files in a signed package, see <bpt id=\"p1\">[</bpt>Writing a KMDF driver based on a template<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh439654)</ept>.","pos":[2238,2411],"source":" For an example of viewing the files in a signed package, see [Writing a KMDF driver based on a template](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh439654)."},{"pos":[2557,2586],"content":"Sharing a signing certificate"},{"content":"When you test sign a driver package, Visual Studio creates a signing certificate (PFX file) and imports it into a certificate store on your host computer.","pos":[2762,2916]},{"content":"When you deploy your test-signed driver package to a test computer, Visual Studio copies a verification certificate (CER file) to the test computer.","pos":[2917,3065]},{"content":"If you want to share the certificate with developers who are building drivers on other host computers, you must share the signing certificate, not the verification certificate.","pos":[3066,3242]},{"content":"To share the signing certificate, follow these steps.","pos":[3244,3297]},{"pos":[3303,3421],"content":"In Visual Studio, in the Solution Explorer window, right-click your driver package project, and choose <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.","source":"In Visual Studio, in the Solution Explorer window, right-click your driver package project, and choose **Properties**."},{"content":"In the property pages for the package, navigate to <bpt id=\"p1\">**</bpt>Configuation Properties <ph id=\"ph1\">&amp;gt;</ph> Driver Signing <ph id=\"ph2\">&amp;gt;</ph> General<ept id=\"p1\">**</ept>.","pos":[3426,3538],"source":"In the property pages for the package, navigate to **Configuation Properties &gt; Driver Signing &gt; General**."},{"content":"In the <bpt id=\"p1\">**</bpt>Test Certificate<ept id=\"p1\">**</ept> field, choose <bpt id=\"p2\">**</bpt>Select From Store<ept id=\"p2\">**</ept>.","pos":[3539,3603],"source":" In the **Test Certificate** field, choose **Select From Store**."},{"content":"In the Select Certificate dialog box, locate your test-signing certificate.","pos":[3609,3684]},{"content":"The name of the certificate will be similar to WDKTestCert <bpt id=\"p1\">*</bpt>yourName<ept id=\"p1\">*</ept>.","pos":[3685,3755],"source":" The name of the certificate will be similar to WDKTestCert *yourName*."},{"content":"Select your test-signing certificate, and click <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.","pos":[3756,3819],"source":" Select your test-signing certificate, and click **Properties**."},{"content":"In the <bpt id=\"p1\">**</bpt>Details<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>Copy to File<ept id=\"p2\">**</ept>.","pos":[3820,3867],"source":" In the **Details** tab, click **Copy to File**."},{"content":"Follow the instructions in the Certificate Export Wizard to export a PFX file.","pos":[3872,3950]},{"content":"When you are asked whether you want to export the private key, select <bpt id=\"p1\">**</bpt>Yes, export the private key<ept id=\"p1\">**</ept>.","pos":[3951,4053],"source":" When you are asked whether you want to export the private key, select **Yes, export the private key**."},{"content":"Share the exported PFX file with the other developers.","pos":[4058,4112]},{"pos":[4147,4161],"content":"Related topics"},{"content":"Writing Your First Driver","pos":[4214,4239]},{"content":"Building a Driver","pos":[4312,4329]},{"content":"Developing, Testing, and Deploying Drivers","pos":[4356,4398]},{"pos":[4455,5423],"content":"<bpt id=\"p1\">[</bpt>Send comments about this topic to Microsoft<ept id=\"p1\">]</ept><bpt id=\"p2\">(mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Signing%20a%20Driver%20During%20Development%20and%20Testing%20%20RELEASE:%20%289/30/2015%29&amp;body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"</bpt>Send comments about this topic to Microsoft<ept id=\"p2\">\")</ept>","source":"[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Signing%20a%20Driver%20During%20Development%20and%20Testing%20%20RELEASE:%20%289/30/2015%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"Send comments about this topic to Microsoft\")"}],"content":"Signing a Driver During Development and Testing\n==========================================================================================================================\n\nBefore you install a driver on a computer running a 64-bit version of Windows, you must sign the driver package. For testing purposes, you can test sign the driver package, which is a more relaxed form of signing than signing for public release.\n\nIn Microsoft Visual Studio, test signing is enabled by default. Suppose you have created a KMDF driver solution as described in [Writing a KMDF driver based on a template](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh439654). When you build the solution, you can see in the **Output** window that the driver package has been test signed.\n\n![Screen shot of the Output window](images/SigningADriver01.png)\n<span id=\"enabling_test_signing_manually\"></span><span id=\"ENABLING_TEST_SIGNING_MANUALLY\"></span>Enabling test signing manually\n--------------------------------------------------------------------------------------------------------------------------------\n\nTo manually enable test signing, follow these steps.\n\n1.  In Visual Studio, open a solution that has a driver package project. Right-click the driver package project, and choose **Properties**.\n\n2.  In the property pages for the package, navigate to **Configuation Properties &gt; Driver Signing &gt; General**. In the **Sign Mode** drop-down list, select **Test Sign**.\n\n3.  In the property pages for the package, navigate to **Configuation Properties &gt; Inf2Cat &gt; General**. In the **Run Inf2Cat** drop-down list, select **Yes**.\n\n<span id=\"Viewing_the_signed_driver_package\"></span><span id=\"viewing_the_signed_driver_package\"></span><span id=\"VIEWING_THE_SIGNED_DRIVER_PACKAGE\"></span>Viewing the signed driver package\n---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nAfter you build your solution, navigate in File Explorer to the folder that contains your driver package. One of the files in the package is a catalog file. The catalog file contains the digital signature for the package. For an example of viewing the files in a signed package, see [Writing a KMDF driver based on a template](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh439654).\n\n<span id=\"Sharing_a_signing_certificate\"></span><span id=\"sharing_a_signing_certificate\"></span><span id=\"SHARING_A_SIGNING_CERTIFICATE\"></span>Sharing a signing certificate\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nWhen you test sign a driver package, Visual Studio creates a signing certificate (PFX file) and imports it into a certificate store on your host computer. When you deploy your test-signed driver package to a test computer, Visual Studio copies a verification certificate (CER file) to the test computer. If you want to share the certificate with developers who are building drivers on other host computers, you must share the signing certificate, not the verification certificate.\n\nTo share the signing certificate, follow these steps.\n\n-   In Visual Studio, in the Solution Explorer window, right-click your driver package project, and choose **Properties**.\n-   In the property pages for the package, navigate to **Configuation Properties &gt; Driver Signing &gt; General**. In the **Test Certificate** field, choose **Select From Store**.\n\n-   In the Select Certificate dialog box, locate your test-signing certificate. The name of the certificate will be similar to WDKTestCert *yourName*. Select your test-signing certificate, and click **Properties**. In the **Details** tab, click **Copy to File**.\n-   Follow the instructions in the Certificate Export Wizard to export a PFX file. When you are asked whether you want to export the private key, select **Yes, export the private key**.\n-   Share the exported PFX file with the other developers.\n\n<span id=\"related_topics\"></span>Related topics\n-----------------------------------------------\n\n* [Writing Your First Driver](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff554811)\n* [Building a Driver](building_a_driver.md)\n* [Developing, Testing, and Deploying Drivers](visual_studio_driver_development_environment.md)\n \n\n \n\n[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Signing%20a%20Driver%20During%20Development%20and%20Testing%20%20RELEASE:%20%289/30/2015%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"Send comments about this topic to Microsoft\")\n\n\n"}