{"nodes":[{"pos":[85,184],"content":"You can use the Windows.Media.Transcoding APIs to transcode video files from one format to another.","needQuote":true,"needEscape":true,"nodes":[{"content":"You can use the Windows.Media.Transcoding APIs to transcode video files from one format to another.","pos":[0,99]}]},{"pos":[192,213],"content":"Transcode media files","needQuote":true,"needEscape":true,"nodes":[{"content":"Transcode media files","pos":[0,21]}]},{"content":"Transcode media files","pos":[221,242]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[244,282]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[283,378],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"pos":[381,544],"content":"You can use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Media.Transcoding<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br207105)</ept> APIs to transcode video files from one format to another.","source":"You can use the [**Windows.Media.Transcoding**](https://msdn.microsoft.com/library/windows/apps/br207105) APIs to transcode video files from one format to another."},{"content":"<bpt id=\"p1\">*</bpt>Transcoding<ept id=\"p1\">*</ept> is the conversion of a digital media file, such as a video or audio file, from one format to another.","pos":[546,661],"source":"*Transcoding* is the conversion of a digital media file, such as a video or audio file, from one format to another."},{"content":"This is usually done by decoding and then re-encoding the file.","pos":[662,725]},{"content":"For example, you might convert a Windows Media file to MP4 so that it can be played on a portable device that supports MP4 format.","pos":[726,856]},{"content":"Or, you might convert a high-definition video file to a lower resolution.","pos":[857,930]},{"content":"In that case, the re-encoded file might use the same codec as the original file, but it would have a different encoding profile.","pos":[931,1059]},{"content":"Set up your project for transcoding","pos":[1064,1099]},{"content":"In addition to the namespaces referenced by the default project template, you will need to reference these namespaces in order to transcode media files using the code in this article.","pos":[1101,1284]},{"pos":[1296,1301],"content":"Using"},{"content":"Select source and destination files","pos":[1364,1399]},{"content":"The way that your app determines the source and destination files for transcoding depends on your implementation.","pos":[1401,1514]},{"content":"This example uses a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>FileOpenPicker<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br207847)</ept> and a <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>FileSavePicker<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br207871)</ept> to allow the user to pick a source and a destination file.","pos":[1515,1757],"source":" This example uses a [**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847) and a [**FileSavePicker**](https://msdn.microsoft.com/library/windows/apps/br207871) to allow the user to pick a source and a destination file."},{"pos":[1769,1785],"content":"TranscodeGetFile"},{"content":"Create a media encoding profile","pos":[1859,1890]},{"content":"The encoding profile contains the settings that determine how the destination file will be encoded.","pos":[1892,1991]},{"content":"This is where you have the greatest number of options when you transcode a file.","pos":[1992,2072]},{"pos":[2074,2235],"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>MediaEncodingProfile<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701026)</ept> class provides static methods for creating predefined encoding profiles:","source":"The [**MediaEncodingProfile**](https://msdn.microsoft.com/library/windows/apps/hh701026) class provides static methods for creating predefined encoding profiles:"},{"content":"Wav","pos":[2241,2244]},{"content":"AAC audio (M4A)","pos":[2249,2264]},{"content":"MP3 audio","pos":[2269,2278]},{"content":"Windows Media Audio (WMA)","pos":[2283,2308]},{"content":"Avi","pos":[2313,2316]},{"content":"MP4 video (H.264 video plus AAC audio)","pos":[2321,2359]},{"content":"Windows Media Video (WMV)","pos":[2364,2389]},{"content":"The first four profiles in this list contain audio only.","pos":[2391,2447]},{"content":"The other three contain video and audio.","pos":[2448,2488]},{"content":"The following code creates a profile for MP4 video.","pos":[2490,2541]},{"pos":[2553,2574],"content":"TranscodeMediaProfile"},{"content":"The static <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>CreateMp4<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701078)</ept> method creates an MP4 encoding profile.","pos":[2650,2774],"source":"The static [**CreateMp4**](https://msdn.microsoft.com/library/windows/apps/hh701078) method creates an MP4 encoding profile."},{"content":"The parameter for this method gives the target resolution for the video.","pos":[2775,2847]},{"content":"In this case, <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>VideoEncodingQuality.hd720p<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701290)</ept> means 1280 x 720 pixels at 30 frames per second.","pos":[2848,3002],"source":" In this case, [**VideoEncodingQuality.hd720p**](https://msdn.microsoft.com/library/windows/apps/hh701290) means 1280 x 720 pixels at 30 frames per second."},{"content":"(\"720p\" stands for 720 progressive scan lines per frame.) The other methods for creating predefined profiles all follow this pattern.","pos":[3003,3136]},{"content":"Alternatively, you can create a profile that matches an existing media file by using the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>MediaEncodingProfile.CreateFromFileAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701047)</ept> method.","pos":[3138,3339],"source":"Alternatively, you can create a profile that matches an existing media file by using the [**MediaEncodingProfile.CreateFromFileAsync**](https://msdn.microsoft.com/library/windows/apps/hh701047) method."},{"content":"Or, if you know the exact encoding settings that you want, you can create a new <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>MediaEncodingProfile<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701026)</ept> object and fill in the profile details.","pos":[3340,3544],"source":" Or, if you know the exact encoding settings that you want, you can create a new [**MediaEncodingProfile**](https://msdn.microsoft.com/library/windows/apps/hh701026) object and fill in the profile details."},{"content":"Transcode the file","pos":[3549,3567]},{"content":"To transcode the file, create a new <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>MediaTranscoder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br207080)</ept> object and call the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>MediaTranscoder.PrepareFileTranscodeAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh700936)</ept> method.","pos":[3569,3818],"source":"To transcode the file, create a new [**MediaTranscoder**](https://msdn.microsoft.com/library/windows/apps/br207080) object and call the [**MediaTranscoder.PrepareFileTranscodeAsync**](https://msdn.microsoft.com/library/windows/apps/hh700936) method."},{"content":"Pass in the source file, the destination file, and the encoding profile.","pos":[3819,3891]},{"content":"Then call the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TranscodeAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh700946)</ept> method on the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>PrepareTranscodeResult<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh700941)</ept> object that was returned from the async transcode operation.","pos":[3892,4146],"source":" Then call the [**TranscodeAsync**](https://msdn.microsoft.com/library/windows/apps/hh700946) method on the [**PrepareTranscodeResult**](https://msdn.microsoft.com/library/windows/apps/hh700941) object that was returned from the async transcode operation."},{"pos":[4158,4180],"content":"TranscodeTranscodeFile"},{"content":"Respond to transcoding progress","pos":[4260,4291]},{"content":"You can register events to respond when the progress of the asynchronous <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>TranscodeAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh700946)</ept> changes.","pos":[4293,4453],"source":"You can register events to respond when the progress of the asynchronous [**TranscodeAsync**](https://msdn.microsoft.com/library/windows/apps/hh700946) changes."},{"content":"These events are part of the async programming framework for Universal Windows Platform (UWP) apps and are not specific to the transcoding API.","pos":[4454,4597]},{"pos":[4609,4627],"content":"TranscodeCallbacks"}],"content":"---\nauthor: drewbatgit\nms.assetid: A1A0D99A-DCBF-4A14-80B9-7106BEF045EC\ndescription: You can use the Windows.Media.Transcoding APIs to transcode video files from one format to another.\ntitle: Transcode media files\n---\n\n# Transcode media files\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n\nYou can use the [**Windows.Media.Transcoding**](https://msdn.microsoft.com/library/windows/apps/br207105) APIs to transcode video files from one format to another.\n\n*Transcoding* is the conversion of a digital media file, such as a video or audio file, from one format to another. This is usually done by decoding and then re-encoding the file. For example, you might convert a Windows Media file to MP4 so that it can be played on a portable device that supports MP4 format. Or, you might convert a high-definition video file to a lower resolution. In that case, the re-encoded file might use the same codec as the original file, but it would have a different encoding profile.\n\n## Set up your project for transcoding\n\nIn addition to the namespaces referenced by the default project template, you will need to reference these namespaces in order to transcode media files using the code in this article.\n\n[!code-cs[Using](./code/TranscodeWin10/cs/MainPage.xaml.cs#SnippetUsing)]\n\n## Select source and destination files\n\nThe way that your app determines the source and destination files for transcoding depends on your implementation. This example uses a [**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847) and a [**FileSavePicker**](https://msdn.microsoft.com/library/windows/apps/br207871) to allow the user to pick a source and a destination file.\n\n[!code-cs[TranscodeGetFile](./code/TranscodeWin10/cs/MainPage.xaml.cs#SnippetTranscodeGetFile)]\n\n## Create a media encoding profile\n\nThe encoding profile contains the settings that determine how the destination file will be encoded. This is where you have the greatest number of options when you transcode a file.\n\nThe [**MediaEncodingProfile**](https://msdn.microsoft.com/library/windows/apps/hh701026) class provides static methods for creating predefined encoding profiles:\n\n-   Wav\n-   AAC audio (M4A)\n-   MP3 audio\n-   Windows Media Audio (WMA)\n-   Avi\n-   MP4 video (H.264 video plus AAC audio)\n-   Windows Media Video (WMV)\n\nThe first four profiles in this list contain audio only. The other three contain video and audio.\n\nThe following code creates a profile for MP4 video.\n\n[!code-cs[TranscodeMediaProfile](./code/TranscodeWin10/cs/MainPage.xaml.cs#SnippetTranscodeMediaProfile)]\n\nThe static [**CreateMp4**](https://msdn.microsoft.com/library/windows/apps/hh701078) method creates an MP4 encoding profile. The parameter for this method gives the target resolution for the video. In this case, [**VideoEncodingQuality.hd720p**](https://msdn.microsoft.com/library/windows/apps/hh701290) means 1280 x 720 pixels at 30 frames per second. (\"720p\" stands for 720 progressive scan lines per frame.) The other methods for creating predefined profiles all follow this pattern.\n\nAlternatively, you can create a profile that matches an existing media file by using the [**MediaEncodingProfile.CreateFromFileAsync**](https://msdn.microsoft.com/library/windows/apps/hh701047) method. Or, if you know the exact encoding settings that you want, you can create a new [**MediaEncodingProfile**](https://msdn.microsoft.com/library/windows/apps/hh701026) object and fill in the profile details.\n\n## Transcode the file\n\nTo transcode the file, create a new [**MediaTranscoder**](https://msdn.microsoft.com/library/windows/apps/br207080) object and call the [**MediaTranscoder.PrepareFileTranscodeAsync**](https://msdn.microsoft.com/library/windows/apps/hh700936) method. Pass in the source file, the destination file, and the encoding profile. Then call the [**TranscodeAsync**](https://msdn.microsoft.com/library/windows/apps/hh700946) method on the [**PrepareTranscodeResult**](https://msdn.microsoft.com/library/windows/apps/hh700941) object that was returned from the async transcode operation.\n\n[!code-cs[TranscodeTranscodeFile](./code/TranscodeWin10/cs/MainPage.xaml.cs#SnippetTranscodeTranscodeFile)]\n\n## Respond to transcoding progress\n\nYou can register events to respond when the progress of the asynchronous [**TranscodeAsync**](https://msdn.microsoft.com/library/windows/apps/hh700946) changes. These events are part of the async programming framework for Universal Windows Platform (UWP) apps and are not specific to the transcoding API.\n\n[!code-cs[TranscodeCallbacks](./code/TranscodeWin10/cs/MainPage.xaml.cs#SnippetTranscodeCallbacks)]\n\n \n\n \n\n\n\n\n"}