{"nodes":[{"content":"Use the accelerometer","pos":[2,23]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[25,63]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[64,159],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"content":"** Important APIs **","pos":[161,181]},{"content":"Windows.Devices.Sensors","pos":[190,213]},{"content":"Accelerometer","pos":[282,295]},{"content":"\\[Some information relates to pre-released product which may be substantially modified before it's commercially released.","pos":[358,479]},{"content":"Microsoft makes no warranties, express or implied, with respect to the information provided here.\\]","pos":[480,579]},{"content":"Learn how to use the accelerometer to respond to user movement.","pos":[581,644]},{"content":"A simple game app relies on a single sensor, the accelerometer, as an input device.","pos":[646,729]},{"content":"These apps typically use only one or two axes for input; but they may also use the shake event as another input source.","pos":[730,849]},{"content":"Prerequisites","pos":[854,867]},{"content":"You should be familiar with Extensible Application Markup Language (XAML), Microsoft Visual C\\#, and events.","pos":[869,977]},{"content":"The device or emulator that you're using must support an accelerometer.","pos":[979,1050]},{"content":"Create a simple accelerometer app","pos":[1055,1088]},{"content":"This section is divided into two subsections.","pos":[1090,1135]},{"content":"The first subsection will take you through the steps necessary to create a simple accelerometer application from scratch.","pos":[1136,1257]},{"content":"The following subsection explains the app you have just created.","pos":[1258,1322]},{"content":"Instructions","pos":[1328,1340]},{"pos":[1346,1455],"content":"Create a new project, choosing a <bpt id=\"p1\">**</bpt>Blank App (Universal Windows)<ept id=\"p1\">**</ept> from the <bpt id=\"p2\">**</bpt>Visual C\\#<ept id=\"p2\">**</ept> project templates.","source":"Create a new project, choosing a **Blank App (Universal Windows)** from the **Visual C\\#** project templates."},{"content":"Open your project's MainPage.xaml.cs file and replace the existing code with the following.","pos":[1461,1552]},{"content":"You'll need to rename the namespace in the previous snippet with the name you gave your project.","pos":[3817,3913]},{"content":"For example, if you created a project named <bpt id=\"p1\">**</bpt>AccelerometerCS<ept id=\"p1\">**</ept>, you'd replace <ph id=\"ph1\">`namespace App1`</ph> with <ph id=\"ph2\">`namespace AccelerometerCS`</ph>.","pos":[3914,4043],"source":" For example, if you created a project named **AccelerometerCS**, you'd replace `namespace App1` with `namespace AccelerometerCS`."},{"content":"Open the file MainPage.xaml and replace the original contents with the following XML.","pos":[4049,4134]},{"content":"You'll need to replace the first part of the class name in the previous snippet with the namespace of your app.","pos":[5739,5850]},{"content":"For example, if you created a project named <bpt id=\"p1\">**</bpt>AccelerometerCS<ept id=\"p1\">**</ept>, you'd replace <ph id=\"ph1\">`x:Class=\"App1.MainPage\"`</ph> with <ph id=\"ph2\">`x:Class=\"AccelerometerCS.MainPage\"`</ph>.","pos":[5851,5998],"source":" For example, if you created a project named **AccelerometerCS**, you'd replace `x:Class=\"App1.MainPage\"` with `x:Class=\"AccelerometerCS.MainPage\"`."},{"content":"You should also replace <ph id=\"ph1\">`xmlns:local=\"using:App1\"`</ph> with <ph id=\"ph2\">`xmlns:local=\"using:AccelerometerCS\"`</ph>.","pos":[5999,6093],"source":" You should also replace `xmlns:local=\"using:App1\"` with `xmlns:local=\"using:AccelerometerCS\"`."},{"pos":[6099,6187],"content":"Press F5 or select <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Start Debugging<ept id=\"p2\">**</ept> to build, deploy, and run the app.","source":"Press F5 or select **Debug** &gt; **Start Debugging** to build, deploy, and run the app."},{"content":"Once the app is running, you can change the accelerometer values by moving the device or using the emulator tools.","pos":[6189,6303]},{"pos":[6309,6434],"content":"Stop the app by returning to Visual Studio and pressing Shift+F5 or select <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Stop Debugging<ept id=\"p2\">**</ept> to stop the app.","source":"Stop the app by returning to Visual Studio and pressing Shift+F5 or select **Debug** &gt; **Stop Debugging** to stop the app."},{"content":"Explanation","pos":[6440,6451]},{"content":"The previous example demonstrates how little code you'll need to write in order to integrate accelerometer input in your app.","pos":[6453,6578]},{"pos":[6580,6671],"content":"The app establishes a connection with the default accelerometer in the <bpt id=\"p1\">**</bpt>MainPage<ept id=\"p1\">**</ept> method.","source":"The app establishes a connection with the default accelerometer in the **MainPage** method."},{"content":"The app establishes the report interval within the <bpt id=\"p1\">**</bpt>MainPage<ept id=\"p1\">**</ept> method.","pos":[6733,6804],"source":"The app establishes the report interval within the **MainPage** method."},{"content":"This code retrieves the minimum interval supported by the device and compares it to a requested interval of 16 milliseconds (which approximates a 60-Hz refresh rate).","pos":[6805,6971]},{"content":"If the minimum supported interval is greater than the requested interval, the code sets the value to the minimum.","pos":[6972,7085]},{"content":"Otherwise, it sets the value to the requested interval.","pos":[7086,7141]},{"content":"The new accelerometer data is captured in the <bpt id=\"p1\">**</bpt>ReadingChanged<ept id=\"p1\">**</ept> method.","pos":[7340,7412],"source":"The new accelerometer data is captured in the **ReadingChanged** method."},{"content":"Each time the sensor driver receives new data from the sensor, it passes the values to your app using this event handler.","pos":[7413,7534]},{"content":"The app registers this event handler on the following line.","pos":[7535,7594]},{"content":"These new values are written to the TextBlocks found in the project's XAML.","pos":[7737,7812]},{"content":"Related topics","pos":[8382,8396]},{"content":"Accelerometer Sample","pos":[8401,8421]}],"content":"# Use the accelerometer\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n** Important APIs **\n\n-   [**Windows.Devices.Sensors**](https://msdn.microsoft.com/library/windows/apps/BR206408)\n-   [**Accelerometer**](https://msdn.microsoft.com/library/windows/apps/BR225687)\n\n\\[Some information relates to pre-released product which may be substantially modified before it's commercially released. Microsoft makes no warranties, express or implied, with respect to the information provided here.\\]\n\nLearn how to use the accelerometer to respond to user movement.\n\nA simple game app relies on a single sensor, the accelerometer, as an input device. These apps typically use only one or two axes for input; but they may also use the shake event as another input source.\n\n## Prerequisites\n\nYou should be familiar with Extensible Application Markup Language (XAML), Microsoft Visual C\\#, and events.\n\nThe device or emulator that you're using must support an accelerometer.\n\n## Create a simple accelerometer app\n\nThis section is divided into two subsections. The first subsection will take you through the steps necessary to create a simple accelerometer application from scratch. The following subsection explains the app you have just created.\n\n### Instructions\n\n-   Create a new project, choosing a **Blank App (Universal Windows)** from the **Visual C\\#** project templates.\n\n-   Open your project's MainPage.xaml.cs file and replace the existing code with the following.\n\n```csharp\n    using System;\n    using System.Collections.Generic;\n    using System.IO;\n    using System.Linq;\n    using Windows.Foundation;\n    using Windows.Foundation.Collections;\n    using Windows.UI.Xaml;\n    using Windows.UI.Xaml.Controls;\n    using Windows.UI.Xaml.Controls.Primitives;\n    using Windows.UI.Xaml.Data;\n    using Windows.UI.Xaml.Input;\n    using Windows.UI.Xaml.Media;\n    using Windows.UI.Xaml.Navigation;\n\n    // Required to support the core dispatcher and the accelerometer\n\n    using Windows.UI.Core;\n    using Windows.Devices.Sensors;\n\n    namespace App1\n    {\n\n        public sealed partial class MainPage : Page\n        {\n            // Sensor and dispatcher variables\n            private Accelerometer _accelerometer;\n\n            // This event handler writes the current accelerometer reading to \n            // the three acceleration text blocks on the app&#39;s main page.\n\n            private async void ReadingChanged(object sender, AccelerometerReadingChangedEventArgs e)\n            {\n                await Dispatcher.RunAsync(CoreDispatcherPriority.Normal, () =>\n                {\n                    AccelerometerReading reading = e.Reading;\n                    txtXAxis.Text = String.Format(\"{0,5:0.00}\", reading.AccelerationX);\n                    txtYAxis.Text = String.Format(\"{0,5:0.00}\", reading.AccelerationY);\n                    txtZAxis.Text = String.Format(\"{0,5:0.00}\", reading.AccelerationZ);\n\n                });\n            }\n\n            public MainPage()\n            {\n                this.InitializeComponent();\n                _accelerometer = Accelerometer.GetDefault();\n\n                if (_accelerometer != null)\n                {\n                    // Establish the report interval\n                    uint minReportInterval = _accelerometer.MinimumReportInterval;\n                    uint reportInterval = minReportInterval > 16 ? minReportInterval : 16;\n                    _accelerometer.ReportInterval = reportInterval;\n\n                    // Assign an event handler for the reading-changed event\n                    _accelerometer.ReadingChanged += new TypedEventHandler<Accelerometer, AccelerometerReadingChangedEventArgs>(ReadingChanged);\n                }\n            }\n        }\n    }\n```\n\nYou'll need to rename the namespace in the previous snippet with the name you gave your project. For example, if you created a project named **AccelerometerCS**, you'd replace `namespace App1` with `namespace AccelerometerCS`.\n\n-   Open the file MainPage.xaml and replace the original contents with the following XML.\n\n```xml\n        <Page\n        x:Class=\"App1.MainPage\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:local=\"using:App1\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        mc:Ignorable=\"d\">\n\n        <Grid x:Name=\"LayoutRoot\" Background=\"#FF0C0C0C\">\n            <TextBlock HorizontalAlignment=\"Left\" Height=\"25\" Margin=\"8,20,0,0\" TextWrapping=\"Wrap\" Text=\"X-axis:\" VerticalAlignment=\"Top\" Width=\"62\" Foreground=\"#FFEDE6E6\"/>\n            <TextBlock HorizontalAlignment=\"Left\" Height=\"27\" Margin=\"8,49,0,0\" TextWrapping=\"Wrap\" Text=\"Y-axis:\" VerticalAlignment=\"Top\" Width=\"62\" Foreground=\"#FFF5F2F2\"/>\n            <TextBlock HorizontalAlignment=\"Left\" Height=\"23\" Margin=\"8,80,0,0\" TextWrapping=\"Wrap\" Text=\"Z-axis:\" VerticalAlignment=\"Top\" Width=\"62\" Foreground=\"#FFF6F0F0\"/>\n            <TextBlock x:Name=\"txtXAxis\" HorizontalAlignment=\"Left\" Height=\"15\" Margin=\"70,16,0,0\" TextWrapping=\"Wrap\" Text=\"TextBlock\" VerticalAlignment=\"Top\" Width=\"61\" Foreground=\"#FFF2F2F2\"/>\n            <TextBlock x:Name=\"txtYAxis\" HorizontalAlignment=\"Left\" Height=\"15\" Margin=\"70,49,0,0\" TextWrapping=\"Wrap\" Text=\"TextBlock\" VerticalAlignment=\"Top\" Width=\"53\" Foreground=\"#FFF2EEEE\"/>\n            <TextBlock x:Name=\"txtZAxis\" HorizontalAlignment=\"Left\" Height=\"15\" Margin=\"70,80,0,0\" TextWrapping=\"Wrap\" Text=\"TextBlock\" VerticalAlignment=\"Top\" Width=\"53\" Foreground=\"#FFFFF8F8\"/>\n\n        </Grid>\n    </Page>\n```\n\nYou'll need to replace the first part of the class name in the previous snippet with the namespace of your app. For example, if you created a project named **AccelerometerCS**, you'd replace `x:Class=\"App1.MainPage\"` with `x:Class=\"AccelerometerCS.MainPage\"`. You should also replace `xmlns:local=\"using:App1\"` with `xmlns:local=\"using:AccelerometerCS\"`.\n\n-   Press F5 or select **Debug** &gt; **Start Debugging** to build, deploy, and run the app.\n\nOnce the app is running, you can change the accelerometer values by moving the device or using the emulator tools.\n\n-   Stop the app by returning to Visual Studio and pressing Shift+F5 or select **Debug** &gt; **Stop Debugging** to stop the app.\n\n### Explanation\n\nThe previous example demonstrates how little code you'll need to write in order to integrate accelerometer input in your app.\n\nThe app establishes a connection with the default accelerometer in the **MainPage** method.\n\n```csharp\n_accelerometer = Accelerometer.GetDefault();\n```\n\nThe app establishes the report interval within the **MainPage** method. This code retrieves the minimum interval supported by the device and compares it to a requested interval of 16 milliseconds (which approximates a 60-Hz refresh rate). If the minimum supported interval is greater than the requested interval, the code sets the value to the minimum. Otherwise, it sets the value to the requested interval.\n\n```csharp\nuint minReportInterval = _accelerometer.MinimumReportInterval;\nuint reportInterval = minReportInterval > 16 ? minReportInterval : 16;\n_accelerometer.ReportInterval = reportInterval;\n```\n\nThe new accelerometer data is captured in the **ReadingChanged** method. Each time the sensor driver receives new data from the sensor, it passes the values to your app using this event handler. The app registers this event handler on the following line.\n\n```csharp\n_accelerometer.ReadingChanged += new TypedEventHandler<Accelerometer, \nAccelerometerReadingChangedEventArgs>(ReadingChanged);\n```\n\nThese new values are written to the TextBlocks found in the project's XAML.\n\n```xml\n<TextBlock x:Name=\"txtXAxis\" HorizontalAlignment=\"Left\" Height=\"15\" Margin=\"70,16,0,0\" TextWrapping=\"Wrap\" Text=\"TextBlock\" VerticalAlignment=\"Top\" Width=\"61\" Foreground=\"#FFF2F2F2\"/>\n <TextBlock x:Name=\"txtYAxis\" HorizontalAlignment=\"Left\" Height=\"15\" Margin=\"70,49,0,0\" TextWrapping=\"Wrap\" Text=\"TextBlock\" VerticalAlignment=\"Top\" Width=\"53\" Foreground=\"#FFF2EEEE\"/>\n <TextBlock x:Name=\"txtZAxis\" HorizontalAlignment=\"Left\" Height=\"15\" Margin=\"70,80,0,0\" TextWrapping=\"Wrap\" Text=\"TextBlock\" VerticalAlignment=\"Top\" Width=\"53\" Foreground=\"#FFFFF8F8\"/>\n```\n## Related topics\n\n* [Accelerometer Sample](http://go.microsoft.com/fwlink/p/?linkid=241377)\n"}