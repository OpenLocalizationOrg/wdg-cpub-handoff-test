{"nodes":[{"pos":[11,39],"content":"xDeferLoadStrategy attribute","needQuote":true,"needEscape":true,"nodes":[{"content":"xDeferLoadStrategy attribute","pos":[0,28]}]},{"pos":[53,249],"content":"xDeferLoadStrategy delays the creation of an element and its children, decreasing startup time but increasing memory usage slightly. Each element affected adds about 600 bytes to the memory usage.","needQuote":true,"needEscape":true,"nodes":[{"content":"xDeferLoadStrategy delays the creation of an element and its children, decreasing startup time but increasing memory usage slightly. Each element affected adds about 600 bytes to the memory usage.","pos":[0,196],"nodes":[{"content":"xDeferLoadStrategy delays the creation of an element and its children, decreasing startup time but increasing memory usage slightly.","pos":[0,132]},{"content":"Each element affected adds about 600 bytes to the memory usage.","pos":[133,196]}]}]},{"content":"x:DeferLoadStrategy attribute","pos":[306,335]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[337,375]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[376,471],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"content":"<bpt id=\"p1\">**</bpt>x:DeferLoadStrategy=\"Lazy\"<ept id=\"p1\">**</ept> delays the creation of an element and its children, decreasing startup time but increasing memory usage slightly.","pos":[473,617],"source":"**x:DeferLoadStrategy=\"Lazy\"** delays the creation of an element and its children, decreasing startup time but increasing memory usage slightly."},{"content":"Each element affected adds about 600 bytes to the memory usage.","pos":[618,681]},{"content":"The larger the element tree you defer, the more startup time you'll save, but at the cost of a greater memory footprint.","pos":[682,802]},{"content":"Therefore it's possible to overuse this attribute to the extent that your performance decreases.","pos":[803,899]},{"content":"XAML attribute usage","pos":[904,924]},{"content":"Remarks","pos":[986,993]},{"pos":[995,1050],"content":"The restrictions for using <bpt id=\"p1\">**</bpt>x:DeferLoadStrategy<ept id=\"p1\">**</ept> are:","source":"The restrictions for using **x:DeferLoadStrategy** are:"},{"pos":[1056,1160],"content":"Requires an <bpt id=\"p1\">[</bpt>x:Name<ept id=\"p1\">](x-name-attribute.md)</ept> defined, as there needs to be a way to find the element later.","source":"Requires an [x:Name](x-name-attribute.md) defined, as there needs to be a way to find the element later."},{"pos":[1165,1390],"content":"Only a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>UIElement<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208911)</ept> can be marked as deferred, with the exception of types deriving from <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>FlyoutBase<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn279249)</ept>.","source":"Only a [**UIElement**](https://msdn.microsoft.com/library/windows/apps/br208911) can be marked as deferred, with the exception of types deriving from [**FlyoutBase**](https://msdn.microsoft.com/library/windows/apps/dn279249)."},{"pos":[1395,1728],"content":"Root elements can not be deferred in a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Page<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.page)</ept>, a <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>UserControls<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.usercontrol)</ept>, nor a <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>DataTemplate<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/br242348)</ept>.","source":"Root elements can not be deferred in a [**Page**](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.page), a [**UserControls**](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.usercontrol), nor a [**DataTemplate**](https://msdn.microsoft.com/library/windows/apps/br242348)."},{"pos":[1733,1849],"content":"Elements in a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ResourceDictionary<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208794)</ept> cannot be deferred.","source":"Elements in a [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794) cannot be deferred."},{"pos":[1854,1976],"content":"Does not work with loose XAML loaded with <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>XamlReader.Load<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br228048)</ept>.","source":"Does not work with loose XAML loaded with [**XamlReader.Load**](https://msdn.microsoft.com/library/windows/apps/br228048)."},{"content":"Moving a parent element will clear out any elements that have not been realized.","pos":[1981,2061]},{"content":"There are several different ways to realize the deferred elements:","pos":[2063,2129]},{"pos":[2135,2259],"content":"Call <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>FindName<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208715)</ept> with the name that was defined on the element.","source":"Call [**FindName**](https://msdn.microsoft.com/library/windows/apps/br208715) with the name that was defined on the element."},{"pos":[2264,2396],"content":"Call <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetTemplateChild<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br209416)</ept> with the name that was defined on the element.","source":"Call [**GetTemplateChild**](https://msdn.microsoft.com/library/windows/apps/br209416) with the name that was defined on the element."},{"pos":[2401,2627],"content":"In a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>VisualState<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br209007)</ept>, use a <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Setter<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br208817)</ept> or <bpt id=\"p5\">**</bpt>Storyboard<ept id=\"p5\">**</ept> animation that is targeting the deferred element.","source":"In a [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007), use a [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817) or **Storyboard** animation that is targeting the deferred element."},{"pos":[2632,2682],"content":"Target the deferred element in any <bpt id=\"p1\">**</bpt>Storyboard<ept id=\"p1\">**</ept>.","source":"Target the deferred element in any **Storyboard**."},{"content":"Use a binding that is targeting the deferred element.","pos":[2687,2740]},{"content":"NOTE: Once the instantiation of an element has started, it is created on the UI thread, so it could cause the UI to stutter if too much is created at once.","pos":[2745,2900]},{"content":"Once a deferred element is created by any of the methods listed above, several things will happen:","pos":[2902,3000]},{"pos":[3006,3118],"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Loaded<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208723)</ept> event on the element will get raised.","source":"The [**Loaded**](https://msdn.microsoft.com/library/windows/apps/br208723) event on the element will get raised."},{"content":"Any bindings on the element will get evaluated.","pos":[3123,3170]},{"content":"If the application has registered to receive property change notifications on the property containing the deferred element(s), the notification will be raised.","pos":[3175,3334]},{"content":"You can nest deferred elements, however they have to be realized from the outer-most element in.","pos":[3336,3432]},{"content":"If you try to realize a child element before the parent has been realized, an exception will be raised.","pos":[3434,3537]},{"content":"In general, the recommendation is to defer things that are not viewable in the first frame.","pos":[3539,3630]},{"content":"A good guideline for finding candidates to be deferred is to look for elements that are being created with collapsed <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Visibility<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208992)</ept>.","pos":[3632,3824],"source":"  A good guideline for finding candidates to be deferred is to look for elements that are being created with collapsed [**Visibility**](https://msdn.microsoft.com/library/windows/apps/br208992)."},{"content":"Also incidental UI (that is, UI that is triggered by user interaction) is a good place to look for deferring elements.","pos":[3826,3944]},{"content":"Be wary of deferring elements in a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ListView<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br242878)</ept> scenario, as it will decrease your startup time, but could also decrease your panning performance depending on what you're creating.","pos":[3948,4188],"source":"Be wary of deferring elements in a [**ListView**](https://msdn.microsoft.com/library/windows/apps/br242878) scenario, as it will decrease your startup time, but could also decrease your panning performance depending on what you're creating."},{"content":"If you are looking to increase panning performance, please refer to the <bpt id=\"p1\">[</bpt>{x:Bind} markup extension<ept id=\"p1\">](x-bind-markup-extension.md)</ept> and <bpt id=\"p2\">[</bpt>x:Phase attribute<ept id=\"p2\">](x-phase-attribute.md)</ept> documentation.","pos":[4190,4378],"source":"  If you are looking to increase panning performance, please refer to the [{x:Bind} markup extension](x-bind-markup-extension.md) and [x:Phase attribute](x-phase-attribute.md) documentation."},{"content":"If the <bpt id=\"p1\">[</bpt>x:Phase attribute<ept id=\"p1\">](x-phase-attribute.md)</ept> is used in conjunction with <bpt id=\"p2\">**</bpt>x:DeferLoadStrategy<ept id=\"p2\">**</ept> then, when an element or an element tree is realized, the bindings will be applied up to and including the current phase.","pos":[4380,4602],"source":"If the [x:Phase attribute](x-phase-attribute.md) is used in conjunction with **x:DeferLoadStrategy** then, when an element or an element tree is realized, the bindings will be applied up to and including the current phase."},{"content":"The phase specified for <bpt id=\"p1\">**</bpt>x:Phase<ept id=\"p1\">**</ept> will not affect or control the deferral of the element.","pos":[4603,4694],"source":" The phase specified for **x:Phase** will not affect or control the deferral of the element."},{"content":"When a list item is recycled as part of panning, realized elements will behave in the same way as other active elements, and compiled bindings (<bpt id=\"p1\">**</bpt>{x:Bind}<ept id=\"p1\">**</ept> bindings) will be processed using the same rules, including phasing.","pos":[4695,4920],"source":" When a list item is recycled as part of panning, realized elements will behave in the same way as other active elements, and compiled bindings (**{x:Bind}** bindings) will be processed using the same rules, including phasing."},{"content":"A general guideline is to measure your application before and after to make sure you are getting the performance that you want.","pos":[4922,5049]},{"content":"Example","pos":[5054,5061]}],"content":"---\ntitle: xDeferLoadStrategy attribute\ndescription: xDeferLoadStrategy delays the creation of an element and its children, decreasing startup time but increasing memory usage slightly. Each element affected adds about 600 bytes to the memory usage.\nms.assetid: E763898E-13FF-4412-B502-B54DBFE2D4E4\n---\n\n# x:DeferLoadStrategy attribute\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n**x:DeferLoadStrategy=\"Lazy\"** delays the creation of an element and its children, decreasing startup time but increasing memory usage slightly. Each element affected adds about 600 bytes to the memory usage. The larger the element tree you defer, the more startup time you'll save, but at the cost of a greater memory footprint. Therefore it's possible to overuse this attribute to the extent that your performance decreases.\n\n## XAML attribute usage\n\n``` syntax\n<object x:DeferLoadStrategy=\"Lazy\" .../>\n```\n\n## Remarks\n\nThe restrictions for using **x:DeferLoadStrategy** are:\n\n-   Requires an [x:Name](x-name-attribute.md) defined, as there needs to be a way to find the element later.\n-   Only a [**UIElement**](https://msdn.microsoft.com/library/windows/apps/br208911) can be marked as deferred, with the exception of types deriving from [**FlyoutBase**](https://msdn.microsoft.com/library/windows/apps/dn279249).\n-   Root elements can not be deferred in a [**Page**](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.page), a [**UserControls**](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.usercontrol), nor a [**DataTemplate**](https://msdn.microsoft.com/library/windows/apps/br242348).\n-   Elements in a [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794) cannot be deferred.\n-   Does not work with loose XAML loaded with [**XamlReader.Load**](https://msdn.microsoft.com/library/windows/apps/br228048).\n-   Moving a parent element will clear out any elements that have not been realized.\n\nThere are several different ways to realize the deferred elements:\n\n-   Call [**FindName**](https://msdn.microsoft.com/library/windows/apps/br208715) with the name that was defined on the element.\n-   Call [**GetTemplateChild**](https://msdn.microsoft.com/library/windows/apps/br209416) with the name that was defined on the element.\n-   In a [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007), use a [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817) or **Storyboard** animation that is targeting the deferred element.\n-   Target the deferred element in any **Storyboard**.\n-   Use a binding that is targeting the deferred element.\n-   NOTE: Once the instantiation of an element has started, it is created on the UI thread, so it could cause the UI to stutter if too much is created at once.\n\nOnce a deferred element is created by any of the methods listed above, several things will happen:\n\n-   The [**Loaded**](https://msdn.microsoft.com/library/windows/apps/br208723) event on the element will get raised.\n-   Any bindings on the element will get evaluated.\n-   If the application has registered to receive property change notifications on the property containing the deferred element(s), the notification will be raised.\n\nYou can nest deferred elements, however they have to be realized from the outer-most element in.  If you try to realize a child element before the parent has been realized, an exception will be raised.\n\nIn general, the recommendation is to defer things that are not viewable in the first frame.  A good guideline for finding candidates to be deferred is to look for elements that are being created with collapsed [**Visibility**](https://msdn.microsoft.com/library/windows/apps/br208992).  Also incidental UI (that is, UI that is triggered by user interaction) is a good place to look for deferring elements.  \n\nBe wary of deferring elements in a [**ListView**](https://msdn.microsoft.com/library/windows/apps/br242878) scenario, as it will decrease your startup time, but could also decrease your panning performance depending on what you're creating.  If you are looking to increase panning performance, please refer to the [{x:Bind} markup extension](x-bind-markup-extension.md) and [x:Phase attribute](x-phase-attribute.md) documentation.\n\nIf the [x:Phase attribute](x-phase-attribute.md) is used in conjunction with **x:DeferLoadStrategy** then, when an element or an element tree is realized, the bindings will be applied up to and including the current phase. The phase specified for **x:Phase** will not affect or control the deferral of the element. When a list item is recycled as part of panning, realized elements will behave in the same way as other active elements, and compiled bindings (**{x:Bind}** bindings) will be processed using the same rules, including phasing.\n\nA general guideline is to measure your application before and after to make sure you are getting the performance that you want.\n\n## Example\n\n```xaml\n<Grid x:Name=\"DeferredGrid\" x:DeferLoadStrategy=\"Lazy\">\n    <Grid.RowDefinitions>\n        <RowDefinition Height=\"Auto\" />\n        <RowDefinition Height=\"Auto\" />\n    </Grid.RowDefinitions>\n    <Grid.ColumnDefinitions>\n        <ColumnDefinition Width=\"Auto\" />\n        <ColumnDefinition Width=\"Auto\" />\n    </Grid.ColumnDefinitions>\n\n    <Rectangle Height=\"100\" Width=\"100\" Fill=\"#F65314\" Margin=\"0,0,4,4\" />\n    <Rectangle Height=\"100\" Width=\"100\" Fill=\"#7CBB00\" Grid.Column=\"1\" Margin=\"4,0,0,4\" />\n    <Rectangle Height=\"100\" Width=\"100\" Fill=\"#00A1F1\" Grid.Row=\"1\" Margin=\"0,4,4,0\" />\n    <Rectangle Height=\"100\" Width=\"100\" Fill=\"#FFBB00\" Grid.Row=\"1\" Grid.Column=\"1\" Margin=\"4,4,0,0\" />\n</Grid>\n<Button x:Name=\"RealizeElements\" Content=\"Realize Elements\" Click=\"RealizeElements_Click\"/>\n```\n\n```csharp\nprivate void RealizeElements_Click(object sender, RoutedEventArgs e)\n{\n    this.FindName(\"DeferredGrid\"); // This will realize the deferred grid\n}\n```\n\n"}