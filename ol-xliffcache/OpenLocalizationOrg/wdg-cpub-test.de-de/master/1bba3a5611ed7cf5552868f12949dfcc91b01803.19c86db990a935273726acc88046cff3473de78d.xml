{"nodes":[{"content":"Creating a Driver Package","pos":[0,25]},{"pos":[247,275],"content":"Driver projects and packages"},{"pos":[447,597],"content":"A driver <bpt id=\"p1\">*</bpt>project<ept id=\"p1\">*</ept> is the Microsoft Visual Studio project which produces a driver binary (such as a .sys file), and potentially the driver's INF file.","source":"A driver *project* is the Microsoft Visual Studio project which produces a driver binary (such as a .sys file), and potentially the driver's INF file."},{"content":"A driver <bpt id=\"p1\">*</bpt>package<ept id=\"p1\">*</ept> is the collection of files used to install a driver.","pos":[599,670],"source":"A driver *package* is the collection of files used to install a driver."},{"content":"The package includes an INF file, and files and binaries referred to by that INF.","pos":[671,752]},{"content":"Visual Studio uses driver packages to automatically deploy and debug your driver to a remote target.","pos":[753,853]},{"content":"A driver package is a separate project which collects output from one or more projects, such as driver projects.","pos":[855,967]},{"content":"The driver package's project, when built, then produces the driver package which Visual Studio uses to deploy the driver.","pos":[968,1089]},{"content":"Visual Studio Solution Explorer Driver Package Project","pos":[1093,1147]},{"content":"Note","pos":[1178,1182]},{"content":"If you use a driver template to create a driver solution, then the template should automatically create a solution that contains two projects.","pos":[1191,1333]},{"content":"One for the driver, and another for the driver package.","pos":[1334,1389]},{"content":"Manually creating a driver package","pos":[1549,1583]},{"content":"If your solution does not have a driver package, you can manually create one in Visual Studio by choosing <bpt id=\"p1\">**</bpt>New <ph id=\"ph1\">&amp;gt;</ph> Project<ept id=\"p1\">**</ept> from the <bpt id=\"p2\">**</bpt>File<ept id=\"p2\">**</ept> menu.","pos":[1779,1929],"source":"If your solution does not have a driver package, you can manually create one in Visual Studio by choosing **New &gt; Project** from the **File** menu."},{"content":"For examples of how to create a driver package, see <bpt id=\"p1\">[</bpt>Writing Your First Driver<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff554811)</ept>.","pos":[1930,2078],"source":" For examples of how to create a driver package, see [Writing Your First Driver](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff554811)."},{"content":"To manually create a new driver package for an existing solution that does not already have one, use the \"Driver Install Package\" template.","pos":[2080,2219]},{"content":"Select <bpt id=\"p1\">**</bpt>New <ph id=\"ph1\">&amp;gt;</ph> Project<ept id=\"p1\">**</ept> from the <bpt id=\"p2\">**</bpt>File<ept id=\"p2\">**</ept> menu.","pos":[2220,2271],"source":" Select **New &gt; Project** from the **File** menu."},{"content":"Then select <bpt id=\"p1\">**</bpt>Windows Driver <ph id=\"ph1\">&amp;gt;</ph> Package <ph id=\"ph2\">&amp;gt;</ph> \"Driver Install Package\"<ept id=\"p1\">**</ept> from the dialog.","pos":[2272,2362],"source":" Then select **Windows Driver &gt; Package &gt; \"Driver Install Package\"** from the dialog."},{"content":"Visual Studio will associate the newly created driver package with all the driver projects that were present in the solution when the driver package is created.","pos":[2363,2523]},{"pos":[2690,2726],"content":"Modifying an existing driver package"},{"content":"If your solution already contains a driver package, you can modify it to reference other projects in the solution.","pos":[2930,3044]},{"content":"Right-click on the driver package and select <bpt id=\"p1\">**</bpt>Properties...<ept id=\"p1\">**</ept>.","pos":[3046,3109],"source":"Right-click on the driver package and select **Properties...**."},{"content":"Expand <bpt id=\"p1\">**</bpt>Common Properties<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>References<ept id=\"p2\">**</ept>.","pos":[3110,3165],"source":" Expand **Common Properties** and select **References**."},{"pos":[3167,3301],"content":"You can add a reference to other projects in the solution by clicking <bpt id=\"p1\">**</bpt>Add New Reference...<ept id=\"p1\">**</ept> and selecting the project to reference.","source":"You can add a reference to other projects in the solution by clicking **Add New Reference...** and selecting the project to reference."},{"pos":[3303,3451],"content":"To remove a reference to an existing project, first highlight the existing project you no longer want to reference, then click <bpt id=\"p1\">**</bpt>Remove Reference<ept id=\"p1\">**</ept>.","source":"To remove a reference to an existing project, first highlight the existing project you no longer want to reference, then click **Remove Reference**."},{"content":"Driver Package Properties","pos":[3455,3480]},{"pos":[3657,3687],"content":"Multiple drivers in a solution"},{"content":"You can add multiple drivers and their packages to your solution.","pos":[3867,3932]},{"content":"Similar to \"Modifying an existing driver package\" you can create a new driver solution, or add a reference to an existing one.","pos":[3933,4059]},{"content":"If your solution already contains a driver package, you can modify it to reference additional driver projects in the solution.","pos":[4060,4186]},{"content":"Right-click on the existing driver package and select <bpt id=\"p1\">**</bpt>Properties...<ept id=\"p1\">**</ept>.","pos":[4188,4260],"source":"Right-click on the existing driver package and select **Properties...**."},{"content":"Expand <bpt id=\"p1\">**</bpt>Common Properties<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>References<ept id=\"p2\">**</ept>.","pos":[4261,4316],"source":" Expand **Common Properties** and select **References**."},{"pos":[4318,4452],"content":"You can add a reference to other projects in the solution by clicking <bpt id=\"p1\">**</bpt>Add New Reference...<ept id=\"p1\">**</ept> and selecting the project to reference.","source":"You can add a reference to other projects in the solution by clicking **Add New Reference...** and selecting the project to reference."},{"pos":[4454,4602],"content":"To remove a reference to an existing project, first highlight the existing project you no longer want to reference, then click <bpt id=\"p1\">**</bpt>Remove Reference<ept id=\"p1\">**</ept>.","source":"To remove a reference to an existing project, first highlight the existing project you no longer want to reference, then click **Remove Reference**."},{"content":"See the \"Toaster Sample Driver\" sample for an example of a single solution that contains multiple drivers:","pos":[4604,4710]},{"content":"Multiple Drivers in a Single Solution","pos":[4712,4749]},{"pos":[4827,4841],"content":"Related topics"},{"content":"Signing a Driver","pos":[4894,4910]},{"pos":[4939,5879],"content":"<bpt id=\"p1\">[</bpt>Send comments about this topic to Microsoft<ept id=\"p1\">]</ept><bpt id=\"p2\">(mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Creating%20a%20Driver%20Package%20%20RELEASE:%20%289/30/2015%29&amp;body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"</bpt>Send comments about this topic to Microsoft<ept id=\"p2\">\")</ept>","source":"[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Creating%20a%20Driver%20Package%20%20RELEASE:%20%289/30/2015%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"Send comments about this topic to Microsoft\")"}],"content":"Creating a Driver Package\n==============================================================================\n\n<span id=\"Driver_projects_and_packages\"></span><span id=\"driver_projects_and_packages\"></span><span id=\"DRIVER_PROJECTS_AND_PACKAGES\"></span>Driver projects and packages\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nA driver *project* is the Microsoft Visual Studio project which produces a driver binary (such as a .sys file), and potentially the driver's INF file.\n\nA driver *package* is the collection of files used to install a driver. The package includes an INF file, and files and binaries referred to by that INF. Visual Studio uses driver packages to automatically deploy and debug your driver to a remote target.\n\nA driver package is a separate project which collects output from one or more projects, such as driver projects. The driver package's project, when built, then produces the driver package which Visual Studio uses to deploy the driver.\n\n![Visual Studio Solution Explorer Driver Package Project](images/VsSlnExplorer.png)\n\n**Note**  \n\n \n\nIf you use a driver template to create a driver solution, then the template should automatically create a solution that contains two projects. One for the driver, and another for the driver package.\n<span id=\"Manually_creating_a_driver_package\"></span><span id=\"manually_creating_a_driver_package\"></span><span id=\"MANUALLY_CREATING_A_DRIVER_PACKAGE\"></span>Manually creating a driver package\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nIf your solution does not have a driver package, you can manually create one in Visual Studio by choosing **New &gt; Project** from the **File** menu. For examples of how to create a driver package, see [Writing Your First Driver](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff554811).\n\nTo manually create a new driver package for an existing solution that does not already have one, use the \"Driver Install Package\" template. Select **New &gt; Project** from the **File** menu. Then select **Windows Driver &gt; Package &gt; \"Driver Install Package\"** from the dialog. Visual Studio will associate the newly created driver package with all the driver projects that were present in the solution when the driver package is created.\n\n<span id=\"Modifying_an_existing_driver_package\"></span><span id=\"modifying_an_existing_driver_package\"></span><span id=\"MODIFYING_AN_EXISTING_DRIVER_PACKAGE\"></span>Modifying an existing driver package\n---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nIf your solution already contains a driver package, you can modify it to reference other projects in the solution.\n\nRight-click on the driver package and select **Properties...**. Expand **Common Properties** and select **References**.\n\nYou can add a reference to other projects in the solution by clicking **Add New Reference...** and selecting the project to reference.\n\nTo remove a reference to an existing project, first highlight the existing project you no longer want to reference, then click **Remove Reference**.\n\n![Driver Package Properties](images/VsDrvrPkgProps.png)\n\n<span id=\"Multiple_drivers_in_a_solution\"></span><span id=\"multiple_drivers_in_a_solution\"></span><span id=\"MULTIPLE_DRIVERS_IN_A_SOLUTION\"></span>Multiple drivers in a solution\n---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nYou can add multiple drivers and their packages to your solution. Similar to \"Modifying an existing driver package\" you can create a new driver solution, or add a reference to an existing one. If your solution already contains a driver package, you can modify it to reference additional driver projects in the solution.\n\nRight-click on the existing driver package and select **Properties...**. Expand **Common Properties** and select **References**.\n\nYou can add a reference to other projects in the solution by clicking **Add New Reference...** and selecting the project to reference.\n\nTo remove a reference to an existing project, first highlight the existing project you no longer want to reference, then click **Remove Reference**.\n\nSee the \"Toaster Sample Driver\" sample for an example of a single solution that contains multiple drivers:![Multiple Drivers in a Single Solution](images/MultipleDriversSingleSolution.png)\n\n<span id=\"related_topics\"></span>Related topics\n-----------------------------------------------\n\n* [Signing a Driver](signing_a_driver.md)\n \n\n \n\n[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Creating%20a%20Driver%20Package%20%20RELEASE:%20%289/30/2015%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"Send comments about this topic to Microsoft\")\n\n\n"}