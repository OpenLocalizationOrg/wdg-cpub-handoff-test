{"nodes":[{"pos":[17,111],"content":"This topic describes performance guidelines for apps that require access to a user's location.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic describes performance guidelines for apps that require access to a user's location.","pos":[0,94]}]},{"pos":[119,153],"content":"Guidelines for location-aware apps","needQuote":true,"needEscape":true,"nodes":[{"content":"Guidelines for location-aware apps","pos":[0,34]}]},{"content":"Guidelines for location-aware apps","pos":[210,244]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[247,285]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[286,381],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"content":"Important APIs","pos":[386,400]},{"content":"Geolocation","pos":[411,422]},{"content":"Geolocator","pos":[491,501]},{"content":"This topic describes performance guidelines for apps that require access to a user's location.","pos":[564,658]},{"content":"Recommendations","pos":[663,678]},{"content":"Start using the location object only when the app requires location data.","pos":[685,758]},{"content":"Call the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>RequestAccessAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn859152)</ept> before accessing the user’s location.","pos":[764,893],"source":"Call the [**RequestAccessAsync**](https://msdn.microsoft.com/library/windows/apps/dn859152) before accessing the user’s location."},{"content":"At that time, your app must be in the foreground and <bpt id=\"p1\">**</bpt>RequestAccessAsync<ept id=\"p1\">**</ept> must be called from the UI thread.","pos":[894,1004],"source":" At that time, your app must be in the foreground and **RequestAccessAsync** must be called from the UI thread."},{"content":"Until the user grants your app permission to their location, your app can't access location data.","pos":[1005,1102]},{"content":"If location isn't essential to your app, don't access it until the user tries to complete a task that requires it.","pos":[1108,1222]},{"content":"For example, if a social networking app has a button for \"Check in with my location,\" the app shouldn't access location until the user clicks the button.","pos":[1223,1376]},{"content":"It's okay to immediately access location if it is required for your app's main function.","pos":[1377,1465]},{"content":"The first use of the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Geolocator<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225534)</ept> object must be made on the main UI thread of the foreground app, to trigger the consent prompt to the user.","pos":[1471,1674],"source":"The first use of the [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) object must be made on the main UI thread of the foreground app, to trigger the consent prompt to the user."},{"content":"The first use of the <bpt id=\"p1\">**</bpt>Geolocator<ept id=\"p1\">**</ept> can be either the first call to <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>getGeopositionAsync<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/hh973536)</ept> or the first registration of a handler for the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>positionChanged<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br225540)</ept> event.","pos":[1675,1960],"source":" The first use of the **Geolocator** can be either the first call to [**getGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536) or the first registration of a handler for the [**positionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) event."},{"content":"Tell the user how location data will be used.","pos":[1966,2011]},{"content":"Provide UI to enable users to manually refresh their location.","pos":[2016,2078]},{"content":"Display a progress bar or ring while waiting to get location data.","pos":[2083,2149]},{"content":"Show appropriate error messages or dialogs when location services are disabled or not available.","pos":[2321,2417]},{"content":"If the location settings don't allow your app to access the user's location, we recommend providing a convenient link to the <bpt id=\"p1\">**</bpt>location privacy settings<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Settings<ept id=\"p2\">**</ept> app.","pos":[2423,2602],"source":"If the location settings don't allow your app to access the user's location, we recommend providing a convenient link to the **location privacy settings** in the **Settings** app."},{"content":"For example, you could use a Hyperlink control or call the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>LaunchUriAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701476)</ept> method to launch the <bpt id=\"p3\">**</bpt>Settings<ept id=\"p3\">**</ept> app from code using the <ph id=\"ph1\">`ms-settings:privacy-location`</ph> URI.","pos":[2603,2834],"source":" For example, you could use a Hyperlink control or call the [**LaunchUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701476) method to launch the **Settings** app from code using the `ms-settings:privacy-location` URI."},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Launch the Windows Settings app<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/mt228342)</ept>.","pos":[2835,2946],"source":" For more info, see [Launch the Windows Settings app](https://msdn.microsoft.com/library/windows/apps/mt228342)."},{"pos":[2952,3117],"content":"Clear cached location data and release the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Geolocator<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225534)</ept> when the user disables access to location info.","source":"Clear cached location data and release the [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) when the user disables access to location info."},{"content":"Release the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Geolocator<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225534)</ept> object if the user turns off access to location info through Settings.","pos":[3123,3280],"source":"Release the [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) object if the user turns off access to location info through Settings."},{"content":"The app will then receive <bpt id=\"p1\">**</bpt>ACCESS\\_DENIED<ept id=\"p1\">**</ept> results for any location API calls.","pos":[3281,3361],"source":" The app will then receive **ACCESS\\_DENIED** results for any location API calls."},{"content":"If your app saves or caches location data, clear any cached data when the user revokes access to location info.","pos":[3362,3473]},{"content":"Provide an alternate way to manually enter location info when location data is not available via location services.","pos":[3474,3589]},{"content":"Provide UI for reenabling location services.","pos":[3595,3639]},{"content":"For example, provie a refresh button that reinstantiates the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Geolocator<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225534)</ept> object and tries to get location info again.","pos":[3640,3820],"source":" For example, provie a refresh button that reinstantiates the [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) object and tries to get location info again."},{"content":"Have your app provide UI for reenabling location services—","pos":[3826,3884]},{"content":"If the user reenables location access after disabling it, there is no notification to the app.","pos":[3894,3988]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>status<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225601)</ept> property does not change and there is no <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>statusChanged<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br225542)</ept> event.","pos":[3989,4189],"source":" The [**status**](https://msdn.microsoft.com/library/windows/apps/br225601) property does not change and there is no [**statusChanged**](https://msdn.microsoft.com/library/windows/apps/br225542) event."},{"content":"Your app should create a new <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Geolocator<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225534)</ept> object and call <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>getGeopositionAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh973536)</ept> to try to get updated location data, or subscribe again to <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>positionChanged<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/br225540)</ept> events.","pos":[4190,4540],"source":" Your app should create a new [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) object and call [**getGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536) to try to get updated location data, or subscribe again to [**positionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) events."},{"content":"If the status then indicates that location has been reenabled, clear any UI by which your app previously notified the user that location services were disabled, and respond appropriately to the new status.","pos":[4541,4746]},{"content":"Your app should also try again to get location data upon activation, or when the user explicitly tries to use functionality that requires location info, or at any other scenario-appropriate time.","pos":[4755,4950]},{"content":"Performance","pos":[4954,4965]},{"content":"Use one-time location requests if your app doesn't need to receive location updates.","pos":[4973,5057]},{"content":"For example, an app that adds a location tag to a photo doesn't need to receive location update events.","pos":[5058,5161]},{"content":"Instead, it should request location using <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>getGeopositionAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh973536)</ept>, as described in <bpt id=\"p3\">[</bpt>Get current location<ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/mt219698)</ept>.","pos":[5162,5386],"source":" Instead, it should request location using [**getGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536), as described in [Get current location](https://msdn.microsoft.com/library/windows/apps/mt219698)."},{"content":"When you make a one-time location request, you should set the following values.","pos":[5392,5471]},{"content":"Specify the accuracy requested by your app by setting the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DesiredAccuracy<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225535)</ept> or the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>DesiredAccuracyInMeters<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/jj635271)</ept>.","pos":[5481,5714],"source":"Specify the accuracy requested by your app by setting the [**DesiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535) or the [**DesiredAccuracyInMeters**](https://msdn.microsoft.com/library/windows/apps/jj635271)."},{"content":"See below for recommendations on using these parameters","pos":[5715,5770]},{"content":"Set the max age parameter of <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetGeopositionAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh973536)</ept> to specify how long ago a location can have been obtained to be useful for your app.","pos":[5779,5976],"source":"Set the max age parameter of [**GetGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536) to specify how long ago a location can have been obtained to be useful for your app."},{"content":"If your app can use a position that is a few seconds or minutes old, your app can receive a position almost immediately and contribute to saving device power.","pos":[5977,6135]},{"content":"Set the timeout parameter of <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetGeopositionAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh973536)</ept>.","pos":[6144,6257],"source":"Set the timeout parameter of [**GetGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536)."},{"content":"This is how long your app can wait for a position or an error to be returned.","pos":[6258,6335]},{"content":"You will need to figure out the trade-offs between responsiveness to the user and accuracy your app needs.","pos":[6336,6442]},{"content":"Use continuous location session when frequent position updates are required.","pos":[6447,6523]},{"content":"Use <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>positionChanged<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225540)</ept> and <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>statusChanged<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br225542)</ept> events for detecting movement past a specific threshold or for continuous location updates as they occur.","pos":[6524,6795],"source":" Use [**positionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) and [**statusChanged**](https://msdn.microsoft.com/library/windows/apps/br225542) events for detecting movement past a specific threshold or for continuous location updates as they occur."},{"content":"When requesting location updates, you may want to specify the accuracy requested by your app by setting the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DesiredAccuracy<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225535)</ept> or the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>DesiredAccuracyInMeters<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/jj635271)</ept>.","pos":[6801,7084],"source":"When requesting location updates, you may want to specify the accuracy requested by your app by setting the [**DesiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535) or the [**DesiredAccuracyInMeters**](https://msdn.microsoft.com/library/windows/apps/jj635271)."},{"content":"You should also set the frequency at which the location updates are needed, by using the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>MovementThreshold<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225539)</ept> or the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>ReportInterval<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br225541)</ept>.","pos":[7085,7342],"source":" You should also set the frequency at which the location updates are needed, by using the [**MovementThreshold**](https://msdn.microsoft.com/library/windows/apps/br225539) or the [**ReportInterval**](https://msdn.microsoft.com/library/windows/apps/br225541)."},{"content":"Specify the movement threshold.","pos":[7352,7383]},{"content":"Some apps need location updates only when the user has moved a large distance.","pos":[7384,7462]},{"content":"For example, an app that provides local news or weather updates may not need location updates unless the user's location has changed to a different city.","pos":[7463,7616]},{"content":"In this case, you adjust the minimum required movement for a location update event by setting the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>MovementThreshold<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225539)</ept> property.","pos":[7617,7806],"source":" In this case, you adjust the minimum required movement for a location update event by setting the [**MovementThreshold**](https://msdn.microsoft.com/library/windows/apps/br225539) property."},{"content":"This has the effect of filtering out <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>PositionChanged<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225540)</ept> events.","pos":[7807,7931],"source":" This has the effect of filtering out [**PositionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) events."},{"content":"These events are raised only when the change in position exceeds the movement threshold.","pos":[7932,8020]},{"content":"Use <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>reportInterval<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225541)</ept> that aligns with your app experience and that minimizes the use of system resources.","pos":[8030,8197],"source":"Use [**reportInterval**](https://msdn.microsoft.com/library/windows/apps/br225541) that aligns with your app experience and that minimizes the use of system resources."},{"content":"For example, a weather app may require a data update only every 15 minutes.","pos":[8198,8273]},{"content":"Most apps, other than real-time navigation apps, don't require a highly accurate, constant stream of location updates.","pos":[8274,8392]},{"content":"If your app doesn't require the most accurate stream of data possible, or requires updates infrequently, set the <bpt id=\"p1\">**</bpt>ReportInterval<ept id=\"p1\">**</ept> property to indicate the minimum frequency of location updates that your app needs.","pos":[8393,8608],"source":" If your app doesn't require the most accurate stream of data possible, or requires updates infrequently, set the **ReportInterval** property to indicate the minimum frequency of location updates that your app needs."},{"content":"The location source can then conserve power by calculating location only when needed.","pos":[8609,8694]},{"content":"Apps that do require real-time data should set <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ReportInterval<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225541)</ept> to 0, to indicate that no minimum interval is specified.","pos":[8704,8886],"source":"Apps that do require real-time data should set [**ReportInterval**](https://msdn.microsoft.com/library/windows/apps/br225541) to 0, to indicate that no minimum interval is specified."},{"content":"The default report interval is 1 second or as frequent as the hardware can support – whichever is shorter.","pos":[8887,8993]},{"content":"Devices that provide location data may track the report interval requested by different apps, and provide data reports at the smallest requested interval.","pos":[9003,9157]},{"content":"The app with the greatest need for accuracy thus receives the data it needs.","pos":[9158,9234]},{"content":"Therefore, it's possible that the location provider will generate updates at a higher frequency than your app requested, if another app has requested more frequent updates.","pos":[9235,9407]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  It isn't guaranteed that the location source will honor the request for the given report interval.","pos":[9417,9525],"source":"**Note**  It isn't guaranteed that the location source will honor the request for the given report interval."},{"content":"Not all location provider devices track the report interval, but you should still provide it for those that do.","pos":[9526,9637]},{"content":"To help conserve power, set the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>desiredAccuracy<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225535)</ept> property to indicate to the location platform whether your app needs high-accuracy data.","pos":[9647,9847],"source":"To help conserve power, set the [**desiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535) property to indicate to the location platform whether your app needs high-accuracy data."},{"content":"If no apps require high-accuracy data, the system can save power by not turning on GPS providers.","pos":[9848,9945]},{"pos":[9959,10089],"content":"Set <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>desiredAccuracy<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225535)</ept> to <bpt id=\"p3\">**</bpt>HIGH<ept id=\"p3\">**</ept> to enable the GPS to acquire data.","source":"Set [**desiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535) to **HIGH** to enable the GPS to acquire data."},{"pos":[10102,10326],"content":"Set <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>desiredAccuracy<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225535)</ept> to <bpt id=\"p3\">**</bpt>Default<ept id=\"p3\">**</ept> and use only a single-shot call pattern to minimize power consumption if your app uses location info solely for ad targeting.","source":"Set [**desiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535) to **Default** and use only a single-shot call pattern to minimize power consumption if your app uses location info solely for ad targeting."},{"content":"If your app has specific needs around accuracy, you may want to use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DesiredAccuracyInMeters<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/jj635271)</ept> property instead of using <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>DesiredAccuracy<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br225535)</ept>.","pos":[10336,10602],"source":"If your app has specific needs around accuracy, you may want to use the [**DesiredAccuracyInMeters**](https://msdn.microsoft.com/library/windows/apps/jj635271) property instead of using [**DesiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535)."},{"content":"This is particularly useful on Windows Phone, where position can usually be obtained based on cellular beacons, Wi-Fi beacons and satellites.","pos":[10603,10744]},{"content":"Picking a more specific accuracy value will help the system identify the right technologies to use with the lowest power cost when providing a position.","pos":[10745,10897]},{"content":"For example:","pos":[10907,10919]},{"content":"If your app is obtaining location for ads tuning, weather, news, etc, an accuracy of 5000 meter is generally enough.","pos":[10933,11049]},{"content":"If you app is displaying nearby deals in the neighborhood, an accuracy of 300 meter is generally good to provide results.","pos":[11062,11183]},{"content":"If the user is looking for recommendations to nearby restaurants, we likely want to get a position within a block, so an accuracy of 100 meters is sufficient.","pos":[11196,11354]},{"content":"If the user is trying to share his position, the app should request an accuracy of about 10 meters.","pos":[11367,11466]},{"content":"Use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Geocoordinate.accuracy<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225526)</ept> property if your app has specific accuracy requirements.","pos":[11475,11626],"source":"Use the [**Geocoordinate.accuracy**](https://msdn.microsoft.com/library/windows/apps/br225526) property if your app has specific accuracy requirements."},{"content":"For example, navigation apps should use the <bpt id=\"p1\">**</bpt>Geocoordinate.accuracy<ept id=\"p1\">**</ept> property to determine whether the available location data meets the app's requirements.","pos":[11627,11785],"source":" For example, navigation apps should use the **Geocoordinate.accuracy** property to determine whether the available location data meets the app's requirements."},{"content":"Consider start-up delay.","pos":[11791,11815]},{"content":"The first time an app requests location data, there might be a short delay (1-2 seconds) while the location provider starts up.","pos":[11816,11943]},{"content":"Consider this in the design of your app's UI.","pos":[11944,11989]},{"content":"For instance, you may want to avoid blocking other tasks pending the completion of the call to <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetGeopositionAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh973536)</ept>.","pos":[11990,12169],"source":" For instance, you may want to avoid blocking other tasks pending the completion of the call to [**GetGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536)."},{"content":"Consider background behavior.","pos":[12175,12204]},{"content":"If your app doesn't have focus, it won't receive location update events while it's suspended in the background.","pos":[12205,12316]},{"content":"If your app tracks location updates by logging them, be aware of this.","pos":[12317,12387]},{"content":"When the app regains focus, it receives only new events.","pos":[12388,12444]},{"content":"It does not get any updates that occurred when it was inactive.","pos":[12445,12508]},{"content":"Use raw and fusion sensors efficiently.","pos":[12514,12553]},{"content":"There are two types of sensors: <bpt id=\"p1\">*</bpt>raw<ept id=\"p1\">*</ept> and <bpt id=\"p2\">*</bpt>fusion<ept id=\"p2\">*</ept>.","pos":[12554,12605],"source":" There are two types of sensors: *raw* and *fusion*."},{"content":"Raw sensors include the accelerometer, gyrometer, and magnetometer.","pos":[12615,12682]},{"content":"Fusion sensors include orientation, inclinometer, and compass.","pos":[12691,12753]},{"content":"Fusion sensors get their data from combinations of the raw sensors.","pos":[12754,12821]},{"content":"The Windows Runtime APIs can access all of these sensors except for the magnetometer.","pos":[12827,12912]},{"content":"Fusion sensors are more accurate and stable than raw sensors, but they use more power.","pos":[12913,12999]},{"content":"You should use the right sensors for the right purpose.","pos":[13000,13055]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Sensors<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/mt187358)</ept>.","pos":[13056,13143],"source":" For more info, see [Sensors](https://msdn.microsoft.com/library/windows/apps/mt187358)."},{"content":"**Connected standby:  **When the PC is in connected standby state, <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Geolocator<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225534)</ept> objects can always be instantiated.","pos":[13145,13322],"source":"**Connected standby:  **When the PC is in connected standby state, [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) objects can always be instantiated."},{"content":"However, the <bpt id=\"p1\">**</bpt>Geolocator<ept id=\"p1\">**</ept> object will not find any sensors to aggregate and therefore calls to <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>GetGeopositionAsync<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/hh973536)</ept> will time out after 7 seconds, <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>PositionChanged<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br225540)</ept> event listeners will never be called, and <bpt id=\"p6\">[</bpt><bpt id=\"p7\">**</bpt>StatusChanged<ept id=\"p7\">**</ept><ept id=\"p6\">](https://msdn.microsoft.com/library/windows/apps/br225542)</ept> event listeners will be called once with the <bpt id=\"p8\">**</bpt>NoData<ept id=\"p8\">**</ept> status.","pos":[13323,13798],"source":" However, the **Geolocator** object will not find any sensors to aggregate and therefore calls to [**GetGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536) will time out after 7 seconds, [**PositionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) event listeners will never be called, and [**StatusChanged**](https://msdn.microsoft.com/library/windows/apps/br225542) event listeners will be called once with the **NoData** status."},{"content":"Additional usage guidance","pos":[13803,13828]},{"content":"Detecting changes in location settings","pos":[13835,13873]},{"pos":[13875,13987],"content":"The user can turn off location functionality by using the <bpt id=\"p1\">**</bpt>location privacy settings<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Settings<ept id=\"p2\">**</ept> app.","source":"The user can turn off location functionality by using the **location privacy settings** in the **Settings** app."},{"content":"To detect when the user disables or reenables location services:","pos":[13993,14057]},{"content":"Handle the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StatusChanged<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225542)</ept> event.","pos":[14066,14161],"source":"Handle the [**StatusChanged**](https://msdn.microsoft.com/library/windows/apps/br225542) event."},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Status<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225601)</ept> property of the argument to the <bpt id=\"p3\">**</bpt>StatusChanged<ept id=\"p3\">**</ept> event has the value <bpt id=\"p4\">**</bpt>Disabled<ept id=\"p4\">**</ept> if the user turns off location services.","pos":[14162,14360],"source":" The [**Status**](https://msdn.microsoft.com/library/windows/apps/br225601) property of the argument to the **StatusChanged** event has the value **Disabled** if the user turns off location services."},{"content":"Check the error codes returned from <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetGeopositionAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh973536)</ept>.","pos":[14369,14489],"source":"Check the error codes returned from [**GetGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536)."},{"content":"If the user has disabled location services, calls to <bpt id=\"p1\">**</bpt>GetGeopositionAsync<ept id=\"p1\">**</ept> fail with an <bpt id=\"p2\">**</bpt>ACCESS\\_DENIED<ept id=\"p2\">**</ept> error and the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>LocationStatus<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br225538)</ept> property has the value <bpt id=\"p5\">**</bpt>Disabled<ept id=\"p5\">**</ept>.","pos":[14490,14728],"source":" If the user has disabled location services, calls to **GetGeopositionAsync** fail with an **ACCESS\\_DENIED** error and the [**LocationStatus**](https://msdn.microsoft.com/library/windows/apps/br225538) property has the value **Disabled**."},{"content":"If you have an app for which location data is essential—for example, a mapping app—, be sure to do the following:","pos":[14733,14846]},{"pos":[14855,14998],"content":"Handle the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>PositionChanged<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225540)</ept> event to get updates if the user’s location changes.","source":"Handle the [**PositionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) event to get updates if the user’s location changes."},{"pos":[15007,15166],"content":"Handle the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StatusChanged<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225542)</ept> event as described previously, to detect changes in location settings.","source":"Handle the [**StatusChanged**](https://msdn.microsoft.com/library/windows/apps/br225542) event as described previously, to detect changes in location settings."},{"content":"Note that the location service will return data as it becomes available.","pos":[15168,15240]},{"content":"It may first return a location with a larger error radius and then update the location with more accurate information as it becomes available.","pos":[15241,15383]},{"content":"Apps displaying the user's location would normally want to update the location as more accurate information becomes available.","pos":[15384,15510]},{"content":"Graphical representations of location","pos":[15516,15553]},{"content":"Have your app use <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Geocoordinate.accuracy<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225526)</ept> to denote the user’s current location on the map clearly.","pos":[15555,15717],"source":"Have your app use [**Geocoordinate.accuracy**](https://msdn.microsoft.com/library/windows/apps/br225526) to denote the user’s current location on the map clearly."},{"content":"There are three main bands for accuracy—an error radius of approximately 10 meters, an error radius of approximately 100 meters, and an error radius of greater than 1 kilometer.","pos":[15718,15895]},{"content":"By using the accuracy information, you can ensure that your app displays location accurately in the context of the data available.","pos":[15896,16026]},{"content":"For general information about using the map control, see <bpt id=\"p1\">[</bpt>Display maps with 2D, 3D, and Streetside views<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/mt219695)</ept>.","pos":[16027,16191],"source":" For general information about using the map control, see [Display maps with 2D, 3D, and Streetside views](https://msdn.microsoft.com/library/windows/apps/mt219695)."},{"content":"For accuracy approximately equal to 10 meters (GPS resolution), location can be denoted by a dot or pin on the map.","pos":[16197,16312]},{"content":"With this accuracy, latitude-longitude coordinates and street address can be shown as well.","pos":[16313,16404]},{"content":"example of map displayed at gps accuracy of approximately 10 meters.","pos":[16412,16480]},{"content":"For accuracy between 10 and 500 meters (approximately 100 meters), location is generally received through Wi-Fi resolution.","pos":[16518,16641]},{"content":"Location obtained from cellular has an accuracy of around 300 meters.","pos":[16642,16711]},{"content":"In such a case, we recommend that your app show an error radius.","pos":[16712,16776]},{"content":"For apps that show directions where a centering dot is required, such a dot can be shown with an error radius surrounding it.","pos":[16777,16902]},{"content":"example of map displayed at wi-fi accuracy of approximately 100 meters.","pos":[16910,16981]},{"content":"If the accuracy returned is greater than 1 kilometer, you are probably receiving location info at IP-level resolution.","pos":[17020,17138]},{"content":"This level of accuracy is often too low to pinpoint a particular spot on a map.","pos":[17139,17218]},{"content":"Your app should zoom in to the city level on the map, or to the appropriate area based on the error radius (for example, region level).","pos":[17219,17354]},{"content":"example of map displayed at wi-fi accuracy of approximately 1 kilometer.","pos":[17362,17434]},{"content":"When location accuracy switches from one band of accuracy to another, provide a graceful transition between the different graphical representations.","pos":[17470,17618]},{"content":"This can be done by:","pos":[17619,17639]},{"content":"Making the transition animation smooth and keeping the transition fast and fluid.","pos":[17645,17726]},{"content":"Waiting for a few consecutive reports to confirm the change in accuracy, to help prevent unwanted and too-frequent zooms.","pos":[17731,17852]},{"content":"Textual representations of location","pos":[17858,17893]},{"content":"Some types of apps—for example, a weather app or a local information app—need ways to represent location textually at the different bands of accuracy.","pos":[17895,18045]},{"content":"Be sure to display the location clearly and only down to the level of accuracy provided in the data.","pos":[18046,18146]},{"content":"For accuracy approximately equal to 10 meters (GPS resolution), the location data received is fairly accurate and so can be communicated to the level of the neighborhood name.","pos":[18152,18327]},{"content":"City name, state or province name, and country/region name can also be used.","pos":[18328,18404]},{"content":"For accuracy approximately equal to 100 meters (Wi-Fi resolution), the location data received is moderately accurate and so we recommend that you display information down to the city name.","pos":[18409,18597]},{"content":"Avoid using the neighborhood name.","pos":[18598,18632]},{"content":"For accuracy greater than 1 kilometer (IP resolution), display only the state or province, or country/region name.","pos":[18637,18751]},{"content":"Privacy considerations","pos":[18757,18779]},{"content":"A user's geographic location is personally identifiable information (PII).","pos":[18781,18855]},{"content":"The following website provides guidance for protecting user privacy.","pos":[18856,18924]},{"content":"Microsoft Privacy","pos":[18931,18948]},{"content":"Related topics","pos":[19114,19128]},{"content":"Set up a geofence","pos":[19133,19150]},{"content":"Get current location","pos":[19213,19233]},{"content":"Display maps with 2D, 3D, and Streetside views","pos":[19296,19342]},{"content":"UWP location sample (geolocation)","pos":[19503,19536]}],"content":"---\nDescription: This topic describes performance guidelines for apps that require access to a user's location.\ntitle: Guidelines for location-aware apps\nms.assetid: 16294DD6-5D12-4062-850A-DB5837696B4D\n---\n\n# Guidelines for location-aware apps\n\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n\n**Important APIs**\n\n-   [**Geolocation**](https://msdn.microsoft.com/library/windows/apps/br225603)\n-   [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534)\n\nThis topic describes performance guidelines for apps that require access to a user's location.\n\n## Recommendations\n\n\n-   Start using the location object only when the app requires location data.\n\n    Call the [**RequestAccessAsync**](https://msdn.microsoft.com/library/windows/apps/dn859152) before accessing the user’s location. At that time, your app must be in the foreground and **RequestAccessAsync** must be called from the UI thread. Until the user grants your app permission to their location, your app can't access location data.\n\n-   If location isn't essential to your app, don't access it until the user tries to complete a task that requires it. For example, if a social networking app has a button for \"Check in with my location,\" the app shouldn't access location until the user clicks the button. It's okay to immediately access location if it is required for your app's main function.\n\n-   The first use of the [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) object must be made on the main UI thread of the foreground app, to trigger the consent prompt to the user. The first use of the **Geolocator** can be either the first call to [**getGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536) or the first registration of a handler for the [**positionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) event.\n\n-   Tell the user how location data will be used.\n-   Provide UI to enable users to manually refresh their location.\n-   Display a progress bar or ring while waiting to get location data. <!--For info on the available progress controls and how to use them, see [**Guidelines for progress controls**](guidelines-and-checklist-for-progress-controls.md).-->\n-   Show appropriate error messages or dialogs when location services are disabled or not available.\n\n    If the location settings don't allow your app to access the user's location, we recommend providing a convenient link to the **location privacy settings** in the **Settings** app. For example, you could use a Hyperlink control or call the [**LaunchUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701476) method to launch the **Settings** app from code using the `ms-settings:privacy-location` URI. For more info, see [Launch the Windows Settings app](https://msdn.microsoft.com/library/windows/apps/mt228342).\n\n-   Clear cached location data and release the [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) when the user disables access to location info.\n\n    Release the [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) object if the user turns off access to location info through Settings. The app will then receive **ACCESS\\_DENIED** results for any location API calls. If your app saves or caches location data, clear any cached data when the user revokes access to location info. Provide an alternate way to manually enter location info when location data is not available via location services.\n\n-   Provide UI for reenabling location services. For example, provie a refresh button that reinstantiates the [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) object and tries to get location info again.\n\n    Have your app provide UI for reenabling location services—\n\n    -   If the user reenables location access after disabling it, there is no notification to the app. The [**status**](https://msdn.microsoft.com/library/windows/apps/br225601) property does not change and there is no [**statusChanged**](https://msdn.microsoft.com/library/windows/apps/br225542) event. Your app should create a new [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) object and call [**getGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536) to try to get updated location data, or subscribe again to [**positionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) events. If the status then indicates that location has been reenabled, clear any UI by which your app previously notified the user that location services were disabled, and respond appropriately to the new status.\n    -   Your app should also try again to get location data upon activation, or when the user explicitly tries to use functionality that requires location info, or at any other scenario-appropriate time.\n\n**Performance**\n\n-   Use one-time location requests if your app doesn't need to receive location updates. For example, an app that adds a location tag to a photo doesn't need to receive location update events. Instead, it should request location using [**getGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536), as described in [Get current location](https://msdn.microsoft.com/library/windows/apps/mt219698).\n\n    When you make a one-time location request, you should set the following values.\n\n    -   Specify the accuracy requested by your app by setting the [**DesiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535) or the [**DesiredAccuracyInMeters**](https://msdn.microsoft.com/library/windows/apps/jj635271). See below for recommendations on using these parameters\n    -   Set the max age parameter of [**GetGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536) to specify how long ago a location can have been obtained to be useful for your app. If your app can use a position that is a few seconds or minutes old, your app can receive a position almost immediately and contribute to saving device power.\n    -   Set the timeout parameter of [**GetGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536). This is how long your app can wait for a position or an error to be returned. You will need to figure out the trade-offs between responsiveness to the user and accuracy your app needs.\n-   Use continuous location session when frequent position updates are required. Use [**positionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) and [**statusChanged**](https://msdn.microsoft.com/library/windows/apps/br225542) events for detecting movement past a specific threshold or for continuous location updates as they occur.\n\n    When requesting location updates, you may want to specify the accuracy requested by your app by setting the [**DesiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535) or the [**DesiredAccuracyInMeters**](https://msdn.microsoft.com/library/windows/apps/jj635271). You should also set the frequency at which the location updates are needed, by using the [**MovementThreshold**](https://msdn.microsoft.com/library/windows/apps/br225539) or the [**ReportInterval**](https://msdn.microsoft.com/library/windows/apps/br225541).\n\n    -   Specify the movement threshold. Some apps need location updates only when the user has moved a large distance. For example, an app that provides local news or weather updates may not need location updates unless the user's location has changed to a different city. In this case, you adjust the minimum required movement for a location update event by setting the [**MovementThreshold**](https://msdn.microsoft.com/library/windows/apps/br225539) property. This has the effect of filtering out [**PositionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) events. These events are raised only when the change in position exceeds the movement threshold.\n\n    -   Use [**reportInterval**](https://msdn.microsoft.com/library/windows/apps/br225541) that aligns with your app experience and that minimizes the use of system resources. For example, a weather app may require a data update only every 15 minutes. Most apps, other than real-time navigation apps, don't require a highly accurate, constant stream of location updates. If your app doesn't require the most accurate stream of data possible, or requires updates infrequently, set the **ReportInterval** property to indicate the minimum frequency of location updates that your app needs. The location source can then conserve power by calculating location only when needed.\n\n        Apps that do require real-time data should set [**ReportInterval**](https://msdn.microsoft.com/library/windows/apps/br225541) to 0, to indicate that no minimum interval is specified. The default report interval is 1 second or as frequent as the hardware can support – whichever is shorter.\n\n        Devices that provide location data may track the report interval requested by different apps, and provide data reports at the smallest requested interval. The app with the greatest need for accuracy thus receives the data it needs. Therefore, it's possible that the location provider will generate updates at a higher frequency than your app requested, if another app has requested more frequent updates.\n\n        **Note**  It isn't guaranteed that the location source will honor the request for the given report interval. Not all location provider devices track the report interval, but you should still provide it for those that do.\n\n    -   To help conserve power, set the [**desiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535) property to indicate to the location platform whether your app needs high-accuracy data. If no apps require high-accuracy data, the system can save power by not turning on GPS providers.\n\n        -   Set [**desiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535) to **HIGH** to enable the GPS to acquire data.\n        -   Set [**desiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535) to **Default** and use only a single-shot call pattern to minimize power consumption if your app uses location info solely for ad targeting.\n\n        If your app has specific needs around accuracy, you may want to use the [**DesiredAccuracyInMeters**](https://msdn.microsoft.com/library/windows/apps/jj635271) property instead of using [**DesiredAccuracy**](https://msdn.microsoft.com/library/windows/apps/br225535). This is particularly useful on Windows Phone, where position can usually be obtained based on cellular beacons, Wi-Fi beacons and satellites. Picking a more specific accuracy value will help the system identify the right technologies to use with the lowest power cost when providing a position.\n\n        For example:\n\n        -   If your app is obtaining location for ads tuning, weather, news, etc, an accuracy of 5000 meter is generally enough.\n        -   If you app is displaying nearby deals in the neighborhood, an accuracy of 300 meter is generally good to provide results.\n        -   If the user is looking for recommendations to nearby restaurants, we likely want to get a position within a block, so an accuracy of 100 meters is sufficient.\n        -   If the user is trying to share his position, the app should request an accuracy of about 10 meters.\n    -   Use the [**Geocoordinate.accuracy**](https://msdn.microsoft.com/library/windows/apps/br225526) property if your app has specific accuracy requirements. For example, navigation apps should use the **Geocoordinate.accuracy** property to determine whether the available location data meets the app's requirements.\n\n-   Consider start-up delay. The first time an app requests location data, there might be a short delay (1-2 seconds) while the location provider starts up. Consider this in the design of your app's UI. For instance, you may want to avoid blocking other tasks pending the completion of the call to [**GetGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536).\n\n-   Consider background behavior. If your app doesn't have focus, it won't receive location update events while it's suspended in the background. If your app tracks location updates by logging them, be aware of this. When the app regains focus, it receives only new events. It does not get any updates that occurred when it was inactive.\n\n-   Use raw and fusion sensors efficiently. There are two types of sensors: *raw* and *fusion*.\n\n    -   Raw sensors include the accelerometer, gyrometer, and magnetometer.\n    -   Fusion sensors include orientation, inclinometer, and compass. Fusion sensors get their data from combinations of the raw sensors.\n\n    The Windows Runtime APIs can access all of these sensors except for the magnetometer. Fusion sensors are more accurate and stable than raw sensors, but they use more power. You should use the right sensors for the right purpose. For more info, see [Sensors](https://msdn.microsoft.com/library/windows/apps/mt187358).\n\n**Connected standby:  **When the PC is in connected standby state, [**Geolocator**](https://msdn.microsoft.com/library/windows/apps/br225534) objects can always be instantiated. However, the **Geolocator** object will not find any sensors to aggregate and therefore calls to [**GetGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536) will time out after 7 seconds, [**PositionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) event listeners will never be called, and [**StatusChanged**](https://msdn.microsoft.com/library/windows/apps/br225542) event listeners will be called once with the **NoData** status.\n\n## Additional usage guidance\n\n\n### Detecting changes in location settings\n\nThe user can turn off location functionality by using the **location privacy settings** in the **Settings** app.\n\n-   To detect when the user disables or reenables location services:\n    -   Handle the [**StatusChanged**](https://msdn.microsoft.com/library/windows/apps/br225542) event. The [**Status**](https://msdn.microsoft.com/library/windows/apps/br225601) property of the argument to the **StatusChanged** event has the value **Disabled** if the user turns off location services.\n    -   Check the error codes returned from [**GetGeopositionAsync**](https://msdn.microsoft.com/library/windows/apps/hh973536). If the user has disabled location services, calls to **GetGeopositionAsync** fail with an **ACCESS\\_DENIED** error and the [**LocationStatus**](https://msdn.microsoft.com/library/windows/apps/br225538) property has the value **Disabled**.\n-   If you have an app for which location data is essential—for example, a mapping app—, be sure to do the following:\n    -   Handle the [**PositionChanged**](https://msdn.microsoft.com/library/windows/apps/br225540) event to get updates if the user’s location changes.\n    -   Handle the [**StatusChanged**](https://msdn.microsoft.com/library/windows/apps/br225542) event as described previously, to detect changes in location settings.\n\nNote that the location service will return data as it becomes available. It may first return a location with a larger error radius and then update the location with more accurate information as it becomes available. Apps displaying the user's location would normally want to update the location as more accurate information becomes available.\n\n### Graphical representations of location\n\nHave your app use [**Geocoordinate.accuracy**](https://msdn.microsoft.com/library/windows/apps/br225526) to denote the user’s current location on the map clearly. There are three main bands for accuracy—an error radius of approximately 10 meters, an error radius of approximately 100 meters, and an error radius of greater than 1 kilometer. By using the accuracy information, you can ensure that your app displays location accurately in the context of the data available. For general information about using the map control, see [Display maps with 2D, 3D, and Streetside views](https://msdn.microsoft.com/library/windows/apps/mt219695).\n\n-   For accuracy approximately equal to 10 meters (GPS resolution), location can be denoted by a dot or pin on the map. With this accuracy, latitude-longitude coordinates and street address can be shown as well.\n\n    ![example of map displayed at gps accuracy of approximately 10 meters.](images/10metererrorradius.png)\n\n-   For accuracy between 10 and 500 meters (approximately 100 meters), location is generally received through Wi-Fi resolution. Location obtained from cellular has an accuracy of around 300 meters. In such a case, we recommend that your app show an error radius. For apps that show directions where a centering dot is required, such a dot can be shown with an error radius surrounding it.\n\n    ![example of map displayed at wi-fi accuracy of approximately 100 meters.](images/100metererrorradius.png)\n\n-   If the accuracy returned is greater than 1 kilometer, you are probably receiving location info at IP-level resolution. This level of accuracy is often too low to pinpoint a particular spot on a map. Your app should zoom in to the city level on the map, or to the appropriate area based on the error radius (for example, region level).\n\n    ![example of map displayed at wi-fi accuracy of approximately 1 kilometer.](images/1000metererrorradius.png)\n\nWhen location accuracy switches from one band of accuracy to another, provide a graceful transition between the different graphical representations. This can be done by:\n\n-   Making the transition animation smooth and keeping the transition fast and fluid.\n-   Waiting for a few consecutive reports to confirm the change in accuracy, to help prevent unwanted and too-frequent zooms.\n\n### Textual representations of location\n\nSome types of apps—for example, a weather app or a local information app—need ways to represent location textually at the different bands of accuracy. Be sure to display the location clearly and only down to the level of accuracy provided in the data.\n\n-   For accuracy approximately equal to 10 meters (GPS resolution), the location data received is fairly accurate and so can be communicated to the level of the neighborhood name. City name, state or province name, and country/region name can also be used.\n-   For accuracy approximately equal to 100 meters (Wi-Fi resolution), the location data received is moderately accurate and so we recommend that you display information down to the city name. Avoid using the neighborhood name.\n-   For accuracy greater than 1 kilometer (IP resolution), display only the state or province, or country/region name.\n\n### Privacy considerations\n\nA user's geographic location is personally identifiable information (PII). The following website provides guidance for protecting user privacy.\n\n-   [Microsoft Privacy]( http://go.microsoft.com/fwlink/p/?LinkId=259692)\n\n<!--For more info, see [Guidelines for privacy-aware apps](guidelines-for-enabling-sensitive-devices.md).-->\n\n## Related topics\n\n* [Set up a geofence](https://msdn.microsoft.com/library/windows/apps/mt219702)\n* [Get current location](https://msdn.microsoft.com/library/windows/apps/mt219698)\n* [Display maps with 2D, 3D, and Streetside views](https://msdn.microsoft.com/library/windows/apps/mt219695)\n<!--* [Design guidelines for privacy-aware apps](guidelines-for-enabling-sensitive-devices.md)-->\n* [UWP location sample (geolocation)](http://go.microsoft.com/fwlink/p/?linkid=533278)\n \n\n \n\n\n\n\n"}