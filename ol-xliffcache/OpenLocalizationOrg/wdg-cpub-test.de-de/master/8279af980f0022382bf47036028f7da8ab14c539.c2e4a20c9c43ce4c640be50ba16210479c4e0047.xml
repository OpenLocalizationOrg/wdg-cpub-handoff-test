{"nodes":[{"pos":[17,114],"content":"Convert ink strokes to text using handwriting recognition, or to shapes using custom recognition.","needQuote":true,"needEscape":true,"nodes":[{"content":"Convert ink strokes to text using handwriting recognition, or to shapes using custom recognition.","pos":[0,97]}]},{"pos":[122,143],"content":"Recognize ink strokes","needQuote":true,"needEscape":true,"nodes":[{"content":"Recognize ink strokes","pos":[0,21]}]},{"content":"Recognize ink strokes","pos":[250,271]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[274,312]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[313,408],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"content":"Important APIs","pos":[413,427]},{"content":"InkCanvas","pos":[438,447]},{"content":"Windows.UI.Input.Inking","pos":[516,539]},{"content":"Convert ink strokes to text using handwriting recognition, or to shapes using custom recognition.","pos":[602,699]},{"content":"Handwriting recognition is built in to the Windows ink platform, and supports an extensive set of locales and languages.","pos":[701,821]},{"content":"For all examples here, add the namespace references required for ink functionality.","pos":[823,906]},{"content":"This includes \"Windows.UI.Input.Inking\".","pos":[907,947]},{"pos":[1096,1125],"content":"Basic handwriting recognition"},{"pos":[1128,1359],"content":"Here, we demonstrate how to use the handwriting recognition engine, associated with the default installed language pack, to interpret a set of strokes on an <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept>.","source":"Here, we demonstrate how to use the handwriting recognition engine, associated with the default installed language pack, to interpret a set of strokes on an [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535)."},{"content":"The recognition is initiated by the user clicking a button when they are finished writing.","pos":[1361,1451]},{"content":"First, we set up the UI.","pos":[1457,1481]},{"pos":[1487,1647],"content":"The UI includes a \"Recognize\" button, the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept>, and an area to display recognition results.","source":"The UI includes a \"Recognize\" button, the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535), and an area to display recognition results."},{"content":"We then set some basic ink input behaviors.","pos":[2794,2837]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> is configured to interpret input data from both pen and mouse as ink strokes (<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InputDeviceTypes<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn922019)</ept>).","pos":[2843,3084],"source":"The [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) is configured to interpret input data from both pen and mouse as ink strokes ([**InputDeviceTypes**](https://msdn.microsoft.com/library/windows/apps/dn922019))."},{"content":"Ink strokes are rendered on the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept> using the specified <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InkDrawingAttributes<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/desktop/ms695050)</ept>.","pos":[3085,3299],"source":" Ink strokes are rendered on the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) using the specified [**InkDrawingAttributes**](https://msdn.microsoft.com/library/windows/desktop/ms695050)."},{"content":"A listener for the click event on the \"Recognize\" button is also declared.","pos":[3300,3374]},{"content":"Finally, we perform the basic handwriting recognition.","pos":[4138,4192]},{"content":"For this example, we use the click event handler of the \"Recognize\" button to perform the handwriting recognition.","pos":[4193,4307]},{"content":"An <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> stores all ink strokes in an <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InkStrokeContainer<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br208492)</ept> object.","pos":[4313,4512],"source":"An [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stores all ink strokes in an [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) object."},{"content":"The strokes are exposed through the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StrokeContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn948766)</ept> property of the <bpt id=\"p3\">**</bpt>InkPresenter<ept id=\"p3\">**</ept> and retrieved using the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>GetStrokes<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br208499)</ept> method.","pos":[4513,4768],"source":" The strokes are exposed through the [**StrokeContainer**](https://msdn.microsoft.com/library/windows/apps/dn948766) property of the **InkPresenter** and retrieved using the [**GetStrokes**](https://msdn.microsoft.com/library/windows/apps/br208499) method."},{"pos":[10092,10117],"content":"International recognition"},{"content":"A comprehensive subset of languages supported by Windows can be used for handwriting recognition.","pos":[10120,10217]},{"content":"The following table lists the languages supported by the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkRecognizer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208478)</ept>.","pos":[10219,10354],"source":"The following table lists the languages supported by the [**InkRecognizer**](https://msdn.microsoft.com/library/windows/apps/br208478)."},{"content":"The first column contains the possible values for <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Name<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208484)</ept>.","pos":[10355,10474],"source":" The first column contains the possible values for [**Name**](https://msdn.microsoft.com/library/windows/apps/br208484)."},{"content":"Name","pos":[10478,10482]},{"content":"IETF language tag","pos":[10544,10561]},{"content":"Coverage","pos":[10564,10572]},{"content":"Microsoft English (US) Handwriting Recognizer","pos":[10814,10859]},{"content":"en-US","pos":[10880,10885]},{"content":"English in the U.S. and the Philippines","pos":[10900,10939]},{"content":"Microsoft English (UK) Handwriting Recognizer","pos":[10982,11027]},{"content":"en-GB","pos":[11048,11053]},{"content":"English in Great Britain, and all other locations not specified in this table","pos":[11068,11145]},{"content":"Microsoft English (Canada) Handwriting Recognizer","pos":[11150,11199]},{"content":"en-CA","pos":[11216,11221]},{"content":"English in Canada","pos":[11236,11253]},{"content":"Microsoft English (Australia) Handwriting Recognizer","pos":[11318,11370]},{"content":"en-AU","pos":[11384,11389]},{"content":"English in Australia","pos":[11404,11424]},{"content":"Microsoft-Handschrifterkennung - Deutsch","pos":[11486,11526]},{"content":"de-DE","pos":[11552,11557]},{"content":"German in Germany, Austria, Luxembourg, and Namibia","pos":[11572,11623]},{"content":"Microsoft-Handschrifterkennung - Deutsch (Schweiz)","pos":[11654,11704]},{"content":"de-CH","pos":[11720,11725]},{"content":"German in Switzerland and Liechtenstein","pos":[11740,11779]},{"content":"Reconocimiento de escritura a mano en español de Microsoft","pos":[11822,11880]},{"content":"es-ES","pos":[11888,11893]},{"content":"Spanish in Spain, and all other locations not specified in this table","pos":[11908,11977]},{"content":"Reconocedor de escritura en Español (México) de Microsoft","pos":[11990,12047]},{"content":"es-MX","pos":[12056,12061]},{"content":"Spanish in Mexico and the United States","pos":[12076,12115]},{"content":"Reconocedor de escritura en Español (Argentina) de Microsoft","pos":[12158,12218]},{"content":"es-AR","pos":[12224,12229]},{"content":"Spanish in Argentina, Paraguay, and Uruguay","pos":[12244,12287]},{"content":"Reconnaissance d'écriture Microsoft - Français","pos":[12326,12372]},{"content":"fr","pos":[12392,12394]},{"content":"French in France, Canada, Belgium, Switzerland, and all other locations","pos":[12412,12483]},{"content":"Microsoft 日本語手書き認識エンジン","pos":[12494,12516]},{"content":"ja","pos":[12548,12550]},{"content":"Japanese in all locations","pos":[12568,12593]},{"content":"Riconoscimento grafia italiana Microsoft","pos":[12650,12690]},{"content":"it","pos":[12716,12718]},{"content":"Italian in Italy, Switzerland, and all other locations","pos":[12736,12790]},{"content":"Microsoft Nederlandstalige handschriftherkenning","pos":[12818,12866]},{"content":"nl-NL","pos":[12884,12889]},{"content":"Dutch in the Netherlands, Surinam, and the Antilles","pos":[12904,12955]},{"content":"Microsoft Nederlandstalige (België) handschriftherkenning","pos":[12986,13043]},{"content":"nl-BE","pos":[13052,13057]},{"content":"Dutch in Belgium (Flemish)","pos":[13072,13098]},{"content":"Microsoft 中文(简体)手写识别器","pos":[13154,13175]},{"content":"zh","pos":[13211,13213]},{"content":"Chinese in simplified script","pos":[13231,13259]},{"content":"Microsoft 中文(繁體)手寫辨識器","pos":[13313,13334]},{"content":"zh-Hant","pos":[13370,13377]},{"content":"Chinese in traditional script","pos":[13390,13419]},{"content":"Microsoft система распознавания русского рукописного ввода","pos":[13472,13530]},{"content":"ru","pos":[13538,13540]},{"content":"Russian in all locations","pos":[13558,13582]},{"content":"Reconhecedor de Manuscrito da Microsoft para Português (Brasil)","pos":[13640,13703]},{"content":"pt-BR","pos":[13706,13711]},{"content":"Portuguese in Brazil","pos":[13726,13746]},{"content":"Reconhecedor de escrita manual da Microsoft para português","pos":[13808,13866]},{"content":"pt-PT","pos":[13874,13879]},{"content":"Portuguese in Portugal, and all other locations","pos":[13894,13941]},{"content":"Microsoft 한글 필기 인식기","pos":[13976,13995]},{"content":"ko","pos":[14035,14037]},{"content":"Korean in all locations","pos":[14055,14078]},{"content":"System rozpoznawania polskiego pisma odręcznego firmy Microsoft","pos":[14137,14200]},{"content":"pl","pos":[14203,14205]},{"content":"Polish in all locations","pos":[14223,14246]},{"content":"Microsoft Handskriftstolk för svenska","pos":[14305,14342]},{"content":"sv","pos":[14371,14373]},{"content":"Swedish in all locations","pos":[14391,14415]},{"content":"Microsoft rozpoznávač rukopisu pro český jazyk","pos":[14473,14519]},{"content":"cs","pos":[14539,14541]},{"content":"Czech in all locations","pos":[14559,14581]},{"content":"Microsoft Genkendelse af dansk håndskrift","pos":[14641,14682]},{"content":"da","pos":[14707,14709]},{"content":"Danish in all locations","pos":[14727,14750]},{"content":"Microsoft Håndskriftsgjenkjenner for norsk","pos":[14809,14851]},{"content":"nb","pos":[14875,14877]},{"content":"Norwegian (Bokmal) in all locations","pos":[14895,14930]},{"content":"Microsoft Håndskriftsgjenkjenner for nynorsk","pos":[14977,15021]},{"content":"nn","pos":[15043,15045]},{"content":"Norwegian (Nynorsk) in all locations","pos":[15063,15099]},{"content":"Microsoftin suomenkielinen käsinkirjoituksen tunnistus","pos":[15145,15199]},{"content":"fi","pos":[15211,15213]},{"content":"Finnish in all locations","pos":[15231,15255]},{"content":"Microsoft recunoaştere grafie - Română","pos":[15313,15351]},{"content":"ro","pos":[15379,15381]},{"content":"Romanian in all locations","pos":[15399,15424]},{"content":"Microsoftov hrvatski rukopisni prepoznavač","pos":[15481,15523]},{"content":"hr","pos":[15547,15549]},{"content":"Croatian in all locations","pos":[15567,15592]},{"content":"Microsoft prepoznavač rukopisa za srpski (latinica)","pos":[15649,15700]},{"content":"sr-Latn","pos":[15715,15722]},{"content":"Serbian, in Latin, in all locations","pos":[15735,15770]},{"content":"Microsoft препознавач рукописа за српски (ћирилица)","pos":[15817,15868]},{"content":"sr","pos":[15883,15885]},{"content":"Serbian, in Cyrillic, in all locations","pos":[15903,15941]},{"content":"Reconeixedor d'escriptura manual en català de Microsoft","pos":[15985,16040]},{"content":"ca","pos":[16051,16053]},{"content":"Catalan in all locations","pos":[16071,16095]},{"content":"Your app can query the set of installed handwriting recognition engines and use one of those or let a user select their preferred language.","pos":[16155,16294]},{"content":"Note","pos":[16298,16302]},{"content":"Users can see a list of installed languages by going to Settings -<ph id=\"ph1\">&amp;gt;</ph> Time &amp; Language.","pos":[16307,16394],"source":"Users can see a list of installed languages by going to Settings -&gt; Time & Language."},{"content":"Installed languages are listed under Languages.","pos":[16395,16442]},{"content":"To install new language packs and enable handwriting recognition for that language:","pos":[16444,16527]},{"pos":[16533,16596],"content":"Go to <bpt id=\"p1\">**</bpt>Settings <ph id=\"ph1\">&amp;gt;</ph> Time &amp; language <ph id=\"ph2\">&amp;gt;</ph> Region &amp; language<ept id=\"p1\">**</ept>.","source":"Go to **Settings &gt; Time & language &gt; Region & language**."},{"pos":[16601,16627],"content":"Select <bpt id=\"p1\">**</bpt>Add a language<ept id=\"p1\">**</ept>.","source":"Select **Add a language**."},{"content":"Select a language from the list, then choose the region version.","pos":[16632,16696]},{"content":"The language is now listed on the <bpt id=\"p1\">**</bpt>Region &amp; language<ept id=\"p1\">**</ept> page.","pos":[16697,16758],"source":" The language is now listed on the **Region & language** page."},{"pos":[16763,16805],"content":"Click the language and select <bpt id=\"p1\">**</bpt>Options<ept id=\"p1\">**</ept>.","source":"Click the language and select **Options**."},{"pos":[16810,16993],"content":"On the <bpt id=\"p1\">**</bpt>Language options<ept id=\"p1\">**</ept> page, download the <bpt id=\"p2\">**</bpt>Handwriting recognition engine<ept id=\"p2\">**</ept> (they can also download the full language pack, speech recognition engine, and keyboard layout here).","source":"On the **Language options** page, download the **Handwriting recognition engine** (they can also download the full language pack, speech recognition engine, and keyboard layout here)."},{"pos":[16998,17208],"content":"Here, we demonstrate how to use the handwriting recognition engine to interpret a set of strokes on an <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept> based on the selected recognizer.","source":"Here, we demonstrate how to use the handwriting recognition engine to interpret a set of strokes on an [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) based on the selected recognizer."},{"content":"The recognition is initiated by the user clicking a button when they are finished writing.","pos":[17210,17300]},{"content":"First, we set up the UI.","pos":[17306,17330]},{"pos":[17336,17558],"content":"The UI includes a \"Recognize\" button, a combo box that lists all installed handwriting recognizers, the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept>, and an area to display recognition results.","source":"The UI includes a \"Recognize\" button, a combo box that lists all installed handwriting recognizers, the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535), and an area to display recognition results."},{"content":"We then set some basic ink input behaviors.","pos":[19205,19248]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> is configured to interpret input data from both pen and mouse as ink strokes (<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InputDeviceTypes<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn922019)</ept>).","pos":[19254,19495],"source":"The [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) is configured to interpret input data from both pen and mouse as ink strokes ([**InputDeviceTypes**](https://msdn.microsoft.com/library/windows/apps/dn922019))."},{"content":"Ink strokes are rendered on the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkCanvas<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept> using the specified <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InkDrawingAttributes<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/desktop/ms695050)</ept>.","pos":[19496,19710],"source":" Ink strokes are rendered on the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) using the specified [**InkDrawingAttributes**](https://msdn.microsoft.com/library/windows/desktop/ms695050)."},{"pos":[19716,19849],"content":"We call an <ph id=\"ph1\">`InitializeRecognizerList`</ph> function to populate the recognizer combo box with a list of installed handwriting recognizers.","source":"We call an `InitializeRecognizerList` function to populate the recognizer combo box with a list of installed handwriting recognizers."},{"content":"We also declare listeners for the click event on the \"Recognize\" button and the selection changed event on the recognizer combo box.","pos":[19855,19987]},{"content":"We populate the recognizer combo box with a list of installed handwriting recognizers.","pos":[21043,21129]},{"content":"An <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkRecognizerContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208479)</ept> is created to manage the handwriting recognition process.","pos":[21135,21282],"source":"An [**InkRecognizerContainer**](https://msdn.microsoft.com/library/windows/apps/br208479) is created to manage the handwriting recognition process."},{"content":"Use this object to call <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetRecognizers<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208480)</ept> and retrieve the list of installed recognizers to populate the recognizer combo box.","pos":[21283,21470],"source":" Use this object to call [**GetRecognizers**](https://msdn.microsoft.com/library/windows/apps/br208480) and retrieve the list of installed recognizers to populate the recognizer combo box."},{"content":"Update the handwriting recognizer if the recognizer combo box selection changes.","pos":[22206,22286]},{"pos":[22292,22543],"content":"Use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkRecognizerContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br208479)</ept> to call <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>SetDefaultRecognizer<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh920328)</ept> based on the selected recognizer from the recognizer combo box.","source":"Use the [**InkRecognizerContainer**](https://msdn.microsoft.com/library/windows/apps/br208479) to call [**SetDefaultRecognizer**](https://msdn.microsoft.com/library/windows/apps/hh920328) based on the selected recognizer from the recognizer combo box."},{"content":"Finally, we perform the handwriting recognition based on the selected handwriting recognizer.","pos":[22843,22936]},{"content":"For this example, we use the click event handler of the \"Recognize\" button to perform the handwriting recognition.","pos":[22937,23051]},{"content":"An <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> stores all ink strokes in an <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InkStrokeContainer<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br208492)</ept> object.","pos":[23057,23256],"source":"An [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stores all ink strokes in an [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) object."},{"content":"The strokes are exposed through the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StrokeContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn948766)</ept> property of the <bpt id=\"p3\">**</bpt>InkPresenter<ept id=\"p3\">**</ept> and retrieved using the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>GetStrokes<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br208499)</ept> method.","pos":[23257,23512],"source":" The strokes are exposed through the [**StrokeContainer**](https://msdn.microsoft.com/library/windows/apps/dn948766) property of the **InkPresenter** and retrieved using the [**GetStrokes**](https://msdn.microsoft.com/library/windows/apps/br208499) method."},{"pos":[28423,28454],"content":"Dynamic handwriting recognition"},{"content":"The previous two examples require the user to press a button to start recognition.","pos":[28457,28539]},{"content":"Your app can also perform dynamic recognition using stroke input paired with a basic timing function.","pos":[28540,28641]},{"content":"For this example, we'll use the same UI and stroke settings as the previous international recognition example.","pos":[28643,28753]},{"pos":[28759,29247],"content":"Like the previous examples, the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> is configured to interpret input data from both pen and mouse as ink strokes (<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InputDeviceTypes<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn922019)</ept>), and ink strokes are rendered on the <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>InkCanvas<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/dn858535)</ept> using the specified <bpt id=\"p7\">[</bpt><bpt id=\"p8\">**</bpt>InkDrawingAttributes<ept id=\"p8\">**</ept><ept id=\"p7\">](https://msdn.microsoft.com/library/windows/desktop/ms695050)</ept>.","source":"Like the previous examples, the [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) is configured to interpret input data from both pen and mouse as ink strokes ([**InputDeviceTypes**](https://msdn.microsoft.com/library/windows/apps/dn922019)), and ink strokes are rendered on the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) using the specified [**InkDrawingAttributes**](https://msdn.microsoft.com/library/windows/desktop/ms695050)."},{"pos":[29253,29783],"content":"Instead of a button to initiate recognition, we add listeners for two <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> stroke events (<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>StrokesCollected<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn922024)</ept> and <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>StrokeStarted<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/dn914702)</ept>), and set up a basic timer (<bpt id=\"p7\">[</bpt><bpt id=\"p8\">**</bpt>DispatcherTimer<ept id=\"p8\">**</ept><ept id=\"p7\">](https://msdn.microsoft.com/library/windows/apps/br244250)</ept>) with a one second <bpt id=\"p9\">[</bpt><bpt id=\"p10\">**</bpt>Tick<ept id=\"p10\">**</ept><ept id=\"p9\">](https://msdn.microsoft.com/library/windows/apps/br244256)</ept> interval.","source":"Instead of a button to initiate recognition, we add listeners for two [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stroke events ([**StrokesCollected**](https://msdn.microsoft.com/library/windows/apps/dn922024) and [**StrokeStarted**](https://msdn.microsoft.com/library/windows/apps/dn914702)), and set up a basic timer ([**DispatcherTimer**](https://msdn.microsoft.com/library/windows/apps/br244250)) with a one second [**Tick**](https://msdn.microsoft.com/library/windows/apps/br244256) interval."},{"content":"Here are the handlers for the three events we added in the first step.","pos":[32315,32385]},{"pos":[32391,32760],"content":"<span id=\"StrokesCollected\"></span><span id=\"strokescollected\"></span><span id=\"STROKESCOLLECTED\"></span>[**StrokesCollected**](https://msdn.microsoft.com/library/windows/apps/dn922024)  \nStart the recognition timer when the user stops inking by lifting their pen or finger, or releasing the mouse button. After one second of no ink input, recognition is initiated.","leadings":["","    "],"nodes":[{"content":"StrokesCollected","pos":[108,124]},{"content":"Start the recognition timer when the user stops inking by lifting their pen or finger, or releasing the mouse button. After one second of no ink input, recognition is initiated.","pos":[188,365],"nodes":[{"content":"Start the recognition timer when the user stops inking by lifting their pen or finger, or releasing the mouse button.","pos":[0,117]},{"content":"After one second of no ink input, recognition is initiated.","pos":[118,177]}]}]},{"pos":[32766,33093],"content":"<span id=\"StrokeStarted\"></span><span id=\"strokestarted\"></span><span id=\"STROKESTARTED\"></span>[**StrokeStarted**](https://msdn.microsoft.com/library/windows/apps/dn914702)  \nIf a new stroke starts before the next timer tick event, stop the timer as the new stroke is likely the continuation of a single handwriting entry.","leadings":["","    "],"nodes":[{"content":"StrokeStarted","pos":[99,112]},{"content":"If a new stroke starts before the next timer tick event, stop the timer as the new stroke is likely the continuation of a single handwriting entry.","pos":[176,323]}]},{"pos":[33099,33306],"content":"<span id=\"Tick\"></span><span id=\"tick\"></span><span id=\"TICK\"></span>[**Tick**](https://msdn.microsoft.com/library/windows/apps/br244256)  \nCall the recognition function after one second of no ink input.","leadings":["","    "],"nodes":[{"content":"Tick","pos":[72,76]},{"content":"Call the recognition function after one second of no ink input.","pos":[140,203]}]},{"content":"Finally, we perform the handwriting recognition based on the selected handwriting recognizer.","pos":[34246,34339]},{"content":"For this example, we use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Tick<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br244256)</ept> event handler of a <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>DispatcherTimer<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br244250)</ept> to initiate the handwriting recognition.","pos":[34340,34577],"source":" For this example, we use the [**Tick**](https://msdn.microsoft.com/library/windows/apps/br244256) event handler of a [**DispatcherTimer**](https://msdn.microsoft.com/library/windows/apps/br244250) to initiate the handwriting recognition."},{"content":"An <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>InkPresenter<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn899081)</ept> stores all ink strokes in an <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>InkStrokeContainer<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br208492)</ept> object.","pos":[34583,34782],"source":"An [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stores all ink strokes in an [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) object."},{"content":"The strokes are exposed through the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StrokeContainer<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn948766)</ept> property of the <bpt id=\"p3\">**</bpt>InkPresenter<ept id=\"p3\">**</ept> and retrieved using the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>GetStrokes<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br208499)</ept> method.","pos":[34783,35038],"source":" The strokes are exposed through the [**StrokeContainer**](https://msdn.microsoft.com/library/windows/apps/dn948766) property of the **InkPresenter** and retrieved using the [**GetStrokes**](https://msdn.microsoft.com/library/windows/apps/br208499) method."},{"pos":[39765,39781],"content":"Related articles"},{"pos":[39786,39859],"content":"<bpt id=\"p1\">[</bpt>Pen and stylus interactions<ept id=\"p1\">](pen-and-stylus-interactions.md)</ept><ph id=\"ph1\">\n</ph><bpt id=\"p2\">**</bpt>Samples<ept id=\"p2\">**</ept>","source":"[Pen and stylus interactions](pen-and-stylus-interactions.md)\n**Samples**"},{"content":"Ink sample","pos":[39863,39873]},{"content":"Simple ink sample","pos":[39927,39944]},{"content":"Complex ink sample","pos":[39998,40016]}],"content":"---\nDescription: Convert ink strokes to text using handwriting recognition, or to shapes using custom recognition.\ntitle: Recognize ink strokes\nms.assetid: C2F3F3CE-737F-4652-98B7-5278A462F9D3\nlabel: Recognize ink strokes\ntemplate: detail.hbs\n---\n\n# Recognize ink strokes\n\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n\n**Important APIs**\n\n-   [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535)\n-   [**Windows.UI.Input.Inking**](https://msdn.microsoft.com/library/windows/apps/br208524)\n\nConvert ink strokes to text using handwriting recognition, or to shapes using custom recognition.\n\nHandwriting recognition is built in to the Windows ink platform, and supports an extensive set of locales and languages.\n\nFor all examples here, add the namespace references required for ink functionality. This includes \"Windows.UI.Input.Inking\".\n\n## <span id=\"Basic_handwriting_recognition\"></span><span id=\"basic_handwriting_recognition\"></span><span id=\"BASIC_HANDWRITING_RECOGNITION\"></span>Basic handwriting recognition\n\n\nHere, we demonstrate how to use the handwriting recognition engine, associated with the default installed language pack, to interpret a set of strokes on an [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535).\n\nThe recognition is initiated by the user clicking a button when they are finished writing.\n\n1.  First, we set up the UI.\n\n    The UI includes a \"Recognize\" button, the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535), and an area to display recognition results.\n\n```    XAML\n<Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\">\n        <Grid.RowDefinitions>\n            <RowDefinition Height=\"Auto\"/>\n            <RowDefinition Height=\"*\"/>\n        </Grid.RowDefinitions>\n        <StackPanel x:Name=\"HeaderPanel\" \n                    Orientation=\"Horizontal\" \n                    Grid.Row=\"0\">\n            <TextBlock x:Name=\"Header\" \n                       Text=\"Basic ink recognition sample\" \n                       Style=\"{ThemeResource HeaderTextBlockStyle}\" \n                       Margin=\"10,0,0,0\" />\n            <Button x:Name=\"recognize\" \n                    Content=\"Recognize\" \n                    Margin=\"50,0,10,0\"/>\n        </StackPanel>\n        <Grid Grid.Row=\"1\">\n            <Grid.RowDefinitions>\n                <RowDefinition Height=\"*\"/>\n                <RowDefinition Height=\"Auto\"/>\n            </Grid.RowDefinitions>\n            <InkCanvas x:Name=\"inkCanvas\" \n                       Grid.Row=\"0\"/>\n            <TextBlock x:Name=\"recognitionResult\" \n                       Grid.Row=\"1\" \n                       Margin=\"50,0,10,0\"/>\n        </Grid>\n    </Grid>\n```\n\n2.  We then set some basic ink input behaviors.\n\n    The [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) is configured to interpret input data from both pen and mouse as ink strokes ([**InputDeviceTypes**](https://msdn.microsoft.com/library/windows/apps/dn922019)). Ink strokes are rendered on the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) using the specified [**InkDrawingAttributes**](https://msdn.microsoft.com/library/windows/desktop/ms695050). A listener for the click event on the \"Recognize\" button is also declared.\n\n```    CSharp\npublic MainPage()\n    {\n        this.InitializeComponent();\n\n        // Set supported inking device types.\n        inkCanvas.InkPresenter.InputDeviceTypes =\n            Windows.UI.Core.CoreInputDeviceTypes.Mouse |\n            Windows.UI.Core.CoreInputDeviceTypes.Pen;\n\n        // Set initial ink stroke attributes.\n        InkDrawingAttributes drawingAttributes = new InkDrawingAttributes();\n        drawingAttributes.Color = Windows.UI.Colors.Black;\n        drawingAttributes.IgnorePressure = false;\n        drawingAttributes.FitToCurve = true;\n        inkCanvas.InkPresenter.UpdateDefaultDrawingAttributes(drawingAttributes);\n\n        // Listen for button click to initiate recognition.\n        recognize.Click += Recognize_Click;\n    }\n```\n\n3.  Finally, we perform the basic handwriting recognition. For this example, we use the click event handler of the \"Recognize\" button to perform the handwriting recognition.\n\n    An [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stores all ink strokes in an [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) object. The strokes are exposed through the [**StrokeContainer**](https://msdn.microsoft.com/library/windows/apps/dn948766) property of the **InkPresenter** and retrieved using the [**GetStrokes**](https://msdn.microsoft.com/library/windows/apps/br208499) method.\n\n```    CSharp\n// Get all strokes on the InkCanvas.\n    IReadOnlyList<InkStroke> currentStrokes = inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n```\n\n    An [**InkRecognizerContainer**](https://msdn.microsoft.com/library/windows/apps/br208479) is created to manage the handwriting recognition process.\n\n```    CSharp\n// Create a manager for the InkRecognizer object \n    // used in handwriting recognition.\n    InkRecognizerContainer inkRecognizerContainer = \n        new InkRecognizerContainer();\n```\n\n    [**RecognizeAsync**](https://msdn.microsoft.com/library/windows/apps/br208446) is called to retrieve a set of [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) objects.\n\n    Recognition results are produced for each word that is detected by an [**InkRecognizer**](https://msdn.microsoft.com/library/windows/apps/br208478).\n\n```    CSharp\n// Recognize all ink strokes on the ink canvas.\n    IReadOnlyList<InkRecognitionResult> recognitionResults = \n        await inkRecognizerContainer.RecognizeAsync(\n            inkCanvas.InkPresenter.StrokeContainer, \n            InkRecognitionTarget.All);\n```\n\n    Each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) object contains a set of text candidates. The topmost item in this list is considered by the recognition engine to be the best match, followed by the remaining candidates in order of decreasing confidence.\n\n    We iterate through each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) and compile the list of candidates. The candidates are then displayed and the [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) is cleared (which also clears the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535)).\n\n```    CSharp\nstring str = \"Recognition result\\n\";\n    // Iterate through the recognition results.\n    foreach (var result in recognitionResults)\n    {\n        // Get all recognition candidates from each recognition result.\n        IReadOnlyList<string> candidates = result.GetTextCandidates();\n        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n        foreach (string candidate in candidates)\n        {\n            str += candidate + \" \";\n        }\n    }\n    // Display the recognition candidates.\n    recognitionResult.Text = str;\n    // Clear the ink canvas once recognition is complete.\n    inkCanvas.InkPresenter.StrokeContainer.Clear();\n```\n\n    Here's the click handler example, in full.\n\n```    CSharp\n// Handle button click to initiate recognition.\n    private async void Recognize_Click(object sender, RoutedEventArgs e)\n    {\n        // Get all strokes on the InkCanvas.\n        IReadOnlyList<InkStroke> currentStrokes = inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n\n        // Ensure an ink stroke is present.\n        if (currentStrokes.Count > 0)\n        {\n            // Create a manager for the InkRecognizer object \n            // used in handwriting recognition.\n            InkRecognizerContainer inkRecognizerContainer = \n                new InkRecognizerContainer();\n\n            // inkRecognizerContainer is null if a recognition engine is not available.\n            if (!(inkRecognizerContainer == null))\n            {\n                // Recognize all ink strokes on the ink canvas.\n                IReadOnlyList<InkRecognitionResult> recognitionResults = \n                    await inkRecognizerContainer.RecognizeAsync(\n                        inkCanvas.InkPresenter.StrokeContainer, \n                        InkRecognitionTarget.All);\n                // Process and display the recognition results.\n                if (recognitionResults.Count > 0)\n                {\n                    string str = \"Recognition result\\n\";\n                    // Iterate through the recognition results.\n                    foreach (var result in recognitionResults)\n                    {\n                        // Get all recognition candidates from each recognition result.\n                        IReadOnlyList<string> candidates = result.GetTextCandidates();\n                        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n                        foreach (string candidate in candidates)\n                        {\n                            str += candidate + \" \";\n                        }\n                    }\n                    // Display the recognition candidates.\n                    recognitionResult.Text = str;\n                    // Clear the ink canvas once recognition is complete.\n                    inkCanvas.InkPresenter.StrokeContainer.Clear();\n                }\n                else\n                {\n                    recognitionResult.Text = \"No recognition results.\";\n                }\n            }\n            else\n            {\n                Windows.UI.Popups.MessageDialog messageDialog = new Windows.UI.Popups.MessageDialog(\"You must install handwriting recognition engine.\");\n                await messageDialog.ShowAsync();\n            }\n        }\n        else\n        {\n            recognitionResult.Text = \"No ink strokes to recognize.\";\n        }\n    }\n```\n\n## <span id=\"International_recognition\"></span><span id=\"international_recognition\"></span><span id=\"INTERNATIONAL_RECOGNITION\"></span>International recognition\n\n\nA comprehensive subset of languages supported by Windows can be used for handwriting recognition.\n\nThe following table lists the languages supported by the [**InkRecognizer**](https://msdn.microsoft.com/library/windows/apps/br208478). The first column contains the possible values for [**Name**](https://msdn.microsoft.com/library/windows/apps/br208484).\n\n| Name                                                            | IETF language tag | Coverage                                                                      |\n|-----------------------------------------------------------------|-------------------|-------------------------------------------------------------------------------|\n| Microsoft English (US) Handwriting Recognizer                   | en-US             | English in the U.S. and the Philippines                                       |\n| Microsoft English (UK) Handwriting Recognizer                   | en-GB             | English in Great Britain, and all other locations not specified in this table |\n| Microsoft English (Canada) Handwriting Recognizer               | en-CA             | English in Canada                                                             |\n| Microsoft English (Australia) Handwriting Recognizer            | en-AU             | English in Australia                                                          |\n| Microsoft-Handschrifterkennung - Deutsch                        | de-DE             | German in Germany, Austria, Luxembourg, and Namibia                           |\n| Microsoft-Handschrifterkennung - Deutsch (Schweiz)              | de-CH             | German in Switzerland and Liechtenstein                                       |\n| Reconocimiento de escritura a mano en español de Microsoft      | es-ES             | Spanish in Spain, and all other locations not specified in this table         |\n| Reconocedor de escritura en Español (México) de Microsoft       | es-MX             | Spanish in Mexico and the United States                                       |\n| Reconocedor de escritura en Español (Argentina) de Microsoft    | es-AR             | Spanish in Argentina, Paraguay, and Uruguay                                   |\n| Reconnaissance d'écriture Microsoft - Français                  | fr                | French in France, Canada, Belgium, Switzerland, and all other locations       |\n| Microsoft 日本語手書き認識エンジン                              | ja                | Japanese in all locations                                                     |\n| Riconoscimento grafia italiana Microsoft                        | it                | Italian in Italy, Switzerland, and all other locations                        |\n| Microsoft Nederlandstalige handschriftherkenning                | nl-NL             | Dutch in the Netherlands, Surinam, and the Antilles                           |\n| Microsoft Nederlandstalige (België) handschriftherkenning       | nl-BE             | Dutch in Belgium (Flemish)                                                    |\n| Microsoft 中文(简体)手写识别器                                  | zh                | Chinese in simplified script                                                  |\n| Microsoft 中文(繁體)手寫辨識器                                  | zh-Hant           | Chinese in traditional script                                                 |\n| Microsoft система распознавания русского рукописного ввода      | ru                | Russian in all locations                                                      |\n| Reconhecedor de Manuscrito da Microsoft para Português (Brasil) | pt-BR             | Portuguese in Brazil                                                          |\n| Reconhecedor de escrita manual da Microsoft para português      | pt-PT             | Portuguese in Portugal, and all other locations                               |\n| Microsoft 한글 필기 인식기                                      | ko                | Korean in all locations                                                       |\n| System rozpoznawania polskiego pisma odręcznego firmy Microsoft | pl                | Polish in all locations                                                       |\n| Microsoft Handskriftstolk för svenska                           | sv                | Swedish in all locations                                                      |\n| Microsoft rozpoznávač rukopisu pro český jazyk                  | cs                | Czech in all locations                                                        |\n| Microsoft Genkendelse af dansk håndskrift                       | da                | Danish in all locations                                                       |\n| Microsoft Håndskriftsgjenkjenner for norsk                      | nb                | Norwegian (Bokmal) in all locations                                           |\n| Microsoft Håndskriftsgjenkjenner for nynorsk                    | nn                | Norwegian (Nynorsk) in all locations                                          |\n| Microsoftin suomenkielinen käsinkirjoituksen tunnistus          | fi                | Finnish in all locations                                                      |\n| Microsoft recunoaştere grafie - Română                          | ro                | Romanian in all locations                                                     |\n| Microsoftov hrvatski rukopisni prepoznavač                      | hr                | Croatian in all locations                                                     |\n| Microsoft prepoznavač rukopisa za srpski (latinica)             | sr-Latn           | Serbian, in Latin, in all locations                                           |\n| Microsoft препознавач рукописа за српски (ћирилица)             | sr                | Serbian, in Cyrillic, in all locations                                        |\n| Reconeixedor d'escriptura manual en català de Microsoft         | ca                | Catalan in all locations                                                      |\n\n \n\nYour app can query the set of installed handwriting recognition engines and use one of those or let a user select their preferred language.\n\n**Note**  \nUsers can see a list of installed languages by going to Settings -&gt; Time & Language. Installed languages are listed under Languages.\n\nTo install new language packs and enable handwriting recognition for that language:\n\n1.  Go to **Settings &gt; Time & language &gt; Region & language**.\n2.  Select **Add a language**.\n3.  Select a language from the list, then choose the region version. The language is now listed on the **Region & language** page.\n4.  Click the language and select **Options**.\n5.  On the **Language options** page, download the **Handwriting recognition engine** (they can also download the full language pack, speech recognition engine, and keyboard layout here).\n\n \n\nHere, we demonstrate how to use the handwriting recognition engine to interpret a set of strokes on an [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) based on the selected recognizer.\n\nThe recognition is initiated by the user clicking a button when they are finished writing.\n\n1.  First, we set up the UI.\n\n    The UI includes a \"Recognize\" button, a combo box that lists all installed handwriting recognizers, the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535), and an area to display recognition results.\n\n```    XAML\n<Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\">\n        <Grid.RowDefinitions>\n            <RowDefinition Height=\"Auto\"/>\n            <RowDefinition Height=\"*\"/>\n        </Grid.RowDefinitions>\n        <StackPanel x:Name=\"HeaderPanel\" \n                    Orientation=\"Horizontal\" \n                    Grid.Row=\"0\">\n            <TextBlock x:Name=\"Header\" \n                       Text=\"Advanced international ink recognition sample\" \n                       Style=\"{ThemeResource HeaderTextBlockStyle}\" \n                       Margin=\"10,0,0,0\" />\n            <ComboBox x:Name=\"comboInstalledRecognizers\" \n                     Margin=\"50,0,10,0\">\n                <ComboBox.ItemTemplate>\n                    <DataTemplate>\n                        <StackPanel Orientation=\"Horizontal\">\n                            <TextBlock Text=\"{Binding Name}\" />\n                        </StackPanel>\n                    </DataTemplate>\n                </ComboBox.ItemTemplate>\n            </ComboBox>\n            <Button x:Name=\"buttonRecognize\" \n                    Content=\"Recognize\" \n                    IsEnabled=\"False\"\n                    Margin=\"50,0,10,0\"/>\n        </StackPanel>\n        <Grid Grid.Row=\"1\">\n            <Grid.RowDefinitions>\n                <RowDefinition Height=\"*\"/>\n                <RowDefinition Height=\"Auto\"/>\n            </Grid.RowDefinitions>\n            <InkCanvas x:Name=\"inkCanvas\" \n                       Grid.Row=\"0\"/>\n            <TextBlock x:Name=\"recognitionResult\" \n                       Grid.Row=\"1\" \n                       Margin=\"50,0,10,0\"/>\n        </Grid>\n    </Grid>\n```\n\n2.  We then set some basic ink input behaviors.\n\n    The [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) is configured to interpret input data from both pen and mouse as ink strokes ([**InputDeviceTypes**](https://msdn.microsoft.com/library/windows/apps/dn922019)). Ink strokes are rendered on the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) using the specified [**InkDrawingAttributes**](https://msdn.microsoft.com/library/windows/desktop/ms695050).\n\n    We call an `InitializeRecognizerList` function to populate the recognizer combo box with a list of installed handwriting recognizers.\n\n    We also declare listeners for the click event on the \"Recognize\" button and the selection changed event on the recognizer combo box.\n\n```    CSharp\n public MainPage()\n     {\n         this.InitializeComponent();\n\n         // Set supported inking device types.\n         inkCanvas.InkPresenter.InputDeviceTypes =\n             Windows.UI.Core.CoreInputDeviceTypes.Mouse |\n             Windows.UI.Core.CoreInputDeviceTypes.Pen;\n\n         // Set initial ink stroke attributes.\n         InkDrawingAttributes drawingAttributes = new InkDrawingAttributes();\n         drawingAttributes.Color = Windows.UI.Colors.Black;\n         drawingAttributes.IgnorePressure = false;\n         drawingAttributes.FitToCurve = true;\n         inkCanvas.InkPresenter.UpdateDefaultDrawingAttributes(drawingAttributes);\n\n         // Populate the recognizer combo box with installed recognizers.\n         InitializeRecognizerList();\n\n         // Listen for combo box selection.\n         comboInstalledRecognizers.SelectionChanged += \n             comboInstalledRecognizers_SelectionChanged;\n\n         // Listen for button click to initiate recognition.\n         buttonRecognize.Click += Recognize_Click;\n     }\n```\n\n3.  We populate the recognizer combo box with a list of installed handwriting recognizers.\n\n    An [**InkRecognizerContainer**](https://msdn.microsoft.com/library/windows/apps/br208479) is created to manage the handwriting recognition process. Use this object to call [**GetRecognizers**](https://msdn.microsoft.com/library/windows/apps/br208480) and retrieve the list of installed recognizers to populate the recognizer combo box.\n\n```    CSharp\n// Populate the recognizer combo box with installed recognizers.\n    private void InitializeRecognizerList()\n    {\n        // Create a manager for the handwriting recognition process.\n        inkRecognizerContainer = new InkRecognizerContainer();\n        // Retrieve the collection of installed handwriting recognizers.\n        IReadOnlyList<InkRecognizer> installedRecognizers = \n            inkRecognizerContainer.GetRecognizers();\n        // inkRecognizerContainer is null if a recognition engine is not available.\n        if (!(inkRecognizerContainer == null))\n        {\n            comboInstalledRecognizers.ItemsSource = installedRecognizers;\n            buttonRecognize.IsEnabled = true;\n        }\n    }\n```\n\n4.  Update the handwriting recognizer if the recognizer combo box selection changes.\n\n    Use the [**InkRecognizerContainer**](https://msdn.microsoft.com/library/windows/apps/br208479) to call [**SetDefaultRecognizer**](https://msdn.microsoft.com/library/windows/apps/hh920328) based on the selected recognizer from the recognizer combo box.\n\n```    CSharp\n// Handle recognizer change.\n    private void comboInstalledRecognizers_SelectionChanged(\n        object sender, SelectionChangedEventArgs e)\n    {\n        inkRecognizerContainer.SetDefaultRecognizer(\n            (InkRecognizer)comboInstalledRecognizers.SelectedItem);\n    }\n```\n\n5.  Finally, we perform the handwriting recognition based on the selected handwriting recognizer. For this example, we use the click event handler of the \"Recognize\" button to perform the handwriting recognition.\n\n    An [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stores all ink strokes in an [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) object. The strokes are exposed through the [**StrokeContainer**](https://msdn.microsoft.com/library/windows/apps/dn948766) property of the **InkPresenter** and retrieved using the [**GetStrokes**](https://msdn.microsoft.com/library/windows/apps/br208499) method.\n\n```    CSharp\n// Get all strokes on the InkCanvas.\n    IReadOnlyList<InkStroke> currentStrokes = \n        inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n```\n\n    [**RecognizeAsync**](https://msdn.microsoft.com/library/windows/apps/br208446) is called to retrieve a set of [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) objects.\n\n    Recognition results are produced for each word that is detected by an [**InkRecognizer**](https://msdn.microsoft.com/library/windows/apps/br208478).\n\n```    CSharp\n// Recognize all ink strokes on the ink canvas.\n    IReadOnlyList<InkRecognitionResult> recognitionResults =\n        await inkRecognizerContainer.RecognizeAsync(\n            inkCanvas.InkPresenter.StrokeContainer,\n            InkRecognitionTarget.All);\n```\n\n    Each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) object contains a set of text candidates. The topmost item in this list is considered by the recognition engine to be the best match, followed by the remaining candidates in order of decreasing confidence.\n\n    We iterate through each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) and compile the list of candidates. The candidates are then displayed and the [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) is cleared (which also clears the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535)).\n\n```    CSharp\nstring str = \"Recognition result\\n\";\n    // Iterate through the recognition results.\n    foreach (InkRecognitionResult result in recognitionResults)\n    {\n        // Get all recognition candidates from each recognition result.\n        IReadOnlyList<string> candidates = \n            result.GetTextCandidates();\n        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n        foreach (string candidate in candidates)\n        {\n            str += candidate + \" \";\n        }\n    }\n    // Display the recognition candidates.\n    recognitionResult.Text = str;\n    // Clear the ink canvas once recognition is complete.\n    inkCanvas.InkPresenter.StrokeContainer.Clear();\n```\n\n    Here's the click handler example, in full.\n\n```    CSharp\n// Handle button click to initiate recognition.\n    private async void Recognize_Click(object sender, RoutedEventArgs e)\n    {\n        // Get all strokes on the InkCanvas.\n        IReadOnlyList<InkStroke> currentStrokes = \n            inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n\n        // Ensure an ink stroke is present.\n        if (currentStrokes.Count > 0)\n        {\n            // inkRecognizerContainer is null if a recognition engine is not available.\n            if (!(inkRecognizerContainer == null))\n            {\n                // Recognize all ink strokes on the ink canvas.\n                IReadOnlyList<InkRecognitionResult> recognitionResults =\n                    await inkRecognizerContainer.RecognizeAsync(\n                        inkCanvas.InkPresenter.StrokeContainer,\n                        InkRecognitionTarget.All);\n                // Process and display the recognition results.\n                if (recognitionResults.Count > 0)\n                {\n                    string str = \"Recognition result\\n\";\n                    // Iterate through the recognition results.\n                    foreach (InkRecognitionResult result in recognitionResults)\n                    {\n                        // Get all recognition candidates from each recognition result.\n                        IReadOnlyList<string> candidates = \n                            result.GetTextCandidates();\n                        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n                        foreach (string candidate in candidates)\n                        {\n                            str += candidate + \" \";\n                        }\n                    }\n                    // Display the recognition candidates.\n                    recognitionResult.Text = str;\n                    // Clear the ink canvas once recognition is complete.\n                    inkCanvas.InkPresenter.StrokeContainer.Clear();\n                }\n                else\n                {\n                    recognitionResult.Text = \"No recognition results.\";\n                }\n            }\n            else\n            {\n                Windows.UI.Popups.MessageDialog messageDialog = \n                    new Windows.UI.Popups.MessageDialog(\n                        \"You must install handwriting recognition engine.\");\n                await messageDialog.ShowAsync();\n            }\n        }\n        else\n        {\n            recognitionResult.Text = \"No ink strokes to recognize.\";\n        }\n    }\n```\n\n## <span id=\"Dynamic_handwriting_recognition\"></span><span id=\"dynamic_handwriting_recognition\"></span><span id=\"DYNAMIC_HANDWRITING_RECOGNITION\"></span>Dynamic handwriting recognition\n\n\nThe previous two examples require the user to press a button to start recognition. Your app can also perform dynamic recognition using stroke input paired with a basic timing function.\n\nFor this example, we'll use the same UI and stroke settings as the previous international recognition example.\n\n1.  Like the previous examples, the [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) is configured to interpret input data from both pen and mouse as ink strokes ([**InputDeviceTypes**](https://msdn.microsoft.com/library/windows/apps/dn922019)), and ink strokes are rendered on the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535) using the specified [**InkDrawingAttributes**](https://msdn.microsoft.com/library/windows/desktop/ms695050).\n\n    Instead of a button to initiate recognition, we add listeners for two [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stroke events ([**StrokesCollected**](https://msdn.microsoft.com/library/windows/apps/dn922024) and [**StrokeStarted**](https://msdn.microsoft.com/library/windows/apps/dn914702)), and set up a basic timer ([**DispatcherTimer**](https://msdn.microsoft.com/library/windows/apps/br244250)) with a one second [**Tick**](https://msdn.microsoft.com/library/windows/apps/br244256) interval.\n\n```    CSharp\npublic MainPage()\n    {\n        this.InitializeComponent();\n\n        // Set supported inking device types.\n        inkCanvas.InkPresenter.InputDeviceTypes =\n            Windows.UI.Core.CoreInputDeviceTypes.Mouse |\n            Windows.UI.Core.CoreInputDeviceTypes.Pen;\n\n        // Set initial ink stroke attributes.\n        InkDrawingAttributes drawingAttributes = new InkDrawingAttributes();\n        drawingAttributes.Color = Windows.UI.Colors.Black;\n        drawingAttributes.IgnorePressure = false;\n        drawingAttributes.FitToCurve = true;\n        inkCanvas.InkPresenter.UpdateDefaultDrawingAttributes(drawingAttributes);\n\n        // Populate the recognizer combo box with installed recognizers.\n        InitializeRecognizerList();\n\n        // Listen for combo box selection.\n        comboInstalledRecognizers.SelectionChanged += \n            comboInstalledRecognizers_SelectionChanged;\n\n        // Listen for stroke events on the InkPresenter to \n        // enable dynamic recognition.\n        // StrokesCollected is fired when the user stops inking by \n        // lifting their pen or finger, or releasing the mouse button.\n        inkCanvas.InkPresenter.StrokesCollected += \n            inkCanvas_StrokesCollected;\n        // StrokeStarted is fired when ink input is first detected.\n        inkCanvas.InkPresenter.StrokeInput.StrokeStarted += \n            inkCanvas_StrokeStarted;\n\n        // Timer to manage dynamic recognition.\n        recoTimer = new DispatcherTimer();\n        recoTimer.Interval = new TimeSpan(0, 0, 1);\n        recoTimer.Tick += recoTimer_Tick;\n    }\n\n    // Handler for the timer tick event calls the recognition function.\n    private void recoTimer_Tick(object sender, object e)\n    {\n        Recognize_Tick();\n    }\n\n    // Handler for the InkPresenter StrokeStarted event.\n    // If a new stroke starts before the next timer tick event,\n    // stop the timer as the new stroke is likely the continuation\n    // of a single handwriting entry.\n    private void inkCanvas_StrokeStarted(InkStrokeInput sender, PointerEventArgs args)\n    {\n        recoTimer.Stop();\n    }\n\n    // Handler for the InkPresenter StrokesCollected event.\n    // Start the recognition timer when the user stops inking by \n    // lifting their pen or finger, or releasing the mouse button.\n    // After one second of no ink input, recognition is initiated.\n    private void inkCanvas_StrokesCollected(InkPresenter sender, InkStrokesCollectedEventArgs args)\n    {\n        recoTimer.Start();\n    }\n    \n```\n\n2.  Here are the handlers for the three events we added in the first step.\n\n    <span id=\"StrokesCollected\"></span><span id=\"strokescollected\"></span><span id=\"STROKESCOLLECTED\"></span>[**StrokesCollected**](https://msdn.microsoft.com/library/windows/apps/dn922024)  \n    Start the recognition timer when the user stops inking by lifting their pen or finger, or releasing the mouse button. After one second of no ink input, recognition is initiated.\n\n    <span id=\"StrokeStarted\"></span><span id=\"strokestarted\"></span><span id=\"STROKESTARTED\"></span>[**StrokeStarted**](https://msdn.microsoft.com/library/windows/apps/dn914702)  \n    If a new stroke starts before the next timer tick event, stop the timer as the new stroke is likely the continuation of a single handwriting entry.\n\n    <span id=\"Tick\"></span><span id=\"tick\"></span><span id=\"TICK\"></span>[**Tick**](https://msdn.microsoft.com/library/windows/apps/br244256)  \n    Call the recognition function after one second of no ink input.\n\n```    CSharp\n// Handler for the timer tick event calls the recognition function.\n    private void recoTimer_Tick(object sender, object e)\n    {\n        Recognize_Tick();\n    }\n\n    // Handler for the InkPresenter StrokeStarted event.\n    // If a new stroke starts before the next timer tick event,\n    // stop the timer as the new stroke is likely the continuation\n    // of a single handwriting entry.\n    private void inkCanvas_StrokeStarted(InkStrokeInput sender, PointerEventArgs args)\n    {\n        recoTimer.Stop();\n    }\n\n    // Handler for the InkPresenter StrokesCollected event.\n    // Start the recognition timer when the user stops inking by \n    // lifting their pen or finger, or releasing the mouse button.\n    // After one second of no ink input, recognition is initiated.\n    private void inkCanvas_StrokesCollected(InkPresenter sender, InkStrokesCollectedEventArgs args)\n    {\n        recoTimer.Start();\n    }\n```\n\n3.  Finally, we perform the handwriting recognition based on the selected handwriting recognizer. For this example, we use the [**Tick**](https://msdn.microsoft.com/library/windows/apps/br244256) event handler of a [**DispatcherTimer**](https://msdn.microsoft.com/library/windows/apps/br244250) to initiate the handwriting recognition.\n\n    An [**InkPresenter**](https://msdn.microsoft.com/library/windows/apps/dn899081) stores all ink strokes in an [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) object. The strokes are exposed through the [**StrokeContainer**](https://msdn.microsoft.com/library/windows/apps/dn948766) property of the **InkPresenter** and retrieved using the [**GetStrokes**](https://msdn.microsoft.com/library/windows/apps/br208499) method.\n\n```    CSharp\n// Get all strokes on the InkCanvas.\n    IReadOnlyList<InkStroke> currentStrokes = inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n```\n\n    [**RecognizeAsync**](https://msdn.microsoft.com/library/windows/apps/br208446) is called to retrieve a set of [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) objects.\n\n    Recognition results are produced for each word that is detected by an [**InkRecognizer**](https://msdn.microsoft.com/library/windows/apps/br208478).\n\n```    CSharp\n// Recognize all ink strokes on the ink canvas.\n    IReadOnlyList<InkRecognitionResult> recognitionResults =\n        await inkRecognizerContainer.RecognizeAsync(\n            inkCanvas.InkPresenter.StrokeContainer,\n            InkRecognitionTarget.All);\n```\n\n    Each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) object contains a set of text candidates. The topmost item in this list is considered by the recognition engine to be the best match, followed by the remaining candidates in order of decreasing confidence.\n\n    We iterate through each [**InkRecognitionResult**](https://msdn.microsoft.com/library/windows/apps/br208464) and compile the list of candidates. The candidates are then displayed and the [**InkStrokeContainer**](https://msdn.microsoft.com/library/windows/apps/br208492) is cleared (which also clears the [**InkCanvas**](https://msdn.microsoft.com/library/windows/apps/dn858535)).\n\n```    CSharp\nstring str = \"Recognition result\\n\";\n    // Iterate through the recognition results.\n    foreach (InkRecognitionResult result in recognitionResults)\n    {\n        // Get all recognition candidates from each recognition result.\n        IReadOnlyList<string> candidates = result.GetTextCandidates();\n        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n        foreach (string candidate in candidates)\n        {\n            str += candidate + \" \";\n        }\n    }\n    // Display the recognition candidates.\n    recognitionResult.Text = str;\n    // Clear the ink canvas once recognition is complete.\n    inkCanvas.InkPresenter.StrokeContainer.Clear();\n```\n\n    Here's the recognition function, in full.\n\n```    CSharp\n// Respond to timer Tick and initiate recognition.\n    private async void Recognize_Tick()\n    {\n        // Get all strokes on the InkCanvas.\n        IReadOnlyList<InkStroke> currentStrokes = inkCanvas.InkPresenter.StrokeContainer.GetStrokes();\n\n        // Ensure an ink stroke is present.\n        if (currentStrokes.Count > 0)\n        {\n            // inkRecognizerContainer is null if a recognition engine is not available.\n            if (!(inkRecognizerContainer == null))\n            {\n                // Recognize all ink strokes on the ink canvas.\n                IReadOnlyList<InkRecognitionResult> recognitionResults =\n                    await inkRecognizerContainer.RecognizeAsync(\n                        inkCanvas.InkPresenter.StrokeContainer,\n                        InkRecognitionTarget.All);\n                // Process and display the recognition results.\n                if (recognitionResults.Count > 0)\n                {\n                    string str = \"Recognition result\\n\";\n                    // Iterate through the recognition results.\n                    foreach (InkRecognitionResult result in recognitionResults)\n                    {\n                        // Get all recognition candidates from each recognition result.\n                        IReadOnlyList<string> candidates = result.GetTextCandidates();\n                        str += \"Candidates: \" + candidates.Count.ToString() + \"\\n\";\n                        foreach (string candidate in candidates)\n                        {\n                            str += candidate + \" \";\n                        }\n                    }\n                    // Display the recognition candidates.\n                    recognitionResult.Text = str;\n                    // Clear the ink canvas once recognition is complete.\n                    inkCanvas.InkPresenter.StrokeContainer.Clear();\n                }\n                else\n                {\n                    recognitionResult.Text = \"No recognition results.\";\n                }\n            }\n            else\n            {\n                Windows.UI.Popups.MessageDialog messageDialog = new Windows.UI.Popups.MessageDialog(\"You must install handwriting recognition engine.\");\n                await messageDialog.ShowAsync();\n            }\n        }\n        else\n        {\n            recognitionResult.Text = \"No ink strokes to recognize.\";\n        }\n\n        // Stop the dynamic recognition timer.\n        recoTimer.Stop();\n    }\n```\n\n## <span id=\"related_topics\"></span>Related articles\n\n\n* [Pen and stylus interactions](pen-and-stylus-interactions.md)\n**Samples**\n* [Ink sample](http://go.microsoft.com/fwlink/p/?LinkID=620308)\n* [Simple ink sample](http://go.microsoft.com/fwlink/p/?LinkID=620312)\n* [Complex ink sample](http://go.microsoft.com/fwlink/p/?LinkID=620314)\n \n\n \n\n\n\n\n"}