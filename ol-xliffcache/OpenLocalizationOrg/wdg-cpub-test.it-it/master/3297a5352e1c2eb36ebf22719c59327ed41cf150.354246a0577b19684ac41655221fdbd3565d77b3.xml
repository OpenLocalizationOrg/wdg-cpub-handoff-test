{"nodes":[{"content":"Deployment Properties for Driver Package Projects","pos":[0,49]},{"content":"You can configure the automatic deployment of a driver package on a remote test computer in each configuration of your project.","pos":[170,297]},{"content":"From the project property pages for your driver, you have additional control over how you want to deploy your driver for testing.","pos":[298,427]},{"content":"You can choose to deploy the driver automatically whenever you build the driver solution in each configuration.","pos":[428,539]},{"content":"For more information about deployment, see <bpt id=\"p1\">[</bpt>Provision a computer for driver deployment and testing (WDK 8.1)<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Dn745909)</ept> and <bpt id=\"p2\">[</bpt>Deploying a Driver to a Test Computer<ept id=\"p2\">](deploying_a_driver_to_a_test_computer.md)</ept>.","pos":[540,804],"source":" For more information about deployment, see [Provision a computer for driver deployment and testing (WDK 8.1)](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Dn745909) and [Deploying a Driver to a Test Computer](deploying_a_driver_to_a_test_computer.md)."},{"pos":[1034,1091],"content":"Setting deployment properties for driver package projects"},{"content":"Open the property pages for your driver package.","pos":[1383,1431]},{"content":"Right-click the driver package project in Solution Explorer and select <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.","pos":[1432,1518],"source":" Right-click the driver package project in Solution Explorer and select **Properties**."},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  If your driver solution does not have a driver package project, you need to add one.","pos":[1524,1618],"source":"**Note**  If your driver solution does not have a driver package project, you need to add one."},{"content":"See <bpt id=\"p1\">[</bpt>Creating a Driver Package<ept id=\"p1\">](creating_a_driver_package.md)</ept>.","pos":[1619,1681],"source":" See [Creating a Driver Package](creating_a_driver_package.md)."},{"content":"The deployment properties are only available if you have a driver package.","pos":[1682,1756]},{"pos":[1761,1899],"content":"In the property pages for the driver package, click <bpt id=\"p1\">**</bpt>Configuration Properties<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Driver Install<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Deployment<ept id=\"p3\">**</ept>.","source":"In the property pages for the driver package, click **Configuration Properties**, click **Driver Install**, and then click **Deployment**."},{"content":"Select the <bpt id=\"p1\">**</bpt>Enable deployment<ept id=\"p1\">**</ept> option.","pos":[1904,1944],"source":"Select the **Enable deployment** option."},{"content":"When this option is selected, you can select the test computer to use, and you can configure options for driver installation and deployment.","pos":[1945,2085]},{"pos":[2246,2280],"content":"Project Configuration and Platform"},{"content":"The configuration list and platform list enables you to apply different deployment settings for different project configuration and platform combinations.","pos":[2476,2630]},{"content":"For example, you can deploy a driver to one test computer using a set of deployment options for debug builds and to a different test computer and deployment options for release builds.","pos":[2631,2815]},{"pos":[2931,2950],"content":"Enabling deployment"},{"content":"You can choose to deploy your driver package on a test computer by selecting <bpt id=\"p1\">**</bpt>Enable deployment<ept id=\"p1\">**</ept>.","pos":[3086,3185],"source":"You can choose to deploy your driver package on a test computer by selecting **Enable deployment**."},{"content":"In combination with the configuration list, you could choose to disable deployment for debug builds and enable it for release builds.","pos":[3186,3319]},{"pos":[3321,3447],"content":"To ensure that you are testing the latest version of the driver, select <bpt id=\"p1\">**</bpt>Remove previous driver versions before deployment<ept id=\"p1\">**</ept>.","source":"To ensure that you are testing the latest version of the driver, select **Remove previous driver versions before deployment**."},{"pos":[3566,3586],"content":"Target computer name"},{"content":"You can choose the target computer to use for deployment and testing.","pos":[3726,3795]},{"content":"If you have already configured your test computers, you can select one from this list.","pos":[3796,3882]},{"content":"If you have not configured a test computer, you can configure one using the <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> button.","pos":[3883,3977],"source":" If you have not configured a test computer, you can configure one using the **Browse** button."},{"content":"For more information about configuring a test computer, see <bpt id=\"p1\">[</bpt>Deploying a Driver to a Test Computer<ept id=\"p1\">](deploying_a_driver_to_a_test_computer.md)</ept>.","pos":[3978,4120],"source":" For more information about configuring a test computer, see [Deploying a Driver to a Test Computer](deploying_a_driver_to_a_test_computer.md)."},{"content":"Make sure that the project configuration and platform match the target architecture of your test system.","pos":[4121,4225]},{"content":"A common deployment error occurs when you attempt to install an x86 (Win32) driver on a system running an x64 version of Windows.","pos":[4226,4355]},{"content":"When you configure the test computer, you can also run a kernel-mode debugger.","pos":[4356,4434]},{"content":"For more information, see [Setting Up Kernel-Mode Debugging in Visual Studio](https://msdn.microsoft.com/en-us/windows/hardware/hh439376.","pos":[4435,4572]},{"pos":[4712,4739],"content":"Driver installation options"},{"content":"<bpt id=\"p1\">**</bpt>Do not install -<ept id=\"p1\">**</ept> This is the default option.","pos":[4907,4955],"source":"**Do not install -** This is the default option."},{"content":"You can choose not to install if you are importing the driver package to the <bpt id=\"p1\">[</bpt>Driver Store<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff544868)</ept> or if you are enabling and setting driver verifier options on the test computer.","pos":[4956,5196],"source":" You can choose not to install if you are importing the driver package to the [Driver Store](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff544868) or if you are enabling and setting driver verifier options on the test computer."},{"content":"<bpt id=\"p1\">**</bpt>Hardware ID Driver Update -<ept id=\"p1\">**</ept> To deploy a driver for an actual hardware device, use <bpt id=\"p2\">**</bpt>Install and Verify<ept id=\"p2\">**</ept> instead.","pos":[5198,5315],"source":"**Hardware ID Driver Update -** To deploy a driver for an actual hardware device, use **Install and Verify** instead."},{"content":"To deploy a driver for a root-enumerated driver, you can use either <bpt id=\"p1\">**</bpt>Hardware ID Driver Update<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>Install and Verify<ept id=\"p2\">**</ept>.","pos":[5316,5440],"source":" To deploy a driver for a root-enumerated driver, you can use either **Hardware ID Driver Update** or **Install and Verify**."},{"content":"If you choose to use Hardware ID Driver Update, you must enter the same hardware ID that appears in your INF file, and that hardware ID must have the form Root\\\\Xxx.","pos":[5441,5606]},{"content":"If you choose this option, the files are copied to the %<bpt id=\"p1\">*</bpt>Systemdrive<ept id=\"p1\">*</ept>%\\\\drivertest\\\\drivers folder on the remote computer.","pos":[5607,5729],"source":" If you choose this option, the files are copied to the %*Systemdrive*%\\\\drivertest\\\\drivers folder on the remote computer."},{"content":"The Device Console utility, <bpt id=\"p1\">[</bpt>Devcon<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff544707)</ept>, installs the driver for that hardware ID and INF file from the package.","pos":[5730,5907],"source":" The Device Console utility, [Devcon](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff544707), installs the driver for that hardware ID and INF file from the package."},{"content":"For example, you can select <bpt id=\"p1\">**</bpt>Hardware ID Driver Update<ept id=\"p1\">**</ept> and set the HWID to <bpt id=\"p2\">**</bpt>Root\\\\<ept id=\"p2\">**</ept><bpt id=\"p3\">*</bpt>yourprojectname<ept id=\"p3\">*</ept>.","pos":[5908,6014],"source":" For example, you can select **Hardware ID Driver Update** and set the HWID to **Root\\\\***yourprojectname*."},{"content":"Make sure to exclude any spaces in your project name.","pos":[6015,6068]},{"content":"<bpt id=\"p1\">**</bpt>Custom Command Line -<ept id=\"p1\">**</ept> You can choose to run your own custom command scripts upon installation.","pos":[6070,6168],"source":"**Custom Command Line -** You can choose to run your own custom command scripts upon installation."},{"content":"If you want to run a custom command script, make sure to add the necessary files under the <bpt id=\"p1\">**</bpt>Additional Files<ept id=\"p1\">**</ept> section.","pos":[6169,6289],"source":" If you want to run a custom command script, make sure to add the necessary files under the **Additional Files** section."},{"content":"The additional files are copied to the <bpt id=\"p1\">*</bpt>%Systemdrive%<ept id=\"p1\">*</ept>\\\\drivertest\\\\drivers folder on the remote computer.","pos":[6290,6396],"source":" The additional files are copied to the *%Systemdrive%*\\\\drivertest\\\\drivers folder on the remote computer."},{"content":"<bpt id=\"p1\">**</bpt>Install and Verify -<ept id=\"p1\">**</ept> You can choose to test your installation using an automated test script.","pos":[6398,6495],"source":"**Install and Verify -** You can choose to test your installation using an automated test script."},{"content":"When you select this option and specify the <bpt id=\"p1\">**</bpt>Default Driver Package Installation Task (possible reboot)<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>Default Printer Driver Package Installation Task (possible reboot)<ept id=\"p2\">**</ept>, the test reads the driver's INF file and installs the driver.","pos":[6496,6739],"source":" When you select this option and specify the **Default Driver Package Installation Task (possible reboot)** or **Default Printer Driver Package Installation Task (possible reboot)**, the test reads the driver's INF file and installs the driver."},{"content":"The test then verifies that the driver is up and running.","pos":[6740,6797]},{"content":"Upon completion, the test provides detailed information about the success or failure of the installation task.","pos":[6798,6908]},{"content":"<bpt id=\"p1\">**</bpt>Optional Device Query -<ept id=\"p1\">**</ept> The default value is <bpt id=\"p2\">*</bpt>%PathToInf%<ept id=\"p2\">*</ept>.","pos":[6910,6973],"source":"**Optional Device Query -** The default value is *%PathToInf%*."},{"content":"The path to the driver's INF files is substituted automatically.","pos":[6974,7038]},{"content":"There should be no need to change this value unless you have a need to place the INF files in a different location.","pos":[7039,7154]},{"pos":[7261,7277],"content":"Additional Files"},{"content":"You can use the <bpt id=\"p1\">**</bpt>Additional Files<ept id=\"p1\">**</ept> box to specify custom installation scripts or applications that you want to copy to the remote test computer.","pos":[7401,7547],"source":"You can use the **Additional Files** box to specify custom installation scripts or applications that you want to copy to the remote test computer."},{"content":"The files that you specify here are added to the <bpt id=\"p1\">*</bpt>%Systemdrive%<ept id=\"p1\">*</ept>\\\\drivertest\\\\drivers folder on the remote computer.","pos":[7548,7664],"source":" The files that you specify here are added to the *%Systemdrive%*\\\\drivertest\\\\drivers folder on the remote computer."},{"pos":[7699,7713],"content":"Related topics"},{"content":"Deploying a Driver to a Test Computer","pos":[7766,7803]},{"content":"How to test a driver at runtime using Visual Studio","pos":[7850,7901]},{"content":"Setting Up Kernel-Mode Debugging in Visual Studio","pos":[7938,7987]},{"pos":[8055,9023],"content":"<bpt id=\"p1\">[</bpt>Send comments about this topic to Microsoft<ept id=\"p1\">]</ept><bpt id=\"p2\">(mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Deployment%20Properties%20for%20Driver%20Package%20Projects%20%20RELEASE:%20%289/30/2015%29&amp;body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"</bpt>Send comments about this topic to Microsoft<ept id=\"p2\">\")</ept>","source":"[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Deployment%20Properties%20for%20Driver%20Package%20Projects%20%20RELEASE:%20%289/30/2015%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"Send comments about this topic to Microsoft\")"}],"content":"Deployment Properties for Driver Package Projects\n======================================================================================================================\n\nYou can configure the automatic deployment of a driver package on a remote test computer in each configuration of your project. From the project property pages for your driver, you have additional control over how you want to deploy your driver for testing. You can choose to deploy the driver automatically whenever you build the driver solution in each configuration. For more information about deployment, see [Provision a computer for driver deployment and testing (WDK 8.1)](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Dn745909) and [Deploying a Driver to a Test Computer](deploying_a_driver_to_a_test_computer.md).\n\n<span id=\"Setting_deployment_properties_for_driver_package_projects\"></span><span id=\"setting_deployment_properties_for_driver_package_projects\"></span><span id=\"SETTING_DEPLOYMENT_PROPERTIES_FOR_DRIVER_PACKAGE_PROJECTS\"></span>Setting deployment properties for driver package projects\n---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n1.  Open the property pages for your driver package. Right-click the driver package project in Solution Explorer and select **Properties**.\n\n    **Note**  If your driver solution does not have a driver package project, you need to add one. See [Creating a Driver Package](creating_a_driver_package.md). The deployment properties are only available if you have a driver package.\n2.  In the property pages for the driver package, click **Configuration Properties**, click **Driver Install**, and then click **Deployment**.\n3.  Select the **Enable deployment** option. When this option is selected, you can select the test computer to use, and you can configure options for driver installation and deployment.\n\n<span id=\"Project_Configuration_and_Platform\"></span><span id=\"project_configuration_and_platform\"></span><span id=\"PROJECT_CONFIGURATION_AND_PLATFORM\"></span>Project Configuration and Platform\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nThe configuration list and platform list enables you to apply different deployment settings for different project configuration and platform combinations. For example, you can deploy a driver to one test computer using a set of deployment options for debug builds and to a different test computer and deployment options for release builds.\n\n<span id=\"Enabling_deployment\"></span><span id=\"enabling_deployment\"></span><span id=\"ENABLING_DEPLOYMENT\"></span>Enabling deployment\n-------------------------------------------------------------------------------------------------------------------------------------\n\nYou can choose to deploy your driver package on a test computer by selecting **Enable deployment**. In combination with the configuration list, you could choose to disable deployment for debug builds and enable it for release builds.\n\nTo ensure that you are testing the latest version of the driver, select **Remove previous driver versions before deployment**.\n\n<span id=\"Target_computer_name\"></span><span id=\"target_computer_name\"></span><span id=\"TARGET_COMPUTER_NAME\"></span>Target computer name\n-----------------------------------------------------------------------------------------------------------------------------------------\n\nYou can choose the target computer to use for deployment and testing. If you have already configured your test computers, you can select one from this list. If you have not configured a test computer, you can configure one using the **Browse** button. For more information about configuring a test computer, see [Deploying a Driver to a Test Computer](deploying_a_driver_to_a_test_computer.md). Make sure that the project configuration and platform match the target architecture of your test system. A common deployment error occurs when you attempt to install an x86 (Win32) driver on a system running an x64 version of Windows. When you configure the test computer, you can also run a kernel-mode debugger. For more information, see [Setting Up Kernel-Mode Debugging in Visual Studio](https://msdn.microsoft.com/en-us/windows/hardware/hh439376.\n\n<span id=\"Driver_installation_options\"></span><span id=\"driver_installation_options\"></span><span id=\"DRIVER_INSTALLATION_OPTIONS\"></span>Driver installation options\n---------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n**Do not install -** This is the default option. You can choose not to install if you are importing the driver package to the [Driver Store](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff544868) or if you are enabling and setting driver verifier options on the test computer.\n\n**Hardware ID Driver Update -** To deploy a driver for an actual hardware device, use **Install and Verify** instead. To deploy a driver for a root-enumerated driver, you can use either **Hardware ID Driver Update** or **Install and Verify**. If you choose to use Hardware ID Driver Update, you must enter the same hardware ID that appears in your INF file, and that hardware ID must have the form Root\\\\Xxx. If you choose this option, the files are copied to the %*Systemdrive*%\\\\drivertest\\\\drivers folder on the remote computer. The Device Console utility, [Devcon](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff544707), installs the driver for that hardware ID and INF file from the package. For example, you can select **Hardware ID Driver Update** and set the HWID to **Root\\\\***yourprojectname*. Make sure to exclude any spaces in your project name.\n\n**Custom Command Line -** You can choose to run your own custom command scripts upon installation. If you want to run a custom command script, make sure to add the necessary files under the **Additional Files** section. The additional files are copied to the *%Systemdrive%*\\\\drivertest\\\\drivers folder on the remote computer.\n\n**Install and Verify -** You can choose to test your installation using an automated test script. When you select this option and specify the **Default Driver Package Installation Task (possible reboot)** or **Default Printer Driver Package Installation Task (possible reboot)**, the test reads the driver's INF file and installs the driver. The test then verifies that the driver is up and running. Upon completion, the test provides detailed information about the success or failure of the installation task.\n\n**Optional Device Query -** The default value is *%PathToInf%*. The path to the driver's INF files is substituted automatically. There should be no need to change this value unless you have a need to place the INF files in a different location.\n\n<span id=\"Additional_Files\"></span><span id=\"additional_files\"></span><span id=\"ADDITIONAL_FILES\"></span>Additional Files\n-------------------------------------------------------------------------------------------------------------------------\n\nYou can use the **Additional Files** box to specify custom installation scripts or applications that you want to copy to the remote test computer. The files that you specify here are added to the *%Systemdrive%*\\\\drivertest\\\\drivers folder on the remote computer.\n\n<span id=\"related_topics\"></span>Related topics\n-----------------------------------------------\n\n* [Deploying a Driver to a Test Computer](deploying_a_driver_to_a_test_computer.md)\n* [How to test a driver at runtime using Visual Studio](testing_a_driver_at_runtime.md)\n* [Setting Up Kernel-Mode Debugging in Visual Studio](https://msdn.microsoft.com/en-us/windows/hardware/hh439376)\n \n\n \n\n[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Deployment%20Properties%20for%20Driver%20Package%20Projects%20%20RELEASE:%20%289/30/2015%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"Send comments about this topic to Microsoft\")\n\n\n"}