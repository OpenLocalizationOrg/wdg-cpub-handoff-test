{"nodes":[{"pos":[17,155],"content":"By using a wizard in Visual Studio, you can generate push notifications from a mobile service that was created with Azure Mobile Services.","needQuote":true,"needEscape":true,"nodes":[{"content":"By using a wizard in Visual Studio, you can generate push notifications from a mobile service that was created with Azure Mobile Services.","pos":[0,138]}]},{"pos":[163,209],"content":"Code generated by the push notification wizard","needQuote":true,"needEscape":true,"nodes":[{"content":"Code generated by the push notification wizard","pos":[0,46]}]},{"content":"Code generated by the push notification wizard","pos":[298,344]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[347,385]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[386,481],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"content":"By using a wizard in Visual Studio, you can generate push notifications from a mobile service that was created with Azure Mobile Services.","pos":[483,621]},{"content":"The Visual Studio wizard generates code to help you get started.","pos":[622,686]},{"content":"This topic explains how the wizard modifies your project, what the generated code does, how to use this code, and what you can do next to get the most out of push notifications.","pos":[687,864]},{"content":"See <bpt id=\"p1\">[</bpt>Windows Push Notification Services (WNS) overview<ept id=\"p1\">](tiles-and-notifications-windows-push-notification-services--wns--overview.md)</ept>.","pos":[865,999],"source":" See [Windows Push Notification Services (WNS) overview](tiles-and-notifications-windows-push-notification-services--wns--overview.md)."},{"pos":[1169,1205],"content":"How the wizard modifies your project"},{"content":"The push notification wizard modifies your project in the following ways:","pos":[1208,1281]},{"content":"Adds a reference to Mobile Services Managed Client (MobileServicesManagedClient.dll).","pos":[1287,1372]},{"content":"Not applicable to JavaScript projects.","pos":[1373,1411]},{"content":"Adds a file in a subfolder under services, and names the file push.register.cs, push.register.vb, push.register.cpp, or push.register.js.","pos":[1416,1553]},{"content":"Creates a channels table on the database server for the mobile service.","pos":[1558,1629]},{"content":"The table contains information that's required to send push notifications to app instances.","pos":[1630,1721]},{"content":"Creates scripts for four functions: delete, insert, read and update.","pos":[1726,1794]},{"content":"Creates a script with a custom API, notifyallusers.js, which sends a push notification to all clients.","pos":[1799,1901]},{"content":"Adds a declaration to your App.xaml.cs, App.xaml.vb, or App.xaml.cpp file, or adds a declaration to a new file, service.js, for JavaScript projects.","pos":[1906,2054]},{"content":"The declaration declares a MobileServiceClient object, which contains the information that's required to connect to the mobile service.","pos":[2055,2190]},{"content":"You can access this MobileServiceClient object, which is named <bpt id=\"p1\">*</bpt>MyServiceName<ept id=\"p1\">*</ept>Client, from any page in your app by using the name App.<bpt id=\"p2\">*</bpt>MyServiceName<ept id=\"p2\">*</ept>Client.","pos":[2191,2347],"source":" You can access this MobileServiceClient object, which is named *MyServiceName*Client, from any page in your app by using the name App.*MyServiceName*Client."},{"content":"The services.js file contains the following code:","pos":[2349,2398]},{"pos":[2789,2824],"content":"Registration for push notifications"},{"content":"In push.register.\\*, the UploadChannel method registers the device to receive push notifications.","pos":[2827,2924]},{"content":"The Store tracks installed instances of your app and provides the push notification channel.","pos":[2925,3017]},{"content":"See <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>PushNotificationChannelManager<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241284)</ept>.","pos":[3018,3117],"source":" See [**PushNotificationChannelManager**](https://msdn.microsoft.com/library/windows/apps/br241284)."},{"content":"The client code is similar for both the JavaScript backend and the .NET backend.","pos":[3119,3199]},{"content":"By default, when you add push notifications for a JavaScript backend service, a sample call to notifyAllUsers custom API is inserted into the UploadChannel method.","pos":[3200,3363]},{"content":"Push notification tags provide a way to restrict notifications to a subset of clients.","pos":[7094,7180]},{"content":"You can use the for the registerNative method (or RegisterNativeAsync) method to either register for all push notifications without specifying tags, or you can register with tags by providing the second argument, an array of tags.","pos":[7181,7411]},{"content":"If you register with one or more tags, you only receive notifications that match those tags.","pos":[7412,7504]},{"pos":[7701,7746],"content":"Server-side scripts (JavaScript backend only)"},{"content":"For mobile services that use the JavaScript backend, the server-side scripts run when delete, insert, read, or update operations occur.","pos":[7749,7884]},{"content":"The scripts don't implement these operations, but they run when a call from the client to the Windows Mobile REST API triggers these events.","pos":[7885,8025]},{"content":"The scripts then pass control onto the operations themselves by calling request.execute or request.respond to issue a response to the calling context.","pos":[8026,8176]},{"content":"See <bpt id=\"p1\">[</bpt>Azure Mobile Services REST API Reference<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=511139)</ept>.","pos":[8177,8273],"source":" See [Azure Mobile Services REST API Reference](http://go.microsoft.com/fwlink/p/?linkid=511139)."},{"content":"A variety of functions are available in the server-side script.","pos":[8275,8338]},{"content":"See <bpt id=\"p1\">[</bpt>Register table operations in Azure Mobile Services<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=511140)</ept>.","pos":[8339,8445],"source":" See [Register table operations in Azure Mobile Services](http://go.microsoft.com/fwlink/p/?linkid=511140)."},{"content":"For a reference to all available functions, see <bpt id=\"p1\">[</bpt>Mobile Services server script reference<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=257676)</ept>.","pos":[8446,8585],"source":" For a reference to all available functions, see [Mobile Services server script reference](http://go.microsoft.com/fwlink/p/?linkid=257676)."},{"content":"The following custom API code in Notifyallusers.js is also created:","pos":[8587,8654]},{"content":"The sendNotifications function sends a single notification as a toast notification.","pos":[9584,9667]},{"content":"You can also use other types of push notifications.","pos":[9668,9719]},{"pos":[9721,9895],"content":"<bpt id=\"p1\">**</bpt>Tip<ept id=\"p1\">**</ept>  For information about how to get help while editing scripts, see <bpt id=\"p2\">[</bpt>Enabling IntelliSense for server-side JavaScript<ept id=\"p2\">](http://go.microsoft.com/fwlink/p/?LinkId=309275)</ept>.","source":"**Tip**  For information about how to get help while editing scripts, see [Enabling IntelliSense for server-side JavaScript](http://go.microsoft.com/fwlink/p/?LinkId=309275)."},{"pos":[10029,10052],"content":"Push notification types"},{"content":"Windows supports notifications that aren't push notifications.","pos":[10055,10117]},{"content":"For general information about notifications, see <bpt id=\"p1\">[</bpt>Delivering scheduled, periodic, and push notifications<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh761484)</ept>.","pos":[10118,10282],"source":" For general information about notifications, see [Delivering scheduled, periodic, and push notifications](https://msdn.microsoft.com/library/windows/apps/hh761484)."},{"content":"Toast notifications are easy to use, and you can review an example in the Insert.js code on the channel's table that's generated for you.","pos":[10284,10421]},{"content":"If you plan to use tile or badge notifications, you must create an XML template for the tile and badge, and you must specify the encoding of packaged information in the template.","pos":[10422,10600]},{"content":"See <bpt id=\"p1\">[</bpt>Working with tiles, badges, and toast notifications<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/xaml/hh868259)</ept>.","pos":[10601,10722],"source":" See [Working with tiles, badges, and toast notifications](https://msdn.microsoft.com/library/windows/apps/xaml/hh868259)."},{"content":"Because Windows responds to push notifications, it can handle most of these notifications when the app isn't running.","pos":[10724,10841]},{"content":"For example, a push notification could let a user know when a new mail message is available even when the local mail app isn't running.","pos":[10842,10977]},{"content":"Windows handles a toast notification by displaying a message, such as the first line of a text message.","pos":[10978,11081]},{"content":"Windows handles a tile or badge notification by updating an app's live tile to reflect the number of new mail messages.","pos":[11082,11201]},{"content":"In this way, you can prompt users of your app to check it for new information.","pos":[11202,11280]},{"content":"Your app can receive raw notifications when it's running, and you can use them to send data to your app.","pos":[11281,11385]},{"content":"If your app isn't running, you can set up a background task to monitor push notifications.","pos":[11386,11476]},{"content":"You should use push notifications according to the guidelines for Universal Windows Platform (UWP) apps, because those notifications use up a user's resources and can be distracting if overused.","pos":[11478,11672]},{"content":"See <bpt id=\"p1\">[</bpt>Guidelines and checklist for push notifications<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh761462)</ept>.","pos":[11673,11785],"source":" See [Guidelines and checklist for push notifications](https://msdn.microsoft.com/library/windows/apps/hh761462)."},{"pos":[11787,11989],"content":"If you're updating live tiles with push notifications, you should also follow the guidelines in <bpt id=\"p1\">[</bpt>Guidelines and checklist for tiles and badges<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh465403)</ept>.","source":"If you're updating live tiles with push notifications, you should also follow the guidelines in [Guidelines and checklist for tiles and badges](https://msdn.microsoft.com/library/windows/apps/hh465403)."},{"pos":[12081,12091],"content":"Next steps"},{"pos":[12305,12355],"content":"Using the Windows Push Notification Services (WNS)"},{"content":"You can call Windows Push Notification Services (WNS) directly if Mobile Services doesn't provide enough flexibility, if you want to write your server code in C# or Visual Basic, or if you already have a cloud service and you want to send push notifications from it.","pos":[12357,12623]},{"content":"By calling WNS directly, you can send push notifications from your own cloud service, such as a worker role that monitors data from a database or another web service.","pos":[12624,12790]},{"content":"Your cloud service must authenticate with WNS to send push notifications to your apps.","pos":[12791,12877]},{"content":"See <bpt id=\"p1\">[</bpt>How to authenticate with the Windows Push Notification Service (JavaScript)<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh465407)</ept> or <bpt id=\"p2\">[</bpt>(C#/C++/VB)<ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/xaml/hh868206)</ept>.","pos":[12878,13098],"source":" See [How to authenticate with the Windows Push Notification Service (JavaScript)](https://msdn.microsoft.com/library/windows/apps/hh465407) or [(C#/C++/VB)](https://msdn.microsoft.com/library/windows/apps/xaml/hh868206)."},{"content":"You can also send push notifications by running a scheduled task in your mobile service.","pos":[13100,13188]},{"content":"See <bpt id=\"p1\">[</bpt>Schedule recurring jobs in Mobile Services<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=301694)</ept>.","pos":[13189,13287],"source":" See [Schedule recurring jobs in Mobile Services](http://go.microsoft.com/fwlink/p/?linkid=301694)."},{"content":"<bpt id=\"p1\">**</bpt>Warning<ept id=\"p1\">**</ept>  Once you've run the push notification wizard once, don't run the wizard a second time to add registration code for another mobile service.","pos":[13289,13440],"source":"**Warning**  Once you've run the push notification wizard once, don't run the wizard a second time to add registration code for another mobile service."},{"content":"Running the wizard more than once per project generates code that results in overlapping calls to the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>CreatePushNotificationChannelForApplicationAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241287)</ept> method, which leads to a runtime exception.","pos":[13441,13699],"source":" Running the wizard more than once per project generates code that results in overlapping calls to the [**CreatePushNotificationChannelForApplicationAsync**](https://msdn.microsoft.com/library/windows/apps/br241287) method, which leads to a runtime exception."},{"content":"If you want to register for push notifications for more than one mobile service, run the wizard once and then rewrite the registration code to ensure that calls to <bpt id=\"p1\">**</bpt>CreatePushNotificationChannelForApplicationAsync<ept id=\"p1\">**</ept> do not run at the same time.","pos":[13700,13945],"source":" If you want to register for push notifications for more than one mobile service, run the wizard once and then rewrite the registration code to ensure that calls to **CreatePushNotificationChannelForApplicationAsync** do not run at the same time."},{"content":"For example, you can accomplish this by moving the wizard-generated code in push.register.\\* (including the call to <bpt id=\"p1\">**</bpt>CreatePushNotificationChannelForApplicationAsync<ept id=\"p1\">**</ept>) outside of the OnLaunched event, but the specifics of this will depend on your app's architecture.","pos":[13946,14214],"source":" For example, you can accomplish this by moving the wizard-generated code in push.register.\\* (including the call to **CreatePushNotificationChannelForApplicationAsync**) outside of the OnLaunched event, but the specifics of this will depend on your app's architecture."},{"pos":[14255,14269],"content":"Related topics"},{"content":"Windows Push Notification Services (WNS) overview","pos":[14275,14324]},{"content":"Raw notification overview","pos":[14407,14432]},{"content":"Connecting to Windows Azure Mobile Services (JavaScript)","pos":[14491,14547]},{"content":"Connecting to Windows Azure Mobile Services (C#/C++/VB)","pos":[14610,14665]},{"content":"Quickstart: Adding push notifications for a mobile service (JavaScript)","pos":[14733,14804]}],"content":"---\nDescription: By using a wizard in Visual Studio, you can generate push notifications from a mobile service that was created with Azure Mobile Services.\ntitle: Code generated by the push notification wizard\nms.assetid: 340F55C1-0DDF-4233-A8E4-C15EF9030785\nlabel: TBD\ntemplate: detail.hbs\n---\n\n# Code generated by the push notification wizard\n\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\nBy using a wizard in Visual Studio, you can generate push notifications from a mobile service that was created with Azure Mobile Services. The Visual Studio wizard generates code to help you get started. This topic explains how the wizard modifies your project, what the generated code does, how to use this code, and what you can do next to get the most out of push notifications. See [Windows Push Notification Services (WNS) overview](tiles-and-notifications-windows-push-notification-services--wns--overview.md).\n\n## <span id=\"How_the_wizard_modifies_your_project\"></span><span id=\"how_the_wizard_modifies_your_project\"></span><span id=\"HOW_THE_WIZARD_MODIFIES_YOUR_PROJECT\"></span>How the wizard modifies your project\n\n\nThe push notification wizard modifies your project in the following ways:\n\n-   Adds a reference to Mobile Services Managed Client (MobileServicesManagedClient.dll). Not applicable to JavaScript projects.\n-   Adds a file in a subfolder under services, and names the file push.register.cs, push.register.vb, push.register.cpp, or push.register.js.\n-   Creates a channels table on the database server for the mobile service. The table contains information that's required to send push notifications to app instances.\n-   Creates scripts for four functions: delete, insert, read and update.\n-   Creates a script with a custom API, notifyallusers.js, which sends a push notification to all clients.\n-   Adds a declaration to your App.xaml.cs, App.xaml.vb, or App.xaml.cpp file, or adds a declaration to a new file, service.js, for JavaScript projects. The declaration declares a MobileServiceClient object, which contains the information that's required to connect to the mobile service. You can access this MobileServiceClient object, which is named *MyServiceName*Client, from any page in your app by using the name App.*MyServiceName*Client.\n\nThe services.js file contains the following code:\n\n```JavaScript\nvar <mobile-service-name>Client = new Microsoft.WindowsAzure.MobileServices.MobileServiceClient(\n                \"https://<mobile-service-name>.azure-mobile.net/\",\n                \"<your client secret>\");\n```\n\n## <span id=\"Registration_for_push_notifications\"></span><span id=\"registration_for_push_notifications\"></span><span id=\"REGISTRATION_FOR_PUSH_NOTIFICATIONS\"></span>Registration for push notifications\n\n\nIn push.register.\\*, the UploadChannel method registers the device to receive push notifications. The Store tracks installed instances of your app and provides the push notification channel. See [**PushNotificationChannelManager**](https://msdn.microsoft.com/library/windows/apps/br241284).\n\nThe client code is similar for both the JavaScript backend and the .NET backend. By default, when you add push notifications for a JavaScript backend service, a sample call to notifyAllUsers custom API is inserted into the UploadChannel method.\n\n```CSharp\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Net.Http;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Microsoft.WindowsAzure.MobileServices;\nusing Newtonsoft.Json.Linq;\n\nnamespace App2\n{\n    internal class mymobileservice1234Push\n    {\n        public async static void UploadChannel()\n        {\n            var channel = await Windows.Networking.PushNotifications.PushNotificationChannelManager.CreatePushNotificationChannelForApplicationAsync();\n\n            try\n            {\n                await App.mymobileservice1234Client.GetPush().RegisterNativeAsync(channel.Uri);\n                await App.mymobileservice1234Client.InvokeApiAsync(\"notifyAllUsers\");\n            }\n            catch (Exception exception)\n            {\n                HandleRegisterException(exception);\n            }\n        }\n\n        private static void HandleRegisterException(Exception exception)\n        {\n            \n        }\n    }\n}\n```\n\n```VisualBasic\nImports Microsoft.WindowsAzure.MobileServices\nImports Newtonsoft.Json.Linq\n\nFriend Class mymobileservice1234Push\n    Public Shared Async Sub UploadChannel()\n        Dim channel = Await Windows.Networking.PushNotifications.PushNotificationChannelManager.CreatePushNotificationChannelForApplicationAsync()\n\n        Try\n            Await App.mymobileservice1234Client.GetPush().RegisterNativeAsync(channel.Uri)\n            Await App.mymobileservice1234Client.GetPush().RegisterNativeAsync(channel.Uri, New String() {\"tag1\", \"tag2\"})\n            Await App.mymobileservice1234Client.InvokeApiAsync(\"notifyAllUsers\")\n        Catch exception As Exception\n            HandleRegisterException(exception)\n        End Try\n    End Sub\n\n    Private Shared Sub HandleRegisterException(exception As Exception)\n\n    End Sub\nEnd Class\n```\n\n```ManagedCPlusPlus\n#include \"pch.h\"\n#include \"services\\mobile services\\mymobileservice1234\\mymobileservice1234Push.h\"\n\nusing namespace AzureMobileHelper;\n\nusing namespace web;\nusing namespace concurrency;\n\nusing namespace Windows::Networking::PushNotifications;\n\nvoid mymobileservice1234Push::UploadChannel()\n{\n    create_task(PushNotificationChannelManager::CreatePushNotificationChannelForApplicationAsync()).\n    then([] (PushNotificationChannel^ newChannel) \n    {\n        return mymobileservice1234MobileService::GetClient().get_push().register_native(newChannel-&amp;gt;Uri-&amp;gt;Data());\n    }).then([]()\n    {\n        return mymobileservice1234MobileService::GetClient().invoke_api(L\"notifyAllUsers\");\n    }).then([](task&amp;lt;json::value&amp;gt; result)\n    {\n        try\n        {\n            result.wait();\n        }\n        catch(...)\n        {\n            HandleExceptionsComingFromTheServer();\n        }\n    });\n}\n\nvoid mymobileservice1234Push::HandleExceptionsComingFromTheServer()\n{\n}\n```\n\n```JavaScript\n(function () {\n    \"use strict\";\n\n    var app = WinJS.Application;\n    var activation = Windows.ApplicationModel.Activation;\n\n    app.addEventListener(\"activated\", function (args) {\n        if (args.detail.kind == activation.ActivationKind.launch) {\n            Windows.Networking.PushNotifications.PushNotificationChannelManager.createPushNotificationChannelForApplicationAsync()\n                .then(function (channel) {\n                    mymobileserviceclient1234Client.push.registerNative(channel.Uri, new Array(\"tag1\", \"tag2\"))\n                    return mymobileservice1234Client.push.registerNative(channel.uri);\n                })\n                .done(function (registration) {\n                    return mymobileservice1234Client.invokeApi(\"notifyAllUsers\");\n                }, function (error) {\n                    // Error\n\n                });\n        }\n    });\n})();\n```\n\nPush notification tags provide a way to restrict notifications to a subset of clients. You can use the for the registerNative method (or RegisterNativeAsync) method to either register for all push notifications without specifying tags, or you can register with tags by providing the second argument, an array of tags. If you register with one or more tags, you only receive notifications that match those tags.\n\n## <span id=\"Server-side_scripts__JavaScript_backend_only_\"></span><span id=\"server-side_scripts__javascript_backend_only_\"></span><span id=\"SERVER-SIDE_SCRIPTS__JAVASCRIPT_BACKEND_ONLY_\"></span>Server-side scripts (JavaScript backend only)\n\n\nFor mobile services that use the JavaScript backend, the server-side scripts run when delete, insert, read, or update operations occur. The scripts don't implement these operations, but they run when a call from the client to the Windows Mobile REST API triggers these events. The scripts then pass control onto the operations themselves by calling request.execute or request.respond to issue a response to the calling context. See [Azure Mobile Services REST API Reference](http://go.microsoft.com/fwlink/p/?linkid=511139).\n\nA variety of functions are available in the server-side script. See [Register table operations in Azure Mobile Services](http://go.microsoft.com/fwlink/p/?linkid=511140). For a reference to all available functions, see [Mobile Services server script reference](http://go.microsoft.com/fwlink/p/?linkid=257676).\n\nThe following custom API code in Notifyallusers.js is also created:\n\n```JavaScript\nexports.post = function(request, response) {\n    response.send(statusCodes.OK,{ message : &#39;Hello World!&#39; })\n    \n    // The following call is for illustration purpose only\n    // The call and function body should be moved to a script in your app\n    // where you want to send a notification\n    sendNotifications(request);\n};\n\n// The following code should be moved to appropriate script in your app where notification is sent\nfunction sendNotifications(request) {\n    var payload = &#39;<?xml version=\"1.0\" encoding=\"utf-8\"?><toast><visual><binding template=\"ToastText01\">&#39; +\n        &#39;<text id=\"1\">Sample Toast</text></binding></visual></toast>&#39;;\n    var push = request.service.push; \n    push.wns.send(null,\n        payload,\n        &#39;wns/toast&#39;, {\n            success: function (pushResponse) {\n                console.log(\"Sent push:\", pushResponse);\n            }\n        });\n}\n```\n\nThe sendNotifications function sends a single notification as a toast notification. You can also use other types of push notifications.\n\n**Tip**  For information about how to get help while editing scripts, see [Enabling IntelliSense for server-side JavaScript](http://go.microsoft.com/fwlink/p/?LinkId=309275).\n\n \n\n## <span id=\"Push_notification_types\"></span><span id=\"push_notification_types\"></span><span id=\"PUSH_NOTIFICATION_TYPES\"></span>Push notification types\n\n\nWindows supports notifications that aren't push notifications. For general information about notifications, see [Delivering scheduled, periodic, and push notifications](https://msdn.microsoft.com/library/windows/apps/hh761484).\n\nToast notifications are easy to use, and you can review an example in the Insert.js code on the channel's table that's generated for you. If you plan to use tile or badge notifications, you must create an XML template for the tile and badge, and you must specify the encoding of packaged information in the template. See [Working with tiles, badges, and toast notifications](https://msdn.microsoft.com/library/windows/apps/xaml/hh868259).\n\nBecause Windows responds to push notifications, it can handle most of these notifications when the app isn't running. For example, a push notification could let a user know when a new mail message is available even when the local mail app isn't running. Windows handles a toast notification by displaying a message, such as the first line of a text message. Windows handles a tile or badge notification by updating an app's live tile to reflect the number of new mail messages. In this way, you can prompt users of your app to check it for new information. Your app can receive raw notifications when it's running, and you can use them to send data to your app. If your app isn't running, you can set up a background task to monitor push notifications.\n\nYou should use push notifications according to the guidelines for Universal Windows Platform (UWP) apps, because those notifications use up a user's resources and can be distracting if overused. See [Guidelines and checklist for push notifications](https://msdn.microsoft.com/library/windows/apps/hh761462).\n\nIf you're updating live tiles with push notifications, you should also follow the guidelines in [Guidelines and checklist for tiles and badges](https://msdn.microsoft.com/library/windows/apps/hh465403).\n\n## <span id=\"Next_steps\"></span><span id=\"next_steps\"></span><span id=\"NEXT_STEPS\"></span>Next steps\n\n\n### <span id=\"Using_the_Windows_Push_Notification_Services__WNS_\"></span><span id=\"using_the_windows_push_notification_services__wns_\"></span><span id=\"USING_THE_WINDOWS_PUSH_NOTIFICATION_SERVICES__WNS_\"></span>Using the Windows Push Notification Services (WNS)\n\nYou can call Windows Push Notification Services (WNS) directly if Mobile Services doesn't provide enough flexibility, if you want to write your server code in C# or Visual Basic, or if you already have a cloud service and you want to send push notifications from it. By calling WNS directly, you can send push notifications from your own cloud service, such as a worker role that monitors data from a database or another web service. Your cloud service must authenticate with WNS to send push notifications to your apps. See [How to authenticate with the Windows Push Notification Service (JavaScript)](https://msdn.microsoft.com/library/windows/apps/hh465407) or [(C#/C++/VB)](https://msdn.microsoft.com/library/windows/apps/xaml/hh868206).\n\nYou can also send push notifications by running a scheduled task in your mobile service. See [Schedule recurring jobs in Mobile Services](http://go.microsoft.com/fwlink/p/?linkid=301694).\n\n**Warning**  Once you've run the push notification wizard once, don't run the wizard a second time to add registration code for another mobile service. Running the wizard more than once per project generates code that results in overlapping calls to the [**CreatePushNotificationChannelForApplicationAsync**](https://msdn.microsoft.com/library/windows/apps/br241287) method, which leads to a runtime exception. If you want to register for push notifications for more than one mobile service, run the wizard once and then rewrite the registration code to ensure that calls to **CreatePushNotificationChannelForApplicationAsync** do not run at the same time. For example, you can accomplish this by moving the wizard-generated code in push.register.\\* (including the call to **CreatePushNotificationChannelForApplicationAsync**) outside of the OnLaunched event, but the specifics of this will depend on your app's architecture.\n\n \n\n## <span id=\"related_topics\"></span>Related topics\n\n\n* [Windows Push Notification Services (WNS) overview](tiles-and-notifications-windows-push-notification-services--wns--overview.md)\n* [Raw notification overview](tiles-and-notifications-raw-notification-overview.md)\n* [Connecting to Windows Azure Mobile Services (JavaScript)](https://msdn.microsoft.com/library/windows/apps/dn263160)\n* [Connecting to Windows Azure Mobile Services (C#/C++/VB)](https://msdn.microsoft.com/library/windows/apps/xaml/dn263175)\n* [Quickstart: Adding push notifications for a mobile service (JavaScript)](https://msdn.microsoft.com/library/windows/apps/dn263163)\n \n\n \n\n\n\n\n"}