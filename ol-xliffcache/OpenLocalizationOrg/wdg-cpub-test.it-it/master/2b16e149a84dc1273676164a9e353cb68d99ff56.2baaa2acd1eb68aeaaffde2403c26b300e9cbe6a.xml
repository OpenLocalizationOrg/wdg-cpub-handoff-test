{"nodes":[{"content":"File access permissions","pos":[2,25]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[27,65]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[66,161],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"content":"Apps can access certain file system locations by default.","pos":[164,221]},{"content":"Apps can also access additional locations through the file picker, or by declaring capabilities.","pos":[222,318]},{"content":"The locations that all apps can access","pos":[323,361]},{"content":"When you create a new app, you can access the following file system locations by default:","pos":[363,452]},{"content":"<bpt id=\"p1\">**</bpt>Application install directory<ept id=\"p1\">**</ept>.","pos":[458,492],"source":"**Application install directory**."},{"content":"The folder where your app is installed on the user’s system.","pos":[493,553]},{"content":"There are two primary ways to access files and folders in your app’s install directory:","pos":[559,646]},{"pos":[656,809],"content":"You can retrieve a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFolder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227230)</ept> that represents your app's install directory, like this:","source":"You can retrieve a [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) that represents your app's install directory, like this:"},{"content":"You can then access files and folders in the directory using <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFolder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227230)</ept> methods.","pos":[1135,1282],"source":"You can then access files and folders in the directory using [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) methods."},{"content":"In the example, this <bpt id=\"p1\">**</bpt>StorageFolder<ept id=\"p1\">**</ept> is stored in the <ph id=\"ph1\">`installDirectory`</ph> variable.","pos":[1283,1367],"source":" In the example, this **StorageFolder** is stored in the `installDirectory` variable."},{"content":"You can learn more about working with your app package and install directory by downloading the <bpt id=\"p1\">[</bpt>App package information sample<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=231526)</ept> for Windows 8.1 and re-using its source code in your Windows 10 app.","pos":[1368,1614],"source":" You can learn more about working with your app package and install directory by downloading the [App package information sample](http://go.microsoft.com/fwlink/p/?linkid=231526) for Windows 8.1 and re-using its source code in your Windows 10 app."},{"content":"You can retrieve a file directly from your app's install directory by using an app URI, like this:","pos":[1624,1722]},{"pos":[2173,2464],"content":"When <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetFileFromApplicationUriAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701741)</ept> completes, it returns a <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>StorageFile<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br227171)</ept> that represents the <bpt id=\"p5\">*</bpt>file.txt<ept id=\"p5\">*</ept> file in the app's install directory (<ph id=\"ph1\">`file`</ph> in the example).","source":"When [**GetFileFromApplicationUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701741) completes, it returns a [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/br227171) that represents the *file.txt* file in the app's install directory (`file` in the example)."},{"content":"The \"ms-appx:///\" prefix in the URI refers to the app's install directory.","pos":[2474,2548]},{"content":"You can learn more about using app URIs in <bpt id=\"p1\">[</bpt>How to use URIs to reference content<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh781215)</ept>.","pos":[2549,2689],"source":" You can learn more about using app URIs in [How to use URIs to reference content](https://msdn.microsoft.com/library/windows/apps/hh781215)."},{"pos":[2695,3044],"content":"In addition, and unlike other locations, you can also access files in your app install directory by using some <bpt id=\"p1\">[</bpt>Win32 and COM for Universal Windows Platform (UWP) apps<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br205757)</ept> and some <bpt id=\"p2\">[</bpt>C/C++ Standard Library functions from Microsoft Visual Studio<ept id=\"p2\">](http://msdn.microsoft.com/library/hh875057.aspx)</ept>.","source":"In addition, and unlike other locations, you can also access files in your app install directory by using some [Win32 and COM for Universal Windows Platform (UWP) apps](https://msdn.microsoft.com/library/windows/apps/br205757) and some [C/C++ Standard Library functions from Microsoft Visual Studio](http://msdn.microsoft.com/library/hh875057.aspx)."},{"content":"The app's install directory is a read-only location.","pos":[3050,3102]},{"content":"You can’t gain access to the install directory through the file picker.","pos":[3103,3174]},{"content":"Application data locations.","pos":[3182,3209]},{"content":"The folders where your app can store data.","pos":[3212,3254]},{"content":"These folders (local, roaming and temporary) are created when your app is installed.","pos":[3255,3339]},{"content":"There are two primary ways to access files and folders from your app’s data locations:","pos":[3345,3431]},{"pos":[3441,3567],"content":"Use <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationData<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241587)</ept> properties to retrieve an app data folder.","source":"Use [**ApplicationData**](https://msdn.microsoft.com/library/windows/apps/br241587) properties to retrieve an app data folder."},{"pos":[3577,3900],"content":"For example, you can use <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>ApplicationData<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241587)</ept>.<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>LocalFolder<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br241621)</ept> to retrieve a <bpt id=\"p5\">[</bpt><bpt id=\"p6\">**</bpt>StorageFolder<ept id=\"p6\">**</ept><ept id=\"p5\">](https://msdn.microsoft.com/library/windows/apps/br227230)</ept> that represents your app's local folder like this:","source":"For example, you can use [**ApplicationData**](https://msdn.microsoft.com/library/windows/apps/br241587).[**LocalFolder**](https://msdn.microsoft.com/library/windows/apps/br241621) to retrieve a [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) that represents your app's local folder like this:"},{"pos":[4202,4450],"content":"If you want to access your app's roaming or temporary folder, use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>RoamingFolder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241623)</ept> or <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>TemporaryFolder<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br241629)</ept> property instead.","source":"If you want to access your app's roaming or temporary folder, use the [**RoamingFolder**](https://msdn.microsoft.com/library/windows/apps/br241623) or [**TemporaryFolder**](https://msdn.microsoft.com/library/windows/apps/br241629) property instead."},{"content":"After you retrieve a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFolder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227230)</ept> that represents an app data location, you can access files and folders in that location by using <bpt id=\"p3\">**</bpt>StorageFolder<ept id=\"p3\">**</ept> methods.","pos":[4460,4682],"source":"After you retrieve a [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) that represents an app data location, you can access files and folders in that location by using **StorageFolder** methods."},{"content":"In the example, these <bpt id=\"p1\">**</bpt>StorageFolder<ept id=\"p1\">**</ept> objects are stored in the <ph id=\"ph1\">`localFolder`</ph> variable.","pos":[4683,4772],"source":" In the example, these **StorageFolder** objects are stored in the `localFolder` variable."},{"content":"You can learn more about using app data locations in <bpt id=\"p1\">[</bpt>Managing application data<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh465109)</ept>, and by downloading the <bpt id=\"p2\">[</bpt>Application data sample<ept id=\"p2\">](http://go.microsoft.com/fwlink/p/?linkid=231478)</ept> for Windows 8.1 and re-using its source code in your Windows 10 app.","pos":[4773,5079],"source":" You can learn more about using app data locations in [Managing application data](https://msdn.microsoft.com/library/windows/apps/hh465109), and by downloading the [Application data sample](http://go.microsoft.com/fwlink/p/?linkid=231478) for Windows 8.1 and re-using its source code in your Windows 10 app."},{"content":"For example, you can retrieve a file directly from your app's local folder by using an app URI, like this:","pos":[5089,5195]},{"pos":[5644,5930],"content":"When <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetFileFromApplicationUriAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh701741)</ept> completes, it returns a <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>StorageFile<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br227171)</ept> that represents the <bpt id=\"p5\">*</bpt>file.txt<ept id=\"p5\">*</ept> file in the app's local folder (<ph id=\"ph1\">`file`</ph> in the example).","source":"When [**GetFileFromApplicationUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701741) completes, it returns a [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/br227171) that represents the *file.txt* file in the app's local folder (`file` in the example)."},{"content":"The \"ms-appdata:///local/\" prefix in the URI refers to the app's local folder.","pos":[5940,6018]},{"content":"To access files in the app's roaming or temporary folders use \"ms-appdata:///roaming/\" or \"ms-appdata:///temporary/\" instead.","pos":[6019,6144]},{"content":"You can learn more about using app URIs in <bpt id=\"p1\">[</bpt>How to load file resources<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/hh781229)</ept>.","pos":[6145,6275],"source":" You can learn more about using app URIs in [How to load file resources](https://msdn.microsoft.com/library/windows/apps/hh781229)."},{"pos":[6281,6537],"content":"In addition, and unlike other locations, you can also access files in your app data locations by using some <bpt id=\"p1\">[</bpt>Win32 and COM for UWP apps<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br205757)</ept> and some C/C++ Standard Library functions from Visual Studio.","source":"In addition, and unlike other locations, you can also access files in your app data locations by using some [Win32 and COM for UWP apps](https://msdn.microsoft.com/library/windows/apps/br205757) and some C/C++ Standard Library functions from Visual Studio."},{"content":"You can’t access the local, roaming, or temporary folders through the file picker.","pos":[6543,6625]},{"content":"Removable devices.","pos":[6633,6651]},{"content":"Additionally, your app can access some of the files on connected devices by default.","pos":[6654,6738]},{"content":"This is an option if your app uses the <bpt id=\"p1\">[</bpt>AutoPlay extension<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh464906.aspx#autoplay)</ept> to launch automatically when users connect a device, like a camera or USB thumb drive, to their system.","pos":[6739,6985],"source":" This is an option if your app uses the [AutoPlay extension](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh464906.aspx#autoplay) to launch automatically when users connect a device, like a camera or USB thumb drive, to their system."},{"content":"The files your app can access are limited to specific file types that are specified via File Type Association declarations in your app manifest.","pos":[6986,7130]},{"content":"Of course, you can also gain access to files and folders on a removable device by calling the file picker (using <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>FileOpenPicker<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br207847)</ept> and <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>FolderPicker<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br207881)</ept>) and letting the user pick files and folders for your app to access.","pos":[7136,7477],"source":"Of course, you can also gain access to files and folders on a removable device by calling the file picker (using [**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847) and [**FolderPicker**](https://msdn.microsoft.com/library/windows/apps/br207881)) and letting the user pick files and folders for your app to access."},{"content":"Learn how to use the file picker in <bpt id=\"p1\">[</bpt>Open files and folders with a picker<ept id=\"p1\">](quickstart-using-file-and-folder-pickers.md)</ept>.","pos":[7478,7598],"source":" Learn how to use the file picker in [Open files and folders with a picker](quickstart-using-file-and-folder-pickers.md)."},{"pos":[7604,7722],"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  For more info about accessing an SD card from a mobile app, see <bpt id=\"p2\">[</bpt>Access the SD card<ept id=\"p2\">](access-the-sd-card.md)</ept>.","source":"**Note**  For more info about accessing an SD card from a mobile app, see [Access the SD card](access-the-sd-card.md)."},{"content":"Locations Windows Store apps can access","pos":[7734,7773]},{"content":"User’s Downloads folder.","pos":[7781,7805]},{"content":"The folder where downloaded files are saved by default.","pos":[7808,7863]},{"content":"By default, your app can only access files and folders in the user's Downloads folder that your app created.","pos":[7869,7977]},{"content":"However, you can gain access to files and folders in the user's Downloads folder by calling a file picker (<bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>FileOpenPicker<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br207847)</ept> or <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>FolderPicker<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br207881)</ept>) so that users can navigate and pick files or folders for your app to access.","pos":[7978,8321],"source":" However, you can gain access to files and folders in the user's Downloads folder by calling a file picker ([**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847) or [**FolderPicker**](https://msdn.microsoft.com/library/windows/apps/br207881)) so that users can navigate and pick files or folders for your app to access."},{"content":"You can create a file in the user's Downloads folder like this:","pos":[8331,8394]},{"content":"<bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DownloadsFolder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241632)</ept>.<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>CreateFileAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh996761)</ept> is overloaded so that you can specify what the system should do if there is already an existing file in the Downloads folder that has the same name.","pos":[8788,9096],"source":"[**DownloadsFolder**](https://msdn.microsoft.com/library/windows/apps/br241632).[**CreateFileAsync**](https://msdn.microsoft.com/library/windows/apps/hh996761) is overloaded so that you can specify what the system should do if there is already an existing file in the Downloads folder that has the same name."},{"content":"When these methods complete, they return a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFile<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227171)</ept> that represents the file that was created.","pos":[9097,9258],"source":" When these methods complete, they return a [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/br227171) that represents the file that was created."},{"content":"This file is called <ph id=\"ph1\">`newFile`</ph> in the example.","pos":[9259,9304],"source":" This file is called `newFile` in the example."},{"content":"You can create a subfolder in the user's Downloads folder like this:","pos":[9314,9382]},{"content":"<bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DownloadsFolder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br241632)</ept>.<bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>CreateFolderAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/hh996763)</ept> is overloaded so that you can specify what the system should do if there is already an existing subfolder in the Downloads folder that has the same name.","pos":[9792,10107],"source":"[**DownloadsFolder**](https://msdn.microsoft.com/library/windows/apps/br241632).[**CreateFolderAsync**](https://msdn.microsoft.com/library/windows/apps/hh996763) is overloaded so that you can specify what the system should do if there is already an existing subfolder in the Downloads folder that has the same name."},{"content":"When these methods complete, they return a <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>StorageFolder<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227230)</ept> that represents the subfolder that was created.","pos":[10108,10276],"source":" When these methods complete, they return a [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) that represents the subfolder that was created."},{"content":"This file is called <ph id=\"ph1\">`newFolder`</ph> in the example.","pos":[10277,10324],"source":" This file is called `newFolder` in the example."},{"pos":[10330,10577],"content":"If you create a file or folder in the Downloads folder, we recommend that you add that item to your app's <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>FutureAccessList<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br207457)</ept> so that your app can readily access that item in the future.","source":"If you create a file or folder in the Downloads folder, we recommend that you add that item to your app's [**FutureAccessList**](https://msdn.microsoft.com/library/windows/apps/br207457) so that your app can readily access that item in the future."},{"content":"Accessing additional locations","pos":[10582,10612]},{"pos":[10614,11019],"content":"In addition to the default locations, an app can access additional files and folders by declaring capabilities in the app manifest (see <bpt id=\"p1\">[</bpt>App capability declarations<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/mt270968)</ept>), or by calling a file picker to let the user pick files and folders for the app to access (see <bpt id=\"p2\">[</bpt>Open files and folders with a picker<ept id=\"p2\">](quickstart-using-file-and-folder-pickers.md)</ept>).","source":"In addition to the default locations, an app can access additional files and folders by declaring capabilities in the app manifest (see [App capability declarations](https://msdn.microsoft.com/library/windows/apps/mt270968)), or by calling a file picker to let the user pick files and folders for the app to access (see [Open files and folders with a picker](quickstart-using-file-and-folder-pickers.md))."},{"pos":[11021,11241],"content":"The following table lists additional locations that you can access by declaring a capability (or capabilities) and using the associated <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Storage<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227346)</ept> API:","source":"The following table lists additional locations that you can access by declaring a capability (or capabilities) and using the associated [**Windows.Storage**](https://msdn.microsoft.com/library/windows/apps/br227346) API:"},{"content":"Location","pos":[11245,11253]},{"content":"Capability","pos":[11256,11266]},{"content":"Windows.Storage API","pos":[11269,11288]},{"content":"Documents","pos":[11341,11350]},{"content":"DocumentsLibrary","pos":[11353,11369]},{"content":"Note: You must add File Type Associations to your app manifest that declare specific file types that your app can access in this location.","pos":[11378,11516]},{"content":"Use this capability if your app:","pos":[11525,11557]},{"content":"- Facilitates cross-platform offline access to specific OneDrive content using valid OneDrive URLs or Resource IDs","pos":[11561,11675]},{"content":"- Saves open files to the user’s OneDrive automatically while offline","pos":[11679,11748]},{"content":"KnownFolders.DocumentsLibrary","pos":[11752,11781]},{"content":"Music","pos":[11845,11850]},{"content":"MusicLibrary","pos":[11857,11869]},{"content":"Also see <bpt id=\"p1\">[</bpt>Files and folders in the Music, Pictures, and Videos libraries<ept id=\"p1\">](quickstart-managing-folders-in-the-music-pictures-and-videos-libraries.md)</ept>.","pos":[11874,12023],"source":"Also see [Files and folders in the Music, Pictures, and Videos libraries](quickstart-managing-folders-in-the-music-pictures-and-videos-libraries.md)."},{"content":"KnownFolders.MusicLibrary","pos":[12027,12052]},{"content":"Pictures","pos":[12120,12128]},{"content":"PicturesLibrary","pos":[12132,12147]},{"content":"Also see <bpt id=\"p1\">[</bpt>Files and folders in the Music, Pictures, and Videos libraries<ept id=\"p1\">](quickstart-managing-folders-in-the-music-pictures-and-videos-libraries.md)</ept>.","pos":[12152,12301],"source":" Also see [Files and folders in the Music, Pictures, and Videos libraries](quickstart-managing-folders-in-the-music-pictures-and-videos-libraries.md)."},{"content":"KnownFolders.PicturesLibrary","pos":[12305,12333]},{"content":"Videos","pos":[12399,12405]},{"content":"VideosLibrary","pos":[12411,12424]},{"content":"Also see <bpt id=\"p1\">[</bpt>Files and folders in the Music, Pictures, and Videos libraries<ept id=\"p1\">](quickstart-managing-folders-in-the-music-pictures-and-videos-libraries.md)</ept>.","pos":[12428,12577],"source":"Also see [Files and folders in the Music, Pictures, and Videos libraries](quickstart-managing-folders-in-the-music-pictures-and-videos-libraries.md)."},{"content":"KnownFolders.VideosLibrary","pos":[12581,12607]},{"content":"Removable devices","pos":[12674,12691]},{"content":"RemovableDevices","pos":[12695,12711]},{"content":"Note  You must add File Type Associations to your app manifest that declare specific file types that your app can access in this location.","pos":[12720,12858]},{"content":"Also see <bpt id=\"p1\">[</bpt>Access the SD card<ept id=\"p1\">](access-the-sd-card.md)</ept>.","pos":[12867,12920],"source":"Also see [Access the SD card](access-the-sd-card.md)."},{"content":"KnownFolders.RemovableDevices","pos":[12924,12953]},{"content":"Homegroup libraries","pos":[13019,13038]},{"content":"At least one of the following capabilities is needed.","pos":[13042,13095]},{"content":"- MusicLibrary","pos":[13100,13114]},{"content":"- PicturesLibrary","pos":[13119,13136]},{"content":"- VideosLibrary","pos":[13141,13156]},{"content":"KnownFolders.HomeGroup","pos":[13160,13182]},{"content":"Media server devices (DLNA)","pos":[13252,13279]},{"content":"At least one of the following capabilities is needed.","pos":[13282,13335]},{"content":"- MusicLibrary","pos":[13340,13354]},{"content":"- PicturesLibrary","pos":[13359,13376]},{"content":"- VideosLibrary","pos":[13381,13396]},{"content":"KnownFolders.MediaServerDevices","pos":[13400,13431]},{"content":"Universal Naming Convention (UNC) folders","pos":[13496,13537]},{"content":"A combination of the following capabilities is needed.","pos":[13540,13594]},{"content":"The home and work networks capability:","pos":[13603,13641]},{"content":"- PrivateNetworkClientServer","pos":[13646,13674]},{"content":"And at least one internet and public networks capability:","pos":[13683,13740]},{"content":"- InternetClient","pos":[13745,13761]},{"content":"- InternetClientServer","pos":[13766,13788]},{"content":"And, if applicable, the domain credentials capability:","pos":[13797,13851]},{"content":"- EnterpriseAuthentication","pos":[13855,13881]},{"content":"Note: You must add File Type Associations to your app manifest that declare specific file types that your app can access in this location.","pos":[13890,14028]},{"content":"Retrieve a folder using:","pos":[14031,14055]},{"content":"StorageFolder.GetFolderFromPathAsync","pos":[14061,14097]},{"content":"Retrieve a file using:","pos":[14165,14187]},{"content":"StorageFile.GetFileFromPathAsync","pos":[14193,14225]}],"content":"# File access permissions\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n\nApps can access certain file system locations by default. Apps can also access additional locations through the file picker, or by declaring capabilities.\n\n## The locations that all apps can access\n\nWhen you create a new app, you can access the following file system locations by default:\n\n-   **Application install directory**. The folder where your app is installed on the user’s system.\n\n    There are two primary ways to access files and folders in your app’s install directory:\n\n    1.  You can retrieve a [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) that represents your app's install directory, like this:\n        > [!div class=\"tabbedCodeSnippets\"]\n        ```csharp\n        Windows.Storage.StorageFolder installedLocation = Windows.ApplicationModel.Package.Current.InstalledLocation;\n        ```\n        ```javascript\n        var installDirectory = Windows.ApplicationModel.Package.current.installedLocation;\n        ```\n\n       You can then access files and folders in the directory using [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) methods. In the example, this **StorageFolder** is stored in the `installDirectory` variable. You can learn more about working with your app package and install directory by downloading the [App package information sample](http://go.microsoft.com/fwlink/p/?linkid=231526) for Windows 8.1 and re-using its source code in your Windows 10 app.\n\n    2.  You can retrieve a file directly from your app's install directory by using an app URI, like this:\n        > [!div class=\"tabbedCodeSnippets\"]\n        ```csharp\n        using Windows.Storage;            \n        StorageFile file = await StorageFile.GetFileFromApplicationUriAsync(\"ms-appx:///file.txt\");\n        ```\n        ```javascript\n        Windows.Storage.StorageFile.getFileFromApplicationUriAsync(\"ms-appx:///file.txt\").done(\n            function(file) {\n                // Process file\n            }\n        );\n        ```\n        \n        When [**GetFileFromApplicationUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701741) completes, it returns a [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/br227171) that represents the *file.txt* file in the app's install directory (`file` in the example).\n\n        The \"ms-appx:///\" prefix in the URI refers to the app's install directory. You can learn more about using app URIs in [How to use URIs to reference content](https://msdn.microsoft.com/library/windows/apps/hh781215).\n\n    In addition, and unlike other locations, you can also access files in your app install directory by using some [Win32 and COM for Universal Windows Platform (UWP) apps](https://msdn.microsoft.com/library/windows/apps/br205757) and some [C/C++ Standard Library functions from Microsoft Visual Studio](http://msdn.microsoft.com/library/hh875057.aspx).\n\n    The app's install directory is a read-only location. You can’t gain access to the install directory through the file picker.\n\n-   **Application data locations.** The folders where your app can store data. These folders (local, roaming and temporary) are created when your app is installed.\n\n    There are two primary ways to access files and folders from your app’s data locations:\n\n    1.  Use [**ApplicationData**](https://msdn.microsoft.com/library/windows/apps/br241587) properties to retrieve an app data folder.\n\n        For example, you can use [**ApplicationData**](https://msdn.microsoft.com/library/windows/apps/br241587).[**LocalFolder**](https://msdn.microsoft.com/library/windows/apps/br241621) to retrieve a [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) that represents your app's local folder like this:\n        > [!div class=\"tabbedCodeSnippets\"]\n        ```csharp\n        using Windows.Storage;\n        StorageFolder localFolder = ApplicationData.Current.LocalFolder;\n        ```\n        ```javascript\n        var localFolder = Windows.Storage.ApplicationData.current.localFolder;\n        ```\n \n        If you want to access your app's roaming or temporary folder, use the [**RoamingFolder**](https://msdn.microsoft.com/library/windows/apps/br241623) or [**TemporaryFolder**](https://msdn.microsoft.com/library/windows/apps/br241629) property instead.\n\n        After you retrieve a [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) that represents an app data location, you can access files and folders in that location by using **StorageFolder** methods. In the example, these **StorageFolder** objects are stored in the `localFolder` variable. You can learn more about using app data locations in [Managing application data](https://msdn.microsoft.com/library/windows/apps/hh465109), and by downloading the [Application data sample](http://go.microsoft.com/fwlink/p/?linkid=231478) for Windows 8.1 and re-using its source code in your Windows 10 app.\n\n    2.  For example, you can retrieve a file directly from your app's local folder by using an app URI, like this:\n        > [!div class=\"tabbedCodeSnippets\"]\n        ```csharp\n        using Windows.Storage;\n        StorageFile file = await StorageFile.GetFileFromApplicationUriAsync(\"ms-appdata:///local/file.txt\");\n        ```\n        ```javascript\n        Windows.Storage.StorageFile.getFileFromApplicationUriAsync(\"ms-appdata:///local/file.txt\").done(\n            function(file) {\n                // Process file\n            }\n        );\n        ```\n\n        When [**GetFileFromApplicationUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701741) completes, it returns a [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/br227171) that represents the *file.txt* file in the app's local folder (`file` in the example).\n\n        The \"ms-appdata:///local/\" prefix in the URI refers to the app's local folder. To access files in the app's roaming or temporary folders use \"ms-appdata:///roaming/\" or \"ms-appdata:///temporary/\" instead. You can learn more about using app URIs in [How to load file resources](https://msdn.microsoft.com/library/windows/apps/hh781229).\n\n    In addition, and unlike other locations, you can also access files in your app data locations by using some [Win32 and COM for UWP apps](https://msdn.microsoft.com/library/windows/apps/br205757) and some C/C++ Standard Library functions from Visual Studio.\n\n    You can’t access the local, roaming, or temporary folders through the file picker.\n\n-   **Removable devices.** Additionally, your app can access some of the files on connected devices by default. This is an option if your app uses the [AutoPlay extension](https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh464906.aspx#autoplay) to launch automatically when users connect a device, like a camera or USB thumb drive, to their system. The files your app can access are limited to specific file types that are specified via File Type Association declarations in your app manifest.\n\n    Of course, you can also gain access to files and folders on a removable device by calling the file picker (using [**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847) and [**FolderPicker**](https://msdn.microsoft.com/library/windows/apps/br207881)) and letting the user pick files and folders for your app to access. Learn how to use the file picker in [Open files and folders with a picker](quickstart-using-file-and-folder-pickers.md).\n\n    **Note**  For more info about accessing an SD card from a mobile app, see [Access the SD card](access-the-sd-card.md).\n\n     \n\n## Locations Windows Store apps can access\n\n-   **User’s Downloads folder.** The folder where downloaded files are saved by default.\n\n    By default, your app can only access files and folders in the user's Downloads folder that your app created. However, you can gain access to files and folders in the user's Downloads folder by calling a file picker ([**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847) or [**FolderPicker**](https://msdn.microsoft.com/library/windows/apps/br207881)) so that users can navigate and pick files or folders for your app to access.\n\n    -   You can create a file in the user's Downloads folder like this:\n        > [!div class=\"tabbedCodeSnippets\"]\n        ```csharp\n        using Windows.Storage;\n        StorageFile newFile = await DownloadsFolder.CreateFileAsync(\"file.txt\");\n        ```\n        ```javascript\n        Windows.Storage.DownloadsFolder.createFileAsync(\"file.txt\").done(\n            function(newFile) {\n                // Process file\n            }\n        );\n        ```\n \n        [**DownloadsFolder**](https://msdn.microsoft.com/library/windows/apps/br241632).[**CreateFileAsync**](https://msdn.microsoft.com/library/windows/apps/hh996761) is overloaded so that you can specify what the system should do if there is already an existing file in the Downloads folder that has the same name. When these methods complete, they return a [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/br227171) that represents the file that was created. This file is called `newFile` in the example.\n\n    -   You can create a subfolder in the user's Downloads folder like this:\n        > [!div class=\"tabbedCodeSnippets\"]\n        ```csharp\n        using Windows.Storage;\n        StorageFolder newFolder = await DownloadsFolder.CreateFolderAsync(\"New Folder\");\n        ```\n        ```javascript\n        Windows.Storage.DownloadsFolder.createFolderAsync(\"New Folder\").done(\n            function(newFolder) {\n                // Process folder\n            }\n        );\n        ```\n \n        [**DownloadsFolder**](https://msdn.microsoft.com/library/windows/apps/br241632).[**CreateFolderAsync**](https://msdn.microsoft.com/library/windows/apps/hh996763) is overloaded so that you can specify what the system should do if there is already an existing subfolder in the Downloads folder that has the same name. When these methods complete, they return a [**StorageFolder**](https://msdn.microsoft.com/library/windows/apps/br227230) that represents the subfolder that was created. This file is called `newFolder` in the example.\n\n    If you create a file or folder in the Downloads folder, we recommend that you add that item to your app's [**FutureAccessList**](https://msdn.microsoft.com/library/windows/apps/br207457) so that your app can readily access that item in the future.\n\n## Accessing additional locations\n\nIn addition to the default locations, an app can access additional files and folders by declaring capabilities in the app manifest (see [App capability declarations](https://msdn.microsoft.com/library/windows/apps/mt270968)), or by calling a file picker to let the user pick files and folders for the app to access (see [Open files and folders with a picker](quickstart-using-file-and-folder-pickers.md)).\n\nThe following table lists additional locations that you can access by declaring a capability (or capabilities) and using the associated [**Windows.Storage**](https://msdn.microsoft.com/library/windows/apps/br227346) API:\n\n| Location | Capability | Windows.Storage API |\n|----------|------------|---------------------|\n| Documents | DocumentsLibrary <br><br>Note: You must add File Type Associations to your app manifest that declare specific file types that your app can access in this location. <br><br>Use this capability if your app:<br>- Facilitates cross-platform offline access to specific OneDrive content using valid OneDrive URLs or Resource IDs<br>- Saves open files to the user’s OneDrive automatically while offline | [KnownFolders.DocumentsLibrary](https://msdn.microsoft.com/library/windows/apps/br227152) |\n| Music     | MusicLibrary <br>Also see [Files and folders in the Music, Pictures, and Videos libraries](quickstart-managing-folders-in-the-music-pictures-and-videos-libraries.md). | [KnownFolders.MusicLibrary](https://msdn.microsoft.com/library/windows/apps/br227155) |    \n| Pictures  | PicturesLibrary<br> Also see [Files and folders in the Music, Pictures, and Videos libraries](quickstart-managing-folders-in-the-music-pictures-and-videos-libraries.md). | [KnownFolders.PicturesLibrary](https://msdn.microsoft.com/library/windows/apps/br227156) |  \n| Videos    | VideosLibrary<br>Also see [Files and folders in the Music, Pictures, and Videos libraries](quickstart-managing-folders-in-the-music-pictures-and-videos-libraries.md). | [KnownFolders.VideosLibrary](https://msdn.microsoft.com/library/windows/apps/br227159) |   \n| Removable devices  | RemovableDevices <br><br>Note  You must add File Type Associations to your app manifest that declare specific file types that your app can access in this location. <br><br>Also see [Access the SD card](access-the-sd-card.md). | [KnownFolders.RemovableDevices](https://msdn.microsoft.com/library/windows/apps/br227158) |  \n| Homegroup libraries  | At least one of the following capabilities is needed. <br>- MusicLibrary <br>- PicturesLibrary <br>- VideosLibrary | [KnownFolders.HomeGroup](https://msdn.microsoft.com/library/windows/apps/br227153) |      \n| Media server devices (DLNA) | At least one of the following capabilities is needed. <br>- MusicLibrary <br>- PicturesLibrary <br>- VideosLibrary | [KnownFolders.MediaServerDevices](https://msdn.microsoft.com/library/windows/apps/br227154) | \n| Universal Naming Convention (UNC) folders | A combination of the following capabilities is needed. <br><br>The home and work networks capability: <br>- PrivateNetworkClientServer <br><br>And at least one internet and public networks capability: <br>- InternetClient <br>- InternetClientServer <br><br>And, if applicable, the domain credentials capability:<br>- EnterpriseAuthentication <br><br>Note: You must add File Type Associations to your app manifest that declare specific file types that your app can access in this location. | Retrieve a folder using: <br>[StorageFolder.GetFolderFromPathAsync](https://msdn.microsoft.com/library/windows/apps/br227278) <br><br>Retrieve a file using: <br>[StorageFile.GetFileFromPathAsync](https://msdn.microsoft.com/library/windows/apps/br227206) |"}