{"nodes":[{"pos":[17,117],"content":"This article explains how to add dragging and dropping in your Universal Windows Platform (UWP) app.","needQuote":true,"needEscape":true,"nodes":[{"content":"This article explains how to add dragging and dropping in your Universal Windows Platform (UWP) app.","pos":[0,100]}]},{"pos":[125,138],"content":"Drag and drop","needQuote":true,"needEscape":true,"nodes":[{"content":"Drag and drop","pos":[0,13]}]},{"content":"Drag and drop","pos":[194,207]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[209,247]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[248,343],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"content":"This article explains how to add dragging and dropping in your Universal Windows Platform (UWP) app.","pos":[346,446]},{"content":"Drag and drop is a classic, natural way of interacting with content such as images and files.","pos":[447,540]},{"content":"Once implemented, drag and drop works seamlessly in all directions, including app-to-app, app-to-desktop, and desktop-to app.","pos":[541,666]},{"content":"Set valid areas","pos":[671,686]},{"pos":[688,828],"content":"Use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>AllowDrop<ept id=\"p2\">**</ept><ept id=\"p1\">]</ept><bpt id=\"p3\">[</bpt>AllowDrop<ept id=\"p3\">]</ept> and <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>CanDrag<ept id=\"p5\">**</ept><ept id=\"p4\">]</ept><bpt id=\"p6\">[</bpt>CanDrag<ept id=\"p6\">]</ept> properties to designate the areas of your app valid for dragging and dropping.","source":"Use the [**AllowDrop**][AllowDrop] and [**CanDrag**][CanDrag] properties to designate the areas of your app valid for dragging and dropping."},{"content":"The markup below shows how to set a specific area of the app as a valid for dropping using the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>AllowDrop<ept id=\"p2\">**</ept><ept id=\"p1\">]</ept><bpt id=\"p3\">[</bpt>AllowDrop<ept id=\"p3\">]</ept> in XAML.","pos":[830,960],"source":"The markup below shows how to set a specific area of the app as a valid for dropping using the [**AllowDrop**][AllowDrop] in XAML."},{"content":"If a user tries to drop somewhere else, the system won't let them.","pos":[961,1027]},{"content":"If you want users to be able to drop items anywhere on your app, set the entire background as a drop target.","pos":[1028,1136]},{"pos":[1149,1153],"content":"Main"},{"content":"With dragging, you'll usually want to be specific about what's draggable.","pos":[1208,1281]},{"content":"Users will want to drag certain items, like pictures, not everything in your app.","pos":[1282,1363]},{"content":"Here's how to set <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>CanDrag<ept id=\"p2\">**</ept><ept id=\"p1\">]</ept><bpt id=\"p3\">[</bpt>CanDrag<ept id=\"p3\">]</ept> using XAML.","pos":[1364,1416],"source":" Here's how to set [**CanDrag**][CanDrag] using XAML."},{"pos":[1429,1433],"content":"Main"},{"content":"You don't need to do any other work to allow dragging, unless you want to customize the UI (which is covered later in this article).","pos":[1488,1620]},{"content":"Dropping requires a few more steps.","pos":[1621,1656]},{"content":"Handle the DragOver event","pos":[1661,1686]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DragOver<ept id=\"p2\">**</ept><ept id=\"p1\">]</ept><bpt id=\"p3\">[</bpt>DragOver<ept id=\"p3\">]</ept> event fires when a user has dragged an item over your app, but not yet dropped it.","pos":[1688,1799],"source":"The [**DragOver**][DragOver] event fires when a user has dragged an item over your app, but not yet dropped it."},{"content":"In this handler, you need to specify what kind of operations your app supports using the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DragEventArgs.AcceptedOperation<ept id=\"p2\">**</ept><ept id=\"p1\">]</ept><bpt id=\"p3\">[</bpt>AcceptedOperation<ept id=\"p3\">]</ept> property.","pos":[1800,1955],"source":" In this handler, you need to specify what kind of operations your app supports using the [**DragEventArgs.AcceptedOperation**][AcceptedOperation] property."},{"content":"Copy is the most common.","pos":[1956,1980]},{"pos":[1992,1996],"content":"Main"},{"content":"Process the Drop event","pos":[2062,2084]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Drop<ept id=\"p2\">**</ept><ept id=\"p1\">]</ept><bpt id=\"p3\">[</bpt>Drop<ept id=\"p3\">]</ept> event occurs when the user releases items in a valid drop area.","pos":[2086,2170],"source":"The [**Drop**][Drop] event occurs when the user releases items in a valid drop area."},{"content":"Process them using the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DragEventArgs.DataView<ept id=\"p2\">**</ept><ept id=\"p1\">]</ept><bpt id=\"p3\">[</bpt>DataView<ept id=\"p3\">]</ept> property.","pos":[2171,2242],"source":" Process them using the [**DragEventArgs.DataView**][DataView] property."},{"content":"For simplicity in the example below, we'll assume the user dropped a single photo and access.","pos":[2244,2337]},{"content":"In reality, users can drop multiple items of varying formats simultaneously.","pos":[2338,2414]},{"content":"Your app should handle this possibility by checking what types of files were dropped and processing them accordingly, and notifying the user if they're trying to do something your app don't support.","pos":[2415,2613]},{"pos":[2625,2629],"content":"Main"},{"content":"Customize the UI","pos":[2691,2707]},{"content":"The system provides a default UI for dragging and dropping.","pos":[2709,2768]},{"content":"However, you can also choose to customize various parts of the UI by setting custom captions and glyphs, or by opting not to show a UI at all.","pos":[2769,2911]},{"content":"To customize the UI, use the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DragUIOverride<ept id=\"p2\">**</ept><ept id=\"p1\">]</ept><bpt id=\"p3\">[</bpt>DragUiOverride<ept id=\"p3\">]</ept> property in the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>DragOver<ept id=\"p5\">**</ept><ept id=\"p4\">]</ept><bpt id=\"p6\">[</bpt>DragOver<ept id=\"p6\">]</ept> event handler.","pos":[2912,3033],"source":" To customize the UI, use the [**DragUIOverride**][DragUiOverride] property in the [**DragOver**][DragOver] event handler."},{"pos":[3045,3049],"content":"Main"},{"content":"AllowDrop","pos":[3135,3144]},{"content":"CanDrag","pos":[3248,3255]},{"content":"DragOver","pos":[3357,3365]},{"content":"AcceptedOperation","pos":[3468,3485]},{"content":"DataView","pos":[3601,3609]},{"content":"DragUiOverride","pos":[3716,3730]},{"content":"Drop","pos":[3843,3847]}],"content":"---\ndescription: This article explains how to add dragging and dropping in your Universal Windows Platform (UWP) app.\ntitle: Drag and drop\nms.assetid: A15ED2F5-1649-4601-A761-0F6C707A8B7E\n---\n# Drag and drop\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n\nThis article explains how to add dragging and dropping in your Universal Windows Platform (UWP) app. Drag and drop is a classic, natural way of interacting with content such as images and files. Once implemented, drag and drop works seamlessly in all directions, including app-to-app, app-to-desktop, and desktop-to app.\n\n## Set valid areas\n\nUse the [**AllowDrop**][AllowDrop] and [**CanDrag**][CanDrag] properties to designate the areas of your app valid for dragging and dropping.\n\nThe markup below shows how to set a specific area of the app as a valid for dropping using the [**AllowDrop**][AllowDrop] in XAML. If a user tries to drop somewhere else, the system won't let them. If you want users to be able to drop items anywhere on your app, set the entire background as a drop target.\n\n[!code-xml[Main](./code/drag_drop/cs/MainPage.xaml#SnippetDropArea)]\n\nWith dragging, you'll usually want to be specific about what's draggable. Users will want to drag certain items, like pictures, not everything in your app. Here's how to set [**CanDrag**][CanDrag] using XAML.\n\n[!code-xml[Main](./code/drag_drop/cs/MainPage.xaml#SnippetDragArea)]\n\nYou don't need to do any other work to allow dragging, unless you want to customize the UI (which is covered later in this article). Dropping requires a few more steps.\n\n## Handle the DragOver event\n\nThe [**DragOver**][DragOver] event fires when a user has dragged an item over your app, but not yet dropped it. In this handler, you need to specify what kind of operations your app supports using the [**DragEventArgs.AcceptedOperation**][AcceptedOperation] property. Copy is the most common.\n\n[!code-cs[Main](./code/drag_drop/cs/MainPage.xaml.cs#SnippetGrid_DragOver)]\n\n## Process the Drop event\n\nThe [**Drop**][Drop] event occurs when the user releases items in a valid drop area. Process them using the [**DragEventArgs.DataView**][DataView] property.\n\nFor simplicity in the example below, we'll assume the user dropped a single photo and access. In reality, users can drop multiple items of varying formats simultaneously. Your app should handle this possibility by checking what types of files were dropped and processing them accordingly, and notifying the user if they're trying to do something your app don't support.\n\n[!code-cs[Main](./code/drag_drop/cs/MainPage.xaml.cs#SnippetGrid_Drop)]\n\n## Customize the UI\n\nThe system provides a default UI for dragging and dropping. However, you can also choose to customize various parts of the UI by setting custom captions and glyphs, or by opting not to show a UI at all. To customize the UI, use the [**DragUIOverride**][DragUiOverride] property in the [**DragOver**][DragOver] event handler.\n\n[!code-cs[Main](./code/drag_drop/cs/MainPage.xaml.cs#SnippetGrid_DragOverCustom)]\n\n <!-- LINKS -->\n[AllowDrop]: https://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.uielement.allowdrop.aspx\n[CanDrag]: https://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.uielement.candrag.aspx\n[DragOver]: https://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.uielement.dragover.aspx\n[AcceptedOperation]: https://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.drageventargs.acceptedoperation.aspx\n[DataView]: https://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.drageventargs.dataview.aspx\n[DragUiOverride]: https://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.drageventargs.draguioverride.aspx\n[Drop]: https://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.uielement.drop.aspx \n\n"}