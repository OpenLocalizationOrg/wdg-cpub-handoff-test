{"nodes":[{"pos":[85,259],"content":"This article shows how to access and use a device's lamp, if one is present. Lamp functionality is managed separately from the device's camera and camera flash functionality.","needQuote":true,"needEscape":true,"nodes":[{"content":"This article shows how to access and use a device's lamp, if one is present. Lamp functionality is managed separately from the device's camera and camera flash functionality.","pos":[0,174],"nodes":[{"content":"This article shows how to access and use a device's lamp, if one is present.","pos":[0,76]},{"content":"Lamp functionality is managed separately from the device's camera and camera flash functionality.","pos":[77,174]}]}]},{"pos":[267,296],"content":"Camera-independent Flashlight","needQuote":true,"needEscape":true,"nodes":[{"content":"Camera-independent Flashlight","pos":[0,29]}]},{"content":"Camera-independent Flashlight","pos":[304,333]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[335,373]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[374,469],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"content":"This article shows how to access and use a device's lamp, if one is present.","pos":[472,548]},{"content":"Lamp functionality is managed separately from the device's camera and camera flash functionality.","pos":[549,646]},{"content":"In addition to acquiring a reference to the lamp and adjusting its settings, this article also shows you how to properly free up the lamp resource when it's not in use and how to detect when the lamp's availability changes in case it is being used by another app.","pos":[647,910]},{"content":"Get the device's default lamp","pos":[915,944]},{"content":"To get a device's default lamp device, call <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Lamp.GetDefaultAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn894327)</ept>.","pos":[946,1075],"source":"To get a device's default lamp device, call [**Lamp.GetDefaultAsync**](https://msdn.microsoft.com/library/windows/apps/dn894327)."},{"content":"The lamp APIs are found in the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.Devices.Lights<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn894331)</ept> namespace.","pos":[1076,1204],"source":" The lamp APIs are found in the [**Windows.Devices.Lights**](https://msdn.microsoft.com/library/windows/apps/dn894331) namespace."},{"content":"Be sure to add a using directive for this namespace before attempting to access these APIs.","pos":[1205,1296]},{"pos":[1308,1323],"content":"LightsNamespace"},{"pos":[1394,1405],"content":"DeclareLamp"},{"pos":[1472,1486],"content":"GetDefaultLamp"},{"content":"If the returned object is <bpt id=\"p1\">**</bpt>null<ept id=\"p1\">**</ept>, the <bpt id=\"p2\">**</bpt>Lamp<ept id=\"p2\">**</ept> API is unsupported on the device.","pos":[1545,1627],"source":"If the returned object is **null**, the **Lamp** API is unsupported on the device."},{"content":"Some devices may not support the <bpt id=\"p1\">**</bpt>Lamp<ept id=\"p1\">**</ept> API even if there is a lamp physically present on the device.","pos":[1628,1731],"source":" Some devices may not support the **Lamp** API even if there is a lamp physically present on the device."},{"content":"Get a specific lamp using the lamp selector string","pos":[1736,1786]},{"content":"Some devices may have more than one lamp.","pos":[1788,1829]},{"content":"To obtain a list of lamps available on the device, get the device selector string by calling <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>GetDeviceSelector<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn894328)</ept>.","pos":[1830,2005],"source":" To obtain a list of lamps available on the device, get the device selector string by calling [**GetDeviceSelector**](https://msdn.microsoft.com/library/windows/apps/dn894328)."},{"content":"This selector string can then be passed into <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DeviceInformation.FindAllAsync<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225432)</ept>.","pos":[2006,2146],"source":" This selector string can then be passed into [**DeviceInformation.FindAllAsync**](https://msdn.microsoft.com/library/windows/apps/br225432)."},{"content":"This method is used to enumerate many different kinds of devices and the selector string lets the method know to return only lamp devices.","pos":[2147,2285]},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DeviceInformationCollection<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225395)</ept> object returned from <bpt id=\"p3\">**</bpt>FindAllAsync<ept id=\"p3\">**</ept> is a collection of <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>DeviceInformation<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br225393)</ept> objects representing the lamps available on the device.","pos":[2286,2576],"source":" The [**DeviceInformationCollection**](https://msdn.microsoft.com/library/windows/apps/br225395) object returned from **FindAllAsync** is a collection of [**DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393) objects representing the lamps available on the device."},{"content":"Select one of the objects in the list and then pass the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Id<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225437)</ept> property to <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Lamp.FromIdAsync<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn894326)</ept> to get a reference to the requested lamp.","pos":[2577,2834],"source":" Select one of the objects in the list and then pass the [**Id**](https://msdn.microsoft.com/library/windows/apps/br225437) property to [**Lamp.FromIdAsync**](https://msdn.microsoft.com/library/windows/apps/dn894326) to get a reference to the requested lamp."},{"content":"This example uses the <bpt id=\"p1\">**</bpt>GetFirstOrDefault<ept id=\"p1\">**</ept> extension method from the <bpt id=\"p2\">**</bpt>System.Linq<ept id=\"p2\">**</ept> namespace to select the <bpt id=\"p3\">**</bpt>DeviceInformation<ept id=\"p3\">**</ept> object where the <bpt id=\"p4\">[</bpt><bpt id=\"p5\">**</bpt>EnclosureLocation.Panel<ept id=\"p5\">**</ept><ept id=\"p4\">](https://msdn.microsoft.com/library/windows/apps/br229906)</ept> property has a value of <bpt id=\"p6\">**</bpt>Back<ept id=\"p6\">**</ept>, which selects a lamp that is on the back of the device's enclosure, if one exists.","pos":[2835,3188],"source":" This example uses the **GetFirstOrDefault** extension method from the **System.Linq** namespace to select the **DeviceInformation** object where the [**EnclosureLocation.Panel**](https://msdn.microsoft.com/library/windows/apps/br229906) property has a value of **Back**, which selects a lamp that is on the back of the device's enclosure, if one exists."},{"pos":[3190,3410],"content":"Note that the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>DeviceInformation<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br225393)</ept> APIs are found in the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>Windows.Devices.Enumeration<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/br225459)</ept> namespace.","source":"Note that the [**DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393) APIs are found in the [**Windows.Devices.Enumeration**](https://msdn.microsoft.com/library/windows/apps/br225459) namespace."},{"pos":[3422,3442],"content":"EnumerationNamespace"},{"pos":[3517,3543],"content":"GetLampWithSelectionString"},{"content":"Adjust lamp settings","pos":[3617,3637]},{"pos":[3639,3875],"content":"Once you have an instance of the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Lamp<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn894310)</ept> class, turn the lamp on by setting the <bpt id=\"p3\">[</bpt><bpt id=\"p4\">**</bpt>IsEnabled<ept id=\"p4\">**</ept><ept id=\"p3\">](https://msdn.microsoft.com/library/windows/apps/dn894330)</ept> property to <bpt id=\"p5\">**</bpt>true<ept id=\"p5\">**</ept>.","source":"Once you have an instance of the [**Lamp**](https://msdn.microsoft.com/library/windows/apps/dn894310) class, turn the lamp on by setting the [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/dn894330) property to **true**."},{"pos":[3887,3901],"content":"LampSettingsOn"},{"pos":[3960,4089],"content":"Turn the lamp off by setting the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>IsEnabled<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn894330)</ept> property to <bpt id=\"p3\">**</bpt>false<ept id=\"p3\">**</ept>.","source":"Turn the lamp off by setting the [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/dn894330) property to **false**."},{"pos":[4101,4116],"content":"LampSettingsOff"},{"content":"Some devices have lamps that support color values.","pos":[4176,4226]},{"content":"Check if a lamp supports color by checking the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>IsColorSettable<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn894329)</ept> property.","pos":[4227,4363],"source":" Check if a lamp supports color by checking the [**IsColorSettable**](https://msdn.microsoft.com/library/windows/apps/dn894329) property."},{"content":"If this value is <bpt id=\"p1\">**</bpt>true<ept id=\"p1\">**</ept>, you can set the color of the lamp with the <bpt id=\"p2\">[</bpt><bpt id=\"p3\">**</bpt>Color<ept id=\"p3\">**</ept><ept id=\"p2\">](https://msdn.microsoft.com/library/windows/apps/dn894322)</ept> property.","pos":[4364,4513],"source":" If this value is **true**, you can set the color of the lamp with the [**Color**](https://msdn.microsoft.com/library/windows/apps/dn894322) property."},{"pos":[4525,4542],"content":"LampSettingsColor"},{"content":"Register to be notified if the lamp availability changes","pos":[4607,4663]},{"content":"Lamp access is granted to the most recent app to request access.","pos":[4665,4729]},{"content":"So, if another app is launched and requests a lamp resource that your app is currently using, your app will no longer be able to control the lamp until the other app has released the resource.","pos":[4730,4922]},{"content":"To receive a notification when the availability of the lamp changes, register a handler for the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Lamp.AvailabilityChanged<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn894317)</ept> event.","pos":[4923,5114],"source":" To receive a notification when the availability of the lamp changes, register a handler for the [**Lamp.AvailabilityChanged**](https://msdn.microsoft.com/library/windows/apps/dn894317) event."},{"pos":[5126,5145],"content":"AvailabilityChanged"},{"content":"In the handler for the event, check the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>LampAvailabilityChanged.IsAvailable<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn894315)</ept> property to determine if the lamp is available.","pos":[5209,5396],"source":"In the handler for the event, check the [**LampAvailabilityChanged.IsAvailable**](https://msdn.microsoft.com/library/windows/apps/dn894315) property to determine if the lamp is available."},{"content":"In this example, a toggle switch for turning the lamp on and off is enabled or disabled based on the lamp availability.","pos":[5397,5516]},{"pos":[5528,5554],"content":"AvailabilityChangedHandler"},{"content":"Properly dispose of the lamp resource when not in use","pos":[5628,5681]},{"content":"When you are no longer using the lamp, you should disable it and call <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Lamp.Close<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn894320)</ept> to release the resource and allow other apps to access the lamp.","pos":[5683,5892],"source":"When you are no longer using the lamp, you should disable it and call [**Lamp.Close**](https://msdn.microsoft.com/library/windows/apps/dn894320) to release the resource and allow other apps to access the lamp."},{"content":"This property is mapped to the <bpt id=\"p1\">**</bpt>Dispose<ept id=\"p1\">**</ept> method if you are using C#.","pos":[5893,5963],"source":" This property is mapped to the **Dispose** method if you are using C#."},{"content":"If you registered for the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>AvailabilityChanged<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn894317)</ept>, you should unregister the handler when you dispose of the lamp resource.","pos":[5964,6147],"source":" If you registered for the [**AvailabilityChanged**](https://msdn.microsoft.com/library/windows/apps/dn894317), you should unregister the handler when you dispose of the lamp resource."},{"content":"The right place in your code to dispose of the lamp resource depends on your app.","pos":[6148,6229]},{"content":"To scope lamp access to a single page, release the resource in the <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>OnNavigatingFrom<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/br227509)</ept> event.","pos":[6230,6384],"source":" To scope lamp access to a single page, release the resource in the [**OnNavigatingFrom**](https://msdn.microsoft.com/library/windows/apps/br227509) event."},{"pos":[6396,6407],"content":"DisposeLamp"}],"content":"---\nauthor: drewbatgit\nms.assetid: D20C8E01-4E78-4115-A2E8-07BB3E67DDDC\ndescription: This article shows how to access and use a device's lamp, if one is present. Lamp functionality is managed separately from the device's camera and camera flash functionality.\ntitle: Camera-independent Flashlight\n---\n\n# Camera-independent Flashlight\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\n\nThis article shows how to access and use a device's lamp, if one is present. Lamp functionality is managed separately from the device's camera and camera flash functionality. In addition to acquiring a reference to the lamp and adjusting its settings, this article also shows you how to properly free up the lamp resource when it's not in use and how to detect when the lamp's availability changes in case it is being used by another app.\n\n## Get the device's default lamp\n\nTo get a device's default lamp device, call [**Lamp.GetDefaultAsync**](https://msdn.microsoft.com/library/windows/apps/dn894327). The lamp APIs are found in the [**Windows.Devices.Lights**](https://msdn.microsoft.com/library/windows/apps/dn894331) namespace. Be sure to add a using directive for this namespace before attempting to access these APIs.\n\n[!code-cs[LightsNamespace](./code/Lamp/cs/MainPage.xaml.cs#SnippetLightsNamespace)]\n\n\n[!code-cs[DeclareLamp](./code/Lamp/cs/MainPage.xaml.cs#SnippetDeclareLamp)]\n\n\n[!code-cs[GetDefaultLamp](./code/Lamp/cs/MainPage.xaml.cs#SnippetGetDefaultLamp)]\n\nIf the returned object is **null**, the **Lamp** API is unsupported on the device. Some devices may not support the **Lamp** API even if there is a lamp physically present on the device.\n\n## Get a specific lamp using the lamp selector string\n\nSome devices may have more than one lamp. To obtain a list of lamps available on the device, get the device selector string by calling [**GetDeviceSelector**](https://msdn.microsoft.com/library/windows/apps/dn894328). This selector string can then be passed into [**DeviceInformation.FindAllAsync**](https://msdn.microsoft.com/library/windows/apps/br225432). This method is used to enumerate many different kinds of devices and the selector string lets the method know to return only lamp devices. The [**DeviceInformationCollection**](https://msdn.microsoft.com/library/windows/apps/br225395) object returned from **FindAllAsync** is a collection of [**DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393) objects representing the lamps available on the device. Select one of the objects in the list and then pass the [**Id**](https://msdn.microsoft.com/library/windows/apps/br225437) property to [**Lamp.FromIdAsync**](https://msdn.microsoft.com/library/windows/apps/dn894326) to get a reference to the requested lamp. This example uses the **GetFirstOrDefault** extension method from the **System.Linq** namespace to select the **DeviceInformation** object where the [**EnclosureLocation.Panel**](https://msdn.microsoft.com/library/windows/apps/br229906) property has a value of **Back**, which selects a lamp that is on the back of the device's enclosure, if one exists.\n\nNote that the [**DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393) APIs are found in the [**Windows.Devices.Enumeration**](https://msdn.microsoft.com/library/windows/apps/br225459) namespace.\n\n[!code-cs[EnumerationNamespace](./code/Lamp/cs/MainPage.xaml.cs#SnippetEnumerationNamespace)]\n\n[!code-cs[GetLampWithSelectionString](./code/Lamp/cs/MainPage.xaml.cs#SnippetGetLampWithSelectionString)]\n\n## Adjust lamp settings\n\nOnce you have an instance of the [**Lamp**](https://msdn.microsoft.com/library/windows/apps/dn894310) class, turn the lamp on by setting the [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/dn894330) property to **true**.\n\n[!code-cs[LampSettingsOn](./code/Lamp/cs/MainPage.xaml.cs#SnippetLampSettingsOn)]\n\nTurn the lamp off by setting the [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/dn894330) property to **false**.\n\n[!code-cs[LampSettingsOff](./code/Lamp/cs/MainPage.xaml.cs#SnippetLampSettingsOff)]\n\nSome devices have lamps that support color values. Check if a lamp supports color by checking the [**IsColorSettable**](https://msdn.microsoft.com/library/windows/apps/dn894329) property. If this value is **true**, you can set the color of the lamp with the [**Color**](https://msdn.microsoft.com/library/windows/apps/dn894322) property.\n\n[!code-cs[LampSettingsColor](./code/Lamp/cs/MainPage.xaml.cs#SnippetLampSettingsColor)]\n\n## Register to be notified if the lamp availability changes\n\nLamp access is granted to the most recent app to request access. So, if another app is launched and requests a lamp resource that your app is currently using, your app will no longer be able to control the lamp until the other app has released the resource. To receive a notification when the availability of the lamp changes, register a handler for the [**Lamp.AvailabilityChanged**](https://msdn.microsoft.com/library/windows/apps/dn894317) event.\n\n[!code-cs[AvailabilityChanged](./code/Lamp/cs/MainPage.xaml.cs#SnippetAvailabilityChanged)]\n\nIn the handler for the event, check the [**LampAvailabilityChanged.IsAvailable**](https://msdn.microsoft.com/library/windows/apps/dn894315) property to determine if the lamp is available. In this example, a toggle switch for turning the lamp on and off is enabled or disabled based on the lamp availability.\n\n[!code-cs[AvailabilityChangedHandler](./code/Lamp/cs/MainPage.xaml.cs#SnippetAvailabilityChangedHandler)]\n\n## Properly dispose of the lamp resource when not in use\n\nWhen you are no longer using the lamp, you should disable it and call [**Lamp.Close**](https://msdn.microsoft.com/library/windows/apps/dn894320) to release the resource and allow other apps to access the lamp. This property is mapped to the **Dispose** method if you are using C#. If you registered for the [**AvailabilityChanged**](https://msdn.microsoft.com/library/windows/apps/dn894317), you should unregister the handler when you dispose of the lamp resource. The right place in your code to dispose of the lamp resource depends on your app. To scope lamp access to a single page, release the resource in the [**OnNavigatingFrom**](https://msdn.microsoft.com/library/windows/apps/br227509) event.\n\n[!code-cs[DisposeLamp](./code/Lamp/cs/MainPage.xaml.cs#SnippetDisposeLamp)]\n\n \n\n \n\n\n\n\n"}