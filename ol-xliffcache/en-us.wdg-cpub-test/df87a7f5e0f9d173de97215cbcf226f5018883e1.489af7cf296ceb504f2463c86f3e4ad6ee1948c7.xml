{"nodes":[{"content":"How to write a driver test using a Driver Test template","pos":[0,55]},{"content":"You can use the Windows Driver Kit (WDK) for Windows 8 to create your own driver tests or to customize some of the tests that are provided.","pos":[168,307]},{"content":"You can deploy the tests that you create to remote test computers using the driver testing framework that the WDK provides for Microsoft Visual Studio Ultimate 2012.","pos":[308,473]},{"content":"The WDK provides templates that create starter code for a Windows Driver test project in C++, C\\#, and Script (JScript).","pos":[475,595]},{"content":"You can select the test cases that you want to include, or you can start with a blank project.","pos":[596,690]},{"content":"You can customize the code to add new test cases for your driver.","pos":[691,756]},{"content":"You can deploy your tests from Visual Studio using the driver test framework.","pos":[757,834]},{"pos":[1088,1153],"content":"To customize a driver test using the Driver Test template for C++"},{"pos":[1477,1528],"content":"From the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>New <ph id=\"ph1\">&amp;gt;</ph> Project<ept id=\"p2\">**</ept>.","source":"From the **File** menu, click **New &gt; Project**."},{"pos":[1533,1658],"content":"From the list of installed templates in the <bpt id=\"p1\">**</bpt>New Project<ept id=\"p1\">**</ept> dialog box, select <bpt id=\"p2\">**</bpt>Visual C++ <ph id=\"ph1\">&amp;gt;</ph> Windows Driver <ph id=\"ph2\">&amp;gt;</ph> Tests<ept id=\"p2\">**</ept>.","source":"From the list of installed templates in the **New Project** dialog box, select **Visual C++ &gt; Windows Driver &gt; Tests**."},{"pos":[1663,1701],"content":"Select <bpt id=\"p1\">**</bpt>Windows Driver Test in C++<ept id=\"p1\">**</ept>.","source":"Select **Windows Driver Test in C++**."},{"content":"Provide a name for your driver test project and a location (or use the default).","pos":[1706,1786]},{"content":"From the <bpt id=\"p1\">**</bpt>Windows Driver Test<ept id=\"p1\">**</ept> dialog box, select the test cases that you want to include or choose an empty (blank) driver test.","pos":[1791,1922],"source":"From the **Windows Driver Test** dialog box, select the test cases that you want to include or choose an empty (blank) driver test."},{"content":"For more information about the test cases, see <bpt id=\"p1\">[</bpt>Windows Driver test cases<ept id=\"p1\">](#windows_driver_test_cases)</ept>.","pos":[1923,2026],"source":" For more information about the test cases, see [Windows Driver test cases](#windows_driver_test_cases)."},{"content":"Add the required test metadata.","pos":[2031,2062]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to add test metadata<ept id=\"p1\">](to_add_test_metadata.md)</ept>.","pos":[2063,2141],"source":" For more information, see [How to add test metadata](to_add_test_metadata.md)."},{"content":"Build your driver test.","pos":[2146,2169]},{"pos":[2420,2484],"content":"To customize a driver test using the Driver Test template for C\\"},{"pos":[2806,2857],"content":"From the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>New <ph id=\"ph1\">&amp;gt;</ph> Project<ept id=\"p2\">**</ept>.","source":"From the **File** menu, click **New &gt; Project**."},{"pos":[2862,2977],"content":"From the list of installed templates in the <bpt id=\"p1\">**</bpt>New Project<ept id=\"p1\">**</ept> dialog box, select <bpt id=\"p2\">**</bpt>Visual C\\# <ph id=\"ph1\">&amp;gt;</ph> Windows Driver<ept id=\"p2\">**</ept> .","source":"From the list of installed templates in the **New Project** dialog box, select **Visual C\\# &gt; Windows Driver** ."},{"pos":[2982,3020],"content":"Select <bpt id=\"p1\">**</bpt>Windows Driver Test in C\\#<ept id=\"p1\">**</ept>.","source":"Select **Windows Driver Test in C\\#**."},{"content":"Provide a name for your driver test project and a location (or use the default).","pos":[3025,3105]},{"content":"From the <bpt id=\"p1\">**</bpt>Windows Driver Test<ept id=\"p1\">**</ept> dialog box, select the test cases that you want to include or choose an empty (blank) driver test.","pos":[3110,3241],"source":"From the **Windows Driver Test** dialog box, select the test cases that you want to include or choose an empty (blank) driver test."},{"content":"For information about the test cases, see <bpt id=\"p1\">[</bpt>Windows Driver test cases<ept id=\"p1\">](#windows_driver_test_cases)</ept>.","pos":[3242,3340],"source":" For information about the test cases, see [Windows Driver test cases](#windows_driver_test_cases)."},{"content":"Add the required test metadata.","pos":[3345,3376]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to add test metadata<ept id=\"p1\">](to_add_test_metadata.md)</ept>.","pos":[3377,3455],"source":" For more information, see [How to add test metadata](to_add_test_metadata.md)."},{"content":"Build your driver test.","pos":[3460,3483]},{"pos":[3746,3814],"content":"To customize a driver test using the Driver Test template for Script"},{"pos":[4150,4201],"content":"From the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>New <ph id=\"ph1\">&amp;gt;</ph> Project<ept id=\"p2\">**</ept>.","source":"From the **File** menu, click **New &gt; Project**."},{"pos":[4206,4317],"content":"From the list of installed templates in the <bpt id=\"p1\">**</bpt>New Project<ept id=\"p1\">**</ept> dialog box, select <bpt id=\"p2\">**</bpt>Script <ph id=\"ph1\">&amp;gt;</ph> Windows Driver<ept id=\"p2\">**</ept> .","source":"From the list of installed templates in the **New Project** dialog box, select **Script &gt; Windows Driver** ."},{"pos":[4322,4360],"content":"Select <bpt id=\"p1\">**</bpt>Windows Driver Test Script<ept id=\"p1\">**</ept>.","source":"Select **Windows Driver Test Script**."},{"content":"Provide a name for your driver test project and a location (or use the default).","pos":[4365,4445]},{"content":"From the <bpt id=\"p1\">**</bpt>Windows Driver Test<ept id=\"p1\">**</ept> dialog box, select the test cases that you want to include or choose an empty (blank) driver test.","pos":[4450,4581],"source":"From the **Windows Driver Test** dialog box, select the test cases that you want to include or choose an empty (blank) driver test."},{"content":"For information about the test cases, see <bpt id=\"p1\">[</bpt>Windows Driver test cases<ept id=\"p1\">](#windows_driver_test_cases)</ept>.","pos":[4582,4680],"source":" For information about the test cases, see [Windows Driver test cases](#windows_driver_test_cases)."},{"content":"Add the required test metadata.","pos":[4685,4716]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>How to add test metadata<ept id=\"p1\">](to_add_test_metadata.md)</ept>.","pos":[4717,4795],"source":" For more information, see [How to add test metadata](to_add_test_metadata.md)."},{"content":"Build your driver test.","pos":[4800,4823]},{"pos":[5113,5190],"content":"Making the driver tests you create available for deployment on test computers"},{"content":"When you build your driver test, the new test will be available for deployment to a test computer.","pos":[5558,5656]},{"content":"By default, the tests that you create will appear in the test category <bpt id=\"p1\">**</bpt>My Test Category<ept id=\"p1\">**</ept>.","pos":[5657,5749],"source":" By default, the tests that you create will appear in the test category **My Test Category**."},{"content":"The names of the tests are based upon the test cases that you choose, and they will have names such as <bpt id=\"p1\">**</bpt>My Plug and Play Surprise Remove Test<ept id=\"p1\">**</ept>.","pos":[5750,5895],"source":" The names of the tests are based upon the test cases that you choose, and they will have names such as **My Plug and Play Surprise Remove Test**."},{"content":"During each build of the test, the test will be overwritten.","pos":[5896,5956]},{"content":"The latest build of the test will be available to deploy and run on the test computer.","pos":[5957,6043]},{"pos":[6133,6158],"content":"Windows Driver test cases"},{"content":"The WDK provides starter code for a Windows Driver test project in C++, C\\#, and Script.","pos":[6274,6362]},{"content":"You can select test cases that you want to include, or you can start with a blank project.","pos":[6363,6453]},{"content":"Not all test cases are available in every language.","pos":[6454,6505]},{"content":"Plug and Play Test Cases","pos":[6623,6647]},{"content":"Test cases that force a driver to handle most of the Plug and Play (PnP)-related IRPs","pos":[6670,6755]},{"content":"Disable/Enable","pos":[6818,6832]},{"content":"Provides code for test cases that disable and enable a PnP device.","pos":[6855,6921]},{"content":"Remove","pos":[6968,6974]},{"content":"Provides code for test cases that remove a PnP device.","pos":[6997,7051]},{"content":"Surprise Remove","pos":[7097,7112]},{"content":"Provides code for test cases that perform a surprise remove of a PnP device.","pos":[7135,7211]},{"content":"Power Management Test Cases","pos":[7258,7285]},{"content":"Provides test cases that force a driver to handle system sleep states.","pos":[7308,7378]},{"content":"System Sleep States","pos":[7424,7443]},{"content":"Provides code for test cases that perform device I/O while the system cycles through sleep and power state.","pos":[7466,7573]},{"content":"Stress and Functionality Test Cases","pos":[7620,7655]},{"content":"Provides test cases that perform I/O stress and function testing of IOCTL and WMI interfaces.","pos":[7678,7771]},{"content":"I/O Stress","pos":[7817,7827]},{"content":"Provides test cases that perform device I/O stress.","pos":[7850,7901]},{"content":"Functional IOCTL Interface","pos":[7948,7974]},{"content":"Provides a template for creating functional test cases for the IOCTL interface.","pos":[7997,8076]},{"content":"(only available for C++ ).","pos":[8077,8103]},{"content":"Functional WMI Interface","pos":[8149,8173]},{"content":"Provides a template for creating functional test cases for the Windows Management Interface (WMI).","pos":[8196,8294]},{"content":"(only available in Script)","pos":[8295,8321]},{"content":"Empty Test Case","pos":[8368,8383]},{"content":"Provides a blank template for creating a Windows Driver test project.","pos":[8475,8544]},{"content":"Related topics","pos":[8611,8625],"source":"Related topics\n"},{"content":"Test Authoring and Execution Framework","pos":[8678,8716]},{"content":"Windows Driver Testing Framework","pos":[8789,8821]},{"content":"How to add test metadata","pos":[8894,8918]},{"pos":[8951,9935],"content":"<bpt id=\"p1\">[</bpt>Send comments about this topic to Microsoft<ept id=\"p1\">]</ept><bpt id=\"p2\">(mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20How%20to%20write%20a%20driver%20test%20using%20a%20Driver%20Test%20template%20%20RELEASE:%20%289/30/2015%29&amp;body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"</bpt>Send comments about this topic to Microsoft<ept id=\"p2\">\")</ept>","source":"[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20How%20to%20write%20a%20driver%20test%20using%20a%20Driver%20Test%20template%20%20RELEASE:%20%289/30/2015%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"Send comments about this topic to Microsoft\")"}],"content":"How to write a driver test using a Driver Test template\n==============================================================================================================\n\nYou can use the Windows Driver Kit (WDK) for Windows 8 to create your own driver tests or to customize some of the tests that are provided. You can deploy the tests that you create to remote test computers using the driver testing framework that the WDK provides for Microsoft Visual Studio Ultimate 2012.\n\nThe WDK provides templates that create starter code for a Windows Driver test project in C++, C\\#, and Script (JScript). You can select the test cases that you want to include, or you can start with a blank project. You can customize the code to add new test cases for your driver. You can deploy your tests from Visual Studio using the driver test framework.\n\n<span id=\"To_customize_a_driver_test_using_the_Driver_Test_template_for_C__\"></span><span id=\"to_customize_a_driver_test_using_the_driver_test_template_for_c__\"></span><span id=\"TO_CUSTOMIZE_A_DRIVER_TEST_USING_THE_DRIVER_TEST_TEMPLATE_FOR_C__\"></span>To customize a driver test using the Driver Test template for C++\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n1.  From the **File** menu, click **New &gt; Project**.\n2.  From the list of installed templates in the **New Project** dialog box, select **Visual C++ &gt; Windows Driver &gt; Tests**.\n3.  Select **Windows Driver Test in C++**.\n4.  Provide a name for your driver test project and a location (or use the default).\n5.  From the **Windows Driver Test** dialog box, select the test cases that you want to include or choose an empty (blank) driver test. For more information about the test cases, see [Windows Driver test cases](#windows_driver_test_cases).\n6.  Add the required test metadata. For more information, see [How to add test metadata](to_add_test_metadata.md).\n7.  Build your driver test.\n\n<span id=\"To_customize_a_driver_test_using_the_Driver_Test_template_for_C_\"></span><span id=\"to_customize_a_driver_test_using_the_driver_test_template_for_c_\"></span><span id=\"TO_CUSTOMIZE_A_DRIVER_TEST_USING_THE_DRIVER_TEST_TEMPLATE_FOR_C_\"></span>To customize a driver test using the Driver Test template for C\\#\n--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n1.  From the **File** menu, click **New &gt; Project**.\n2.  From the list of installed templates in the **New Project** dialog box, select **Visual C\\# &gt; Windows Driver** .\n3.  Select **Windows Driver Test in C\\#**.\n4.  Provide a name for your driver test project and a location (or use the default).\n5.  From the **Windows Driver Test** dialog box, select the test cases that you want to include or choose an empty (blank) driver test. For information about the test cases, see [Windows Driver test cases](#windows_driver_test_cases).\n6.  Add the required test metadata. For more information, see [How to add test metadata](to_add_test_metadata.md).\n7.  Build your driver test.\n\n<span id=\"To_customize_a_driver_test_using_the_Driver_Test_template_for_Script\"></span><span id=\"to_customize_a_driver_test_using_the_driver_test_template_for_script\"></span><span id=\"TO_CUSTOMIZE_A_DRIVER_TEST_USING_THE_DRIVER_TEST_TEMPLATE_FOR_SCRIPT\"></span>To customize a driver test using the Driver Test template for Script\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n1.  From the **File** menu, click **New &gt; Project**.\n2.  From the list of installed templates in the **New Project** dialog box, select **Script &gt; Windows Driver** .\n3.  Select **Windows Driver Test Script**.\n4.  Provide a name for your driver test project and a location (or use the default).\n5.  From the **Windows Driver Test** dialog box, select the test cases that you want to include or choose an empty (blank) driver test. For information about the test cases, see [Windows Driver test cases](#windows_driver_test_cases).\n6.  Add the required test metadata. For more information, see [How to add test metadata](to_add_test_metadata.md).\n7.  Build your driver test.\n\n<span id=\"Making_the_driver_tests_you_create_available_for_deployment_on_test_computers\"></span><span id=\"making_the_driver_tests_you_create_available_for_deployment_on_test_computers\"></span><span id=\"MAKING_THE_DRIVER_TESTS_YOU_CREATE_AVAILABLE_FOR_DEPLOYMENT_ON_TEST_COMPUTERS\"></span>Making the driver tests you create available for deployment on test computers\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nWhen you build your driver test, the new test will be available for deployment to a test computer. By default, the tests that you create will appear in the test category **My Test Category**. The names of the tests are based upon the test cases that you choose, and they will have names such as **My Plug and Play Surprise Remove Test**. During each build of the test, the test will be overwritten. The latest build of the test will be available to deploy and run on the test computer.\n\n<span id=\"windows_driver_test_cases\"></span><span id=\"WINDOWS_DRIVER_TEST_CASES\"></span>Windows Driver test cases\n-----------------------------------------------------------------------------------------------------------------\n\nThe WDK provides starter code for a Windows Driver test project in C++, C\\#, and Script. You can select test cases that you want to include, or you can start with a blank project. Not all test cases are available in every language.\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">Plug and Play Test Cases</th>\n<th align=\"left\">Test cases that force a driver to handle most of the Plug and Play (PnP)-related IRPs</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\">Disable/Enable</td>\n<td align=\"left\">Provides code for test cases that disable and enable a PnP device.</td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\">Remove</td>\n<td align=\"left\">Provides code for test cases that remove a PnP device.</td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\">Surprise Remove</td>\n<td align=\"left\">Provides code for test cases that perform a surprise remove of a PnP device.</td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\">Power Management Test Cases</td>\n<td align=\"left\">Provides test cases that force a driver to handle system sleep states.</td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\">System Sleep States</td>\n<td align=\"left\">Provides code for test cases that perform device I/O while the system cycles through sleep and power state.</td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\">Stress and Functionality Test Cases</td>\n<td align=\"left\">Provides test cases that perform I/O stress and function testing of IOCTL and WMI interfaces.</td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\">I/O Stress</td>\n<td align=\"left\">Provides test cases that perform device I/O stress.</td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\">Functional IOCTL Interface</td>\n<td align=\"left\">Provides a template for creating functional test cases for the IOCTL interface. (only available for C++ ).</td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\">Functional WMI Interface</td>\n<td align=\"left\">Provides a template for creating functional test cases for the Windows Management Interface (WMI). (only available in Script)</td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\">Empty Test Case</td>\n<td align=\"left\"></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"></td>\n<td align=\"left\">Provides a blank template for creating a Windows Driver test project.</td>\n</tr>\n</tbody>\n</table>\n\n \n\n<span id=\"related_topics\"></span>Related topics\n-----------------------------------------------\n\n* [Test Authoring and Execution Framework](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh439725)\n* [Windows Driver Testing Framework](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff539547)\n* [How to add test metadata](to_add_test_metadata.md)\n \n\n \n\n[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20How%20to%20write%20a%20driver%20test%20using%20a%20Driver%20Test%20template%20%20RELEASE:%20%289/30/2015%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"Send comments about this topic to Microsoft\")\n\n\n"}