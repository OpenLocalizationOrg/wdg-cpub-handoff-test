{"nodes":[{"pos":[60,79],"content":"Composition effects","needQuote":true,"needEscape":true,"nodes":[{"content":"Composition effects","pos":[0,19]}]},{"pos":[93,165],"content":"The effect APIs enable developers to customize how their UI is rendered.","needQuote":true,"needEscape":true,"nodes":[{"content":"The effect APIs enable developers to customize how their UI is rendered.","pos":[0,72]}]},{"content":"Composition effects","pos":[172,191]},{"content":"\\[ Updated for UWP apps on Windows 10.","pos":[193,231]},{"content":"For Windows 8.x articles, see the <bpt id=\"p1\">[</bpt>archive<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=619132)</ept> \\]","pos":[232,327],"source":" For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]"},{"content":"The <bpt id=\"p1\">[</bpt><bpt id=\"p2\">**</bpt>Windows.UI.Composition<ept id=\"p2\">**</ept><ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/Dn706878)</ept> WinRT API allows Real-time effects to be applied to images and UI with animatable effect properties.","pos":[329,520],"source":"The [**Windows.UI.Composition**](https://msdn.microsoft.com/library/windows/apps/Dn706878) WinRT API allows Real-time effects to be applied to images and UI with animatable effect properties."},{"content":"In this overview, we’ll run through the functionality available that allows effects to be applied to a composition visual.","pos":[521,643]},{"pos":[645,1045],"content":"To support <bpt id=\"p1\">[</bpt>Universal Windows Platform (UWP)<ept id=\"p1\">](https://msdn.microsoft.com/library/windows/apps/dn726767.aspx)</ept> consistency for developers describing effects in their applications, composition effects leverage Win2D’s IGraphicsEffect interface to use effect descriptions via the <bpt id=\"p2\">[</bpt>Microsoft.Graphics.Canvas.Effects<ept id=\"p2\">](http://microsoft.github.io/Win2D/html/N_Microsoft_Graphics_Canvas_Effects.md)</ept> Namespace.","source":"To support [Universal Windows Platform (UWP)](https://msdn.microsoft.com/library/windows/apps/dn726767.aspx) consistency for developers describing effects in their applications, composition effects leverage Win2D’s IGraphicsEffect interface to use effect descriptions via the [Microsoft.Graphics.Canvas.Effects](http://microsoft.github.io/Win2D/html/N_Microsoft_Graphics_Canvas_Effects.md) Namespace."},{"content":"Brush effects are used to paint areas of an application by applying effects to a set of existing images.","pos":[1047,1151]},{"content":"Windows 10 composition effect APIs are focused on Sprite Visuals.","pos":[1152,1217]},{"content":"The SpriteVisual allows for flexibility and interplay in color, image and effect creation.","pos":[1218,1308]},{"content":"The SpriteVisual is a composition visual type that can fill a 2D rectangle with a brush.","pos":[1309,1397]},{"content":"The visual defines the bounds of the rectangle and the brush defines the pixels used to paint the rectangle.","pos":[1398,1506]},{"content":"Effect brushes are used on composition tree visuals whose content comes from the output of an effect graph.","pos":[1508,1615]},{"content":"Effects can reference existing surfaces/textures, but not the output of other composition trees.","pos":[1616,1712]},{"content":"Effect Features","pos":[1717,1732]},{"content":"Effect Library","pos":[1739,1753]},{"content":"Chaining Effects","pos":[1801,1817]},{"content":"Animation Support","pos":[1867,1884]},{"content":"Effect properties – Constant vs. Animated","pos":[1935,1976]},{"content":"Multiple Effect Instances with Independent Properties","pos":[2048,2101]},{"content":"Effect Library","pos":[2188,2202]},{"content":"Currently composition supports the following effects:","pos":[2204,2257]},{"content":"Effect","pos":[2261,2267]},{"content":"Description","pos":[2284,2295]},{"content":"2D affine transform","pos":[2753,2772]},{"content":"Applies a 2D affine transform matrix to an image.","pos":[2776,2825]},{"content":"We used this effect to animate alpha mask in our effect <bpt id=\"p1\">[</bpt>samples<ept id=\"p1\">](https://github.com/Microsoft/composition/tree/master/SDK10240_WIN10_RTM/BasicCompositonEffects)</ept>.","pos":[2826,2988],"source":" We used this effect to animate alpha mask in our effect [samples](https://github.com/Microsoft/composition/tree/master/SDK10240_WIN10_RTM/BasicCompositonEffects)."},{"content":"Arithmetic composite","pos":[2999,3019]},{"content":"Combines two images using a flexible equation.","pos":[3022,3068]},{"content":"We used arithmetic composite to create a crossfade effect in our <bpt id=\"p1\">[</bpt>samples<ept id=\"p1\">](https://github.com/Microsoft/composition/tree/master/SDK10240_WIN10_RTM/BasicCompositonEffects)</ept>.","pos":[3069,3240],"source":" We used arithmetic composite to create a crossfade effect in our [samples](https://github.com/Microsoft/composition/tree/master/SDK10240_WIN10_RTM/BasicCompositonEffects)."},{"content":"Blend effect","pos":[3245,3257]},{"content":"Creates a blend effect that combines two images.","pos":[3268,3316]},{"content":"Composition provides 21 of the 26 <bpt id=\"p1\">[</bpt>blend modes<ept id=\"p1\">](http://microsoft.github.io/Win2D/html/T_Microsoft_Graphics_Canvas_Effects_BlendEffectMode.md)</ept> supported in Win2D.","pos":[3317,3478],"source":" Composition provides 21 of the 26 [blend modes](http://microsoft.github.io/Win2D/html/T_Microsoft_Graphics_Canvas_Effects_BlendEffectMode.md) supported in Win2D."},{"content":"Color source","pos":[3490,3502]},{"content":"Generates an image containing a solid color.","pos":[3513,3557]},{"content":"Composite","pos":[3736,3745]},{"content":"Combines two images.","pos":[3759,3779]},{"content":"Composition provides all 13 <bpt id=\"p1\">[</bpt>composite modes<ept id=\"p1\">](http://microsoft.github.io/Win2D/html/T_Microsoft_Graphics_Canvas_CanvasComposite.md)</ept> supported in Win2D.","pos":[3780,3931],"source":" Composition provides all 13 [composite modes](http://microsoft.github.io/Win2D/html/T_Microsoft_Graphics_Canvas_CanvasComposite.md) supported in Win2D."},{"content":"Contrast","pos":[3981,3989]},{"content":"Increases or decreases the contrast of an image.","pos":[4004,4052]},{"content":"Exposure","pos":[4227,4235]},{"content":"Increases or decreases the exposure of an image.","pos":[4250,4298]},{"content":"Grayscale","pos":[4473,4482]},{"content":"Converts an image to monochromatic gray.","pos":[4496,4536]},{"content":"Gamma transfer","pos":[4719,4733]},{"content":"Alters the colors of an image by applying a per-channel gamma transfer function.","pos":[4742,4822]},{"content":"Hue rotate","pos":[4965,4975]},{"content":"Alters the color of an image by rotating its hue values.","pos":[4988,5044]},{"content":"Invert","pos":[5211,5217]},{"content":"Inverts the colors of an image.","pos":[5234,5265]},{"content":"Saturate","pos":[5457,5465]},{"content":"Alters the saturation of an image.","pos":[5480,5514]},{"content":"Sepia","pos":[5703,5708]},{"content":"Converts an image to sepia tones.","pos":[5726,5759]},{"content":"Temperature and tint","pos":[5949,5969]},{"content":"Adjusts the temperature and/or tint of an image.","pos":[5972,6020]},{"content":"See Win2D’s <bpt id=\"p1\">[</bpt>Microsoft.Graphics.Canvas.Effects<ept id=\"p1\">](http://microsoft.github.io/Win2D/html/N_Microsoft_Graphics_Canvas_Effects.md)</ept> Namespace for more detailed information.","pos":[6197,6363],"source":"See Win2D’s [Microsoft.Graphics.Canvas.Effects](http://microsoft.github.io/Win2D/html/N_Microsoft_Graphics_Canvas_Effects.md) Namespace for more detailed information."},{"content":"Effects not supported in composition are noted as \\[NoComposition\\].","pos":[6364,6432]},{"content":"Chaining Effects","pos":[6438,6454]},{"content":"Effects can be chained, allowing an application to simultaneously use multiple effects on an image.","pos":[6456,6555]},{"content":"Effect graphs can support multiple effects that can refer to one and other.","pos":[6556,6631]},{"content":"When describing your effect, simply add an effect as input to your effect.","pos":[6632,6706]},{"content":"The example above describes an arithmetic composite effect which has two inputs.","pos":[7094,7174]},{"content":"The second input has a saturation effect with a .5 saturation property.","pos":[7175,7246]},{"content":"Animation Support","pos":[7252,7269]},{"content":"Effect properties support animation, during effect compilation you can specify effect properties can be animated and which can be \"baked in\" as constants.","pos":[7271,7425]},{"content":"The animatable properties are specified through strings of the form “effect name.property name”.","pos":[7426,7522]},{"content":"These properties can be animated independently over multiple instantiations of the effect.","pos":[7523,7613]},{"content":"Effect properties – Constant vs Animated","pos":[7619,7659]},{"content":"During effect compilation you can specify effect properties as dynamic or as properties that are \"baked in\" as constants.","pos":[7661,7782]},{"content":"The dynamic properties are specified through strings of the form “<ph id=\"ph1\">&lt;effect name&gt;</ph>.<ph id=\"ph2\">&lt;property name&gt;</ph>”.","pos":[7783,7880],"source":" The dynamic properties are specified through strings of the form “<effect name>.<property name>”."},{"content":"The dynamic properties can be set to a specific value or can be animated using the composition animation system.","pos":[7881,7993]},{"content":"When compiling the effect description above, you have the flexibility of either baking in saturation to be equal to 0.5 or making it dynamic and setting it dynamically or animating it.","pos":[7995,8179]},{"content":"Compiling an effect with saturation baked in:","pos":[8181,8226]},{"content":"Compiling an effect with dynamic saturation:","pos":[8322,8366]},{"content":"The saturation property of the effect above can then be either set to a static value or animated using either Expression or ScalarKeyFrame animations.","pos":[8654,8804]},{"content":"You can create a ScalarKeyFrame that will be used to animate the Saturation property of an effect like this:","pos":[8806,8914]},{"content":"Start the animation on the Saturation property of the effect like this:","pos":[9331,9402]},{"pos":[9500,9892],"content":"See the <bpt id=\"p1\">[</bpt>Desaturation - Animation sample<ept id=\"p1\">](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/BasicCompositonEffects/Desaturation%20-%20Animation)</ept> for effect properties animated with key frames and the <bpt id=\"p2\">[</bpt>AlphaMask sample<ept id=\"p2\">](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/BasicCompositonEffects/AlphaMask)</ept> for use of effects and expressions.","source":"See the [Desaturation - Animation sample](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/BasicCompositonEffects/Desaturation%20-%20Animation) for effect properties animated with key frames and the [AlphaMask sample](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/BasicCompositonEffects/AlphaMask) for use of effects and expressions."},{"content":"Multiple Effect Instances with Independent Properties","pos":[9898,9951]},{"content":"By specifying that a parameter should be dynamic during effect compilation, the parameter can then be changed on a per-effect instance basis.","pos":[9953,10094]},{"content":"This allows two Visuals to use the same effect but be rendered with different effect properties.","pos":[10095,10191]},{"content":"See the ColorSource and Blend <bpt id=\"p1\">[</bpt>sample<ept id=\"p1\">](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/BasicCompositonEffects/ColorSource%20and%20Blend)</ept> for more information.","pos":[10192,10379],"source":" See the ColorSource and Blend [sample](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/BasicCompositonEffects/ColorSource%20and%20Blend) for more information."},{"content":"Getting Started with Composition Effects","pos":[10384,10424]},{"content":"This quick start tutorial shows you how to make use of some of the basic capabilities of effects.","pos":[10426,10523]},{"content":"Installing Visual Studio","pos":[10530,10554]},{"content":"Creating a new project","pos":[10612,10634]},{"content":"Installing Win2D","pos":[10690,10706]},{"content":"Setting your Composition Basics","pos":[10756,10787]},{"content":"Creating a CompositionSurface Brush","pos":[10852,10887]},{"content":"Creating, Compiling and Applying Effects","pos":[10956,10996]},{"content":"Installing Visual Studio","pos":[11070,11094]},{"pos":[11100,11283],"content":"If you don't have a supported version of Visual Studio installed, go to the Visual Studio Downloads page <bpt id=\"p1\">[</bpt>here<ept id=\"p1\">](https://www.visualstudio.com/downloads/download-visual-studio-vs.aspx)</ept>.","source":"If you don't have a supported version of Visual Studio installed, go to the Visual Studio Downloads page [here](https://www.visualstudio.com/downloads/download-visual-studio-vs.aspx)."},{"content":"Creating a new project","pos":[11289,11311]},{"content":"Go to File-&gt;New-&gt;Project...","pos":[11317,11344],"source":"Go to File->New->Project..."},{"content":"Select 'Visual C#'","pos":[11349,11367]},{"content":"Create a 'Blank App (Windows Universal)' (Visual Studio 2015)","pos":[11372,11433]},{"content":"Enter a project name of your choosing","pos":[11438,11475]},{"content":"Click 'OK'","pos":[11480,11490]},{"content":"Installing Win2D","pos":[11496,11512]},{"content":"Win2D is released as a Nuget.org package and needs to be installed before you can use effects.","pos":[11514,11608]},{"content":"There are two package versions, one for Windows 10 and one for Windows 8.1.","pos":[11610,11685]},{"content":"For Composition effects you’ll use the Windows 10 version.","pos":[11686,11744]},{"content":"Launch the NuGet Package Manager by going to Tools → NuGet Package Manager → Manage NuGet Packages for Solution.","pos":[11750,11862]},{"content":"Search for \"Win2D\" and select the appropriate package for your target version of Windows.","pos":[11867,11956]},{"content":"Because Windows.UI.","pos":[11957,11976]},{"content":"Composition supports Windows 10 (not 8.1), select Win2D.uwp.","pos":[11977,12037]},{"content":"Accept the license agreement","pos":[12042,12070]},{"content":"Click 'Close'","pos":[12075,12088]},{"content":"In the next few steps we will use composition API’s to apply a saturation effect to this cat image which will remove all saturation.","pos":[12090,12222]},{"content":"In this model the effect is created and then applied to an image.","pos":[12223,12288]},{"content":"Source image","pos":[12292,12304]},{"content":"Setting your Composition Basics","pos":[12345,12376]},{"pos":[12378,12653],"content":"See the <bpt id=\"p1\">[</bpt>Composition Visual Tree Sample<ept id=\"p1\">](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/CompositionVisual)</ept> on our GitHub for an example of how to set up Windows.UI.Composition Compositor, root ContainerVisual, and associate with the Core Window.","source":"See the [Composition Visual Tree Sample](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/CompositionVisual) on our GitHub for an example of how to set up Windows.UI.Composition Compositor, root ContainerVisual, and associate with the Core Window."},{"content":"Creating a CompositionSurface Brush","pos":[12892,12927]},{"content":"Creating, Compiling and Applying Effects","pos":[13043,13083]},{"content":"1.) Create the graphics effect","pos":[13085,13115]},{"content":"2.) Compile the effect and create effect brush","pos":[13255,13301]},{"content":"3.) Create a SpriteVIsual in the composition tree and apply the effect","pos":[13484,13554]},{"content":"4.) Create your image source to load.","pos":[13735,13772]},{"content":"5.) Size and brush the surface on the SpriteVisual","pos":[14019,14069]},{"content":"6.) Run your app – your results should be a desaturated cat:","pos":[14118,14178]},{"content":"Desaturated image","pos":[14182,14199]},{"content":"More Information","pos":[14244,14260]},{"content":"Microsoft – Composition GitHub","pos":[14267,14297]},{"content":"Windows.UI.Composition","pos":[14348,14370]},{"content":"Windows Composition team on Twitter","pos":[14437,14472]},{"content":"Composition Overview","pos":[14515,14535]},{"content":"Visual Tree Basics","pos":[14653,14671]},{"content":"Composition Brushes","pos":[14706,14725]},{"content":"Animation Overview","pos":[14756,14774]},{"content":"Composition native DirectX and Direct2D interoperation with BeginDraw and EndDraw","pos":[14807,14888]}],"content":"---\nms.assetid: 6e9b9ff2-234b-6f63-0975-1afb2d86ba1a\ntitle: Composition effects\ndescription: The effect APIs enable developers to customize how their UI is rendered.\n---\n# Composition effects\n\n\\[ Updated for UWP apps on Windows 10. For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \\]\n\nThe [**Windows.UI.Composition**](https://msdn.microsoft.com/library/windows/apps/Dn706878) WinRT API allows Real-time effects to be applied to images and UI with animatable effect properties. In this overview, we’ll run through the functionality available that allows effects to be applied to a composition visual.\n\nTo support [Universal Windows Platform (UWP)](https://msdn.microsoft.com/library/windows/apps/dn726767.aspx) consistency for developers describing effects in their applications, composition effects leverage Win2D’s IGraphicsEffect interface to use effect descriptions via the [Microsoft.Graphics.Canvas.Effects](http://microsoft.github.io/Win2D/html/N_Microsoft_Graphics_Canvas_Effects.md) Namespace.\n\nBrush effects are used to paint areas of an application by applying effects to a set of existing images. Windows 10 composition effect APIs are focused on Sprite Visuals. The SpriteVisual allows for flexibility and interplay in color, image and effect creation. The SpriteVisual is a composition visual type that can fill a 2D rectangle with a brush. The visual defines the bounds of the rectangle and the brush defines the pixels used to paint the rectangle.\n\nEffect brushes are used on composition tree visuals whose content comes from the output of an effect graph. Effects can reference existing surfaces/textures, but not the output of other composition trees.\n\n## Effect Features\n\n-   [Effect Library](./composition-effects.md#effect-library)\n-   [Chaining Effects](./composition-effects.md#chaining-effects)\n-   [Animation Support](./composition-effects.md#animation-support)\n-   [Effect properties – Constant vs. Animated](./composition-effects.md#effect-properties-constant-vs-animated)\n-   [Multiple Effect Instances with Independent Properties](./composition-effects.md#multiple-effect-instances-with-independent-properties)\n\n### Effect Library\n\nCurrently composition supports the following effects:\n\n| Effect               | Description                                                                                                                                                                                                                |\n|----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| 2D affine transform  | Applies a 2D affine transform matrix to an image. We used this effect to animate alpha mask in our effect [samples](https://github.com/Microsoft/composition/tree/master/SDK10240_WIN10_RTM/BasicCompositonEffects).       |\n| Arithmetic composite | Combines two images using a flexible equation. We used arithmetic composite to create a crossfade effect in our [samples](https://github.com/Microsoft/composition/tree/master/SDK10240_WIN10_RTM/BasicCompositonEffects). |\n| Blend effect         | Creates a blend effect that combines two images. Composition provides 21 of the 26 [blend modes](http://microsoft.github.io/Win2D/html/T_Microsoft_Graphics_Canvas_Effects_BlendEffectMode.md) supported in Win2D.        |\n| Color source         | Generates an image containing a solid color.                                                                                                                                                                               |\n| Composite            | Combines two images. Composition provides all 13 [composite modes](http://microsoft.github.io/Win2D/html/T_Microsoft_Graphics_Canvas_CanvasComposite.md) supported in Win2D.                                              |\n| Contrast             | Increases or decreases the contrast of an image.                                                                                                                                                                           |\n| Exposure             | Increases or decreases the exposure of an image.                                                                                                                                                                           |\n| Grayscale            | Converts an image to monochromatic gray.                                                                                                                                                                                   |\n| Gamma transfer       | Alters the colors of an image by applying a per-channel gamma transfer function.                                                                                                                                           |\n| Hue rotate           | Alters the color of an image by rotating its hue values.                                                                                                                                                                   |\n| Invert               | Inverts the colors of an image.                                                                                                                                                                                            |\n| Saturate             | Alters the saturation of an image.                                                                                                                                                                                         |\n| Sepia                | Converts an image to sepia tones.                                                                                                                                                                                          |\n| Temperature and tint | Adjusts the temperature and/or tint of an image.                                                                                                                                                                           |\n\n \n\nSee Win2D’s [Microsoft.Graphics.Canvas.Effects](http://microsoft.github.io/Win2D/html/N_Microsoft_Graphics_Canvas_Effects.md) Namespace for more detailed information. Effects not supported in composition are noted as \\[NoComposition\\].\n\n### Chaining Effects\n\nEffects can be chained, allowing an application to simultaneously use multiple effects on an image. Effect graphs can support multiple effects that can refer to one and other. When describing your effect, simply add an effect as input to your effect.\n\n```cs\nIGraphicsEffect graphicsEffect =\nnew Microsoft.Graphics.Canvas.Effects.ArithmeticCompositeEffect\n{\n  Source1 = new CompositionEffectSourceParameter(\"source1\"),\n  Source2 = new SaturationEffect\n  {\n    Saturation = 0,\n    Source = new CompositionEffectSourceParameter(\"source2\")\n  },\n  MultiplyAmount = 0,\n  Source1Amount = 0.5f,\n  Source2Amount = 0.5f,\n  Offset = 0    \n}\n  \n```\n\nThe example above describes an arithmetic composite effect which has two inputs. The second input has a saturation effect with a .5 saturation property.\n\n### Animation Support\n\nEffect properties support animation, during effect compilation you can specify effect properties can be animated and which can be \"baked in\" as constants. The animatable properties are specified through strings of the form “effect name.property name”. These properties can be animated independently over multiple instantiations of the effect.\n\n### Effect properties – Constant vs Animated\n\nDuring effect compilation you can specify effect properties as dynamic or as properties that are \"baked in\" as constants. The dynamic properties are specified through strings of the form “<effect name>.<property name>”. The dynamic properties can be set to a specific value or can be animated using the composition animation system.\n\nWhen compiling the effect description above, you have the flexibility of either baking in saturation to be equal to 0.5 or making it dynamic and setting it dynamically or animating it.\n\nCompiling an effect with saturation baked in:\n\n```cs\nvar effectFactory = _compositor.CreateEffectFactory(graphicsEffect);              \n```\n\nCompiling an effect with dynamic saturation:\n\n```cs\nvar effectFactory = _compositor.CreateEffectFactory(graphicsEffect, new[]{SaturationEffect.Saturation});\n_catEffect = effectFactory.CreateBrush();\n_catEffect.SetSourceParameter(\"mySource\", surfaceBrush);\n_catEffect.Properties.InsertScalar(\"saturationEffect.Saturation\", 0f);\n```\n\nThe saturation property of the effect above can then be either set to a static value or animated using either Expression or ScalarKeyFrame animations.\n\nYou can create a ScalarKeyFrame that will be used to animate the Saturation property of an effect like this:\n\n```cs\nScalarKeyFrameAnimation effectAnimation = _compositor.CreateScalarKeyFrameAnimation();\n            effectAnimation.InsertKeyFrame(0f, 0f);\n            effectAnimation.InsertKeyFrame(0.50f, 1f);\n            effectAnimation.InsertKeyFrame(1.0f, 0f);\n            effectAnimation.Duration = TimeSpan.FromMilliseconds(2500);\n            effectAnimation.IterationBehavior = AnimationIterationBehavior.Forever;\n```\n\nStart the animation on the Saturation property of the effect like this:\n\n```cs\ncatEffect.Properties.StartAnimation(\"saturationEffect.Saturation\", effectAnimation);\n```\n\nSee the [Desaturation - Animation sample](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/BasicCompositonEffects/Desaturation%20-%20Animation) for effect properties animated with key frames and the [AlphaMask sample](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/BasicCompositonEffects/AlphaMask) for use of effects and expressions.\n\n### Multiple Effect Instances with Independent Properties\n\nBy specifying that a parameter should be dynamic during effect compilation, the parameter can then be changed on a per-effect instance basis. This allows two Visuals to use the same effect but be rendered with different effect properties. See the ColorSource and Blend [sample](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/BasicCompositonEffects/ColorSource%20and%20Blend) for more information.\n\n## Getting Started with Composition Effects\n\nThis quick start tutorial shows you how to make use of some of the basic capabilities of effects.\n\n-   [Installing Visual Studio](./composition-effects.md#installing-visual-studio)\n-   [Creating a new project](./composition-effects.md#creating-a-new-project)\n-   [Installing Win2D](./composition-effects.md#installing-win2d)\n-   [Setting your Composition Basics](./composition-effects.md#setting-your-composition-basics)\n-   [Creating a CompositionSurface Brush](./composition-effects.md#creating-a-compositionsurface-brush)\n-   [Creating, Compiling and Applying Effects](./composition-effects.md#creating,-compiling-and-applying-effects)\n\n### Installing Visual Studio\n\n-   If you don't have a supported version of Visual Studio installed, go to the Visual Studio Downloads page [here](https://www.visualstudio.com/downloads/download-visual-studio-vs.aspx).\n\n### Creating a new project\n\n-   Go to File->New->Project...\n-   Select 'Visual C#'\n-   Create a 'Blank App (Windows Universal)' (Visual Studio 2015)\n-   Enter a project name of your choosing\n-   Click 'OK'\n\n### Installing Win2D\n\nWin2D is released as a Nuget.org package and needs to be installed before you can use effects.\n\nThere are two package versions, one for Windows 10 and one for Windows 8.1. For Composition effects you’ll use the Windows 10 version.\n\n-   Launch the NuGet Package Manager by going to Tools → NuGet Package Manager → Manage NuGet Packages for Solution.\n-   Search for \"Win2D\" and select the appropriate package for your target version of Windows. Because Windows.UI. Composition supports Windows 10 (not 8.1), select Win2D.uwp.\n-   Accept the license agreement\n-   Click 'Close'\n\nIn the next few steps we will use composition API’s to apply a saturation effect to this cat image which will remove all saturation. In this model the effect is created and then applied to an image.\n\n![Source image](images/composition-cat-source.png)\n### Setting your Composition Basics\n\nSee the [Composition Visual Tree Sample](https://github.com/Microsoft/composition/tree/master/SDK10586_NOV_UPDATE_RTM/CompositionVisual) on our GitHub for an example of how to set up Windows.UI.Composition Compositor, root ContainerVisual, and associate with the Core Window.\n\n```cs\n_compositor = new Compositor();\n_root = _compositor.CreateContainerVisual();\n_target = _compositor.CreateTargetForCurrentView();\n_target.Root = _root;\n_imageFactory = new CompositionImageFactory(_compositor)\nDesaturate();\n```\n\n### Creating a CompositionSurface Brush\n\n```cs\nCompositionSurfaceBrush surfaceBrush = _compositor.CreateSurfaceBrush();\nLoadImage(surfaceBrush); \n```\n\n### Creating, Compiling and Applying Effects\n\n1.) Create the graphics effect\n```cs\nvar graphicsEffect = new SaturationEffect\n{\n  Saturation = 0.0f,\n  Source = new CompositionEffectSourceParameter(\"mySource\")\n};\n```\n\n2.) Compile the effect and create effect brush\n```cs\nvar effectFactory = _compositor.CreateEffectFactory(graphicsEffect);\n\nvar catEffect = effectFactory.CreateBrush();\ncatEffect.SetSourceParameter(\"mySource\", surfaceBrush);\n```\n\n3.) Create a SpriteVIsual in the composition tree and apply the effect\n```cs\nvar catVisual = _compositor.CreateSpriteVisual();\n  catVisual.Brush = catEffect;\n  catVisual.Size = new Vector2(219, 300);\n  _root.Children.InsertAtBottom(catVisual);\n}\n```\n\n4.) Create your image source to load.\n```cs\nCompositionImage imageSource = _imageFactory.CreateImageFromUri(new Uri(\"ms-appx:///Assets/cat.png\"));\nCompositionImageLoadResult result = await imageSource.CompleteLoadAsync();\nif (result.Status == CompositionImageLoadStatus.Success)\n```\n\n5.) Size and brush the surface on the SpriteVisual\n```cs\nbrush.Surface = imageSource.Surface;\n```\n\n6.) Run your app – your results should be a desaturated cat:\n\n![Desaturated image](images/composition-cat-desaturated.png)\n## More Information\n\n-   [Microsoft – Composition GitHub](https://github.com/Microsoft/composition)\n-   [**Windows.UI.Composition**](https://msdn.microsoft.com/library/windows/apps/Dn706878)\n-   [Windows Composition team on Twitter](https://twitter.com/wincomposition)\n-   [Composition Overview](https://blogs.windows.com/buildingapps/2015/12/08/awaken-your-creativity-with-the-new-windows-ui-composition/)\n-   [Visual Tree Basics](composition-visual-tree.md)\n-   [Composition Brushes](composition-brushes.md)\n-   [Animation Overview](composition-animation.md)\n-   [Composition native DirectX and Direct2D interoperation with BeginDraw and EndDraw](composition-native-interop.md)\n\n \n\n \n\n\n\n\n"}