{"nodes":[{"content":"Building a Driver with the WDK","pos":[0,30]},{"content":"This topic describes how you can build a driver with the Windows Driver Kit (WDK).","pos":[108,190]},{"content":"WDK 10 is fully integrated with Microsoft Visual Studio.","pos":[191,247]},{"content":"You can build a driver using the Visual Studio development environment, or you can build a driver directly from the command line by using the Microsoft Build Engine (<bpt id=\"p1\">[</bpt>MSBuild<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=262804)</ept>).","pos":[248,474],"source":" You can build a driver using the Visual Studio development environment, or you can build a driver directly from the command line by using the Microsoft Build Engine ([MSBuild](http://go.microsoft.com/fwlink/p/?linkid=262804))."},{"content":"You can use any edition of Microsoft Visual Studio 2015, including Microsoft Visual Studio Community 2015, to build drivers for:","pos":[476,604]},{"content":"Windows 10","pos":[610,620]},{"content":"Windows 8.1","pos":[625,636]},{"content":"Windows 7","pos":[641,650]},{"content":"<bpt id=\"p1\">**</bpt>Important<ept id=\"p1\">**</ept>  Starting in Windows Driver Kit (WDK) 8, MSBuild replaced the Windows Build Utility (Build.exe).","pos":[652,762],"source":"**Important**  Starting in Windows Driver Kit (WDK) 8, MSBuild replaced the Windows Build Utility (Build.exe)."},{"content":"The WDK now uses the same compiler and build tools that you use to build Visual Studio projects.","pos":[763,859]},{"content":"Driver projects that were built with previous versions of the WDK must be converted to work in the Visual Studio environment.","pos":[860,985]},{"content":"You can run a conversion utility from the command line, or you can convert an existing driver by creating new Visual Studio project from existing sources.","pos":[986,1140]},{"content":"For more info, see <bpt id=\"p1\">[</bpt>Creating a Driver From Existing Source Files<ept id=\"p1\">](creating_a_driver_from_existing_source_files.md)</ept> and <bpt id=\"p2\">[</bpt>WDK and the Visual Studio build environment<ept id=\"p2\">](https://msdn.microsoft.com/en-us/library/windows/hardware/hh454286)</ept>.","pos":[1141,1374],"source":" For more info, see [Creating a Driver From Existing Source Files](creating_a_driver_from_existing_source_files.md) and [WDK and the Visual Studio build environment](https://msdn.microsoft.com/en-us/library/windows/hardware/hh454286)."},{"pos":[1491,1528],"content":"Building a Driver Using Visual Studio"},{"content":"You build a driver the same way you build any project or solution in Visual Studio.","pos":[1680,1763]},{"content":"When you create a new driver project using a Windows driver template, the template defines a default (active) project configuration and a default (active) solution build configuration.","pos":[1764,1948]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  You can convert projects and solutions that you created with WDK 8 or Windows Driver Kit (WDK) 8.1 to work with Windows Driver Kit (WDK) 10 and Visual Studio 2015.","pos":[1950,2123],"source":"**Note**  You can convert projects and solutions that you created with WDK 8 or Windows Driver Kit (WDK) 8.1 to work with Windows Driver Kit (WDK) 10 and Visual Studio 2015."},{"content":"Before you open the projects or solutions, run the <bpt id=\"p1\">[</bpt>ProjectUpgradeTool<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Dn265174)</ept>.","pos":[2124,2264],"source":" Before you open the projects or solutions, run the [ProjectUpgradeTool](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Dn265174)."},{"content":"The ProjectUpgradeTool converts the projects and solutions so that they can be built using WDK 10.","pos":[2265,2363]},{"pos":[2368,2514],"content":"For information about managing and editing build configurations, see <bpt id=\"p1\">[</bpt>Building in Visual Studio<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=227872)</ept>.","source":"For information about managing and editing build configurations, see [Building in Visual Studio](http://go.microsoft.com/fwlink/p/?linkid=227872)."},{"content":"The default Solution build configuration is <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Win32<ept id=\"p2\">**</ept>.","pos":[2516,2584],"source":"The default Solution build configuration is **Debug** and **Win32**."},{"content":"In versions of the WDK prior to Windows 8, this build configuration would correspond to building a driver using an <bpt id=\"p1\">**</bpt>x86 Checked Build Environment<ept id=\"p1\">**</ept>.","pos":[2585,2734],"source":" In versions of the WDK prior to Windows 8, this build configuration would correspond to building a driver using an **x86 Checked Build Environment**."},{"content":"To select a configuration and build a driver","pos":[2738,2782]},{"content":"Ensure that you have the same version of SDK and WDK installed on your computer.","pos":[2790,2870]},{"content":"Open the driver project or solution in Visual Studio.","pos":[2875,2928]},{"pos":[2933,3025],"content":"Right-click the solution in the <bpt id=\"p1\">**</bpt>Solutions Explorer<ept id=\"p1\">**</ept> and select <bpt id=\"p2\">**</bpt>Configuration Manager<ept id=\"p2\">**</ept>.","source":"Right-click the solution in the **Solutions Explorer** and select **Configuration Manager**."},{"pos":[3030,3264],"content":"From the <bpt id=\"p1\">**</bpt>Configuration Manager<ept id=\"p1\">**</ept>, select the Active Solution Configuration (for example, <bpt id=\"p2\">**</bpt>Debug<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>Release<ept id=\"p3\">**</ept>) and the Active Solution Platform (for example, <bpt id=\"p4\">**</bpt>Win32<ept id=\"p4\">**</ept>) that correspond to the type of build you are interested in.","source":"From the **Configuration Manager**, select the Active Solution Configuration (for example, **Debug** or **Release**) and the Active Solution Platform (for example, **Win32**) that correspond to the type of build you are interested in."},{"content":"Select the target operating system for which to build the driver.","pos":[3269,3334]},{"content":"Navigate to the project properties in <bpt id=\"p1\">**</bpt>Driver <ph id=\"ph1\">&amp;gt;</ph> General<ept id=\"p1\">**</ept>, and set the <bpt id=\"p2\">**</bpt>TargetVersion<ept id=\"p2\">**</ept> property.","pos":[3335,3437],"source":" Navigate to the project properties in **Driver &gt; General**, and set the **TargetVersion** property."},{"content":"Configure the project properties for your driver or driver package.","pos":[3442,3509]},{"content":"You can set properties for deployment, driver signing, or other tasks.","pos":[3510,3580]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Configuring project properties for your driver and driver package<ept id=\"p1\">](#configure_project_props)</ept>.","pos":[3581,3701],"source":" For more information, see [Configuring project properties for your driver and driver package](#configure_project_props)."},{"pos":[3706,3775],"content":"From the <bpt id=\"p1\">**</bpt>Build<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Build Solution<ept id=\"p2\">**</ept> (<bpt id=\"p3\">**</bpt>Ctrl+Shift+B<ept id=\"p3\">**</ept>).","source":"From the **Build** menu, click **Build Solution** (**Ctrl+Shift+B**)."},{"pos":[3915,3965],"content":"Building a Driver Using the Command Line (MSBuild)"},{"pos":[4156,4342],"content":"You can build a driver from the command line using the <bpt id=\"p1\">**</bpt>Visual Studio Command Prompt<ept id=\"p1\">**</ept> window and the Microsoft Build Engine (<bpt id=\"p2\">[</bpt>MSBuild<ept id=\"p2\">](http://go.microsoft.com/fwlink/p/?linkid=262804)</ept>)","source":"You can build a driver from the command line using the **Visual Studio Command Prompt** window and the Microsoft Build Engine ([MSBuild](http://go.microsoft.com/fwlink/p/?linkid=262804))"},{"content":"To build a driver using the Visual Studio Command Prompt window","pos":[4346,4409]},{"pos":[4417,4471],"content":"Open a <bpt id=\"p1\">**</bpt>Developer Command Prompt for VS2015<ept id=\"p1\">**</ept> window.","source":"Open a **Developer Command Prompt for VS2015** window."},{"content":"From this window you can use MSBuild.exe to build any Visual Studio project by specifying the project (.VcxProj) or solutions (.Sln) file.","pos":[4477,4615]},{"pos":[4621,4705],"content":"Navigate to the project directory and enter the <bpt id=\"p1\">**</bpt>MSbuild<ept id=\"p1\">**</ept> command for your target.","source":"Navigate to the project directory and enter the **MSbuild** command for your target."},{"content":"For example, to perform a clean build of a Visual Studio driver project called MyDriver.vcxproj using the default Platform and Configuration, navigate to the project directory and enter the following MSBuild command:","pos":[4711,4927]},{"pos":[5006,5102],"content":"<bpt id=\"p1\">**</bpt>Syntax<ept id=\"p1\">**</ept> - To specify a specific configuration and platform, use the following command syntax:","source":"**Syntax** - To specify a specific configuration and platform, use the following command syntax:"},{"content":"For example, the following command builds a Universal Windows driver for the \"Debug\" configuration, \"Win32\" platform, and for Windows 10.","pos":[5289,5426]},{"content":"The <bpt id=\"p1\">**</bpt>TargetPlatformVersion<ept id=\"p1\">**</ept> setting is optional and allows you to specify the kit version to build with.","pos":[5617,5723],"source":"The **TargetPlatformVersion** setting is optional and allows you to specify the kit version to build with."},{"content":"The default is to use the latest kit.","pos":[5724,5761]},{"pos":[5847,5912],"content":"Configuring project properties for your driver and driver package"},{"content":"You use <bpt id=\"p1\">**</bpt>property pages<ept id=\"p1\">**</ept> to configure and set options for your driver and driver package.","pos":[6064,6155],"source":"You use **property pages** to configure and set options for your driver and driver package."},{"content":"You can choose to configure your driver so that it is automatically signed when you build your solution, or automatically deployed to a remote test computer.","pos":[6156,6313]},{"content":"The WDK provides a number of command-line tools, such as <bpt id=\"p1\">[</bpt>Stampinf<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff552786)</ept> and <bpt id=\"p2\">[</bpt>WPP Preprocessor (WPP Tracing)<ept id=\"p2\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff556201)</ept>, that are commonly included in the build process.","pos":[6315,6605],"source":"The WDK provides a number of command-line tools, such as [Stampinf](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff552786) and [WPP Preprocessor (WPP Tracing)](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff556201), that are commonly included in the build process."},{"content":"These tools are not distributed with Visual Studio.","pos":[6606,6657]},{"content":"To combine these tools with the Visual Studio build environment they are wrapped as <bpt id=\"p1\">[</bpt>WDK tasks for MSBuild<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454288)</ept>.","pos":[6658,6834],"source":" To combine these tools with the Visual Studio build environment they are wrapped as [WDK tasks for MSBuild](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454288)."},{"content":"If you use one of the driver templates or have an existing driver that you have converted, these property pages might already exist for your project.","pos":[6835,6984]},{"content":"If not, the property pages are automatically added to your project as you add the related file types to the project or solution (for example, .mc or .man files for the message compiler).","pos":[6985,7171]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>WDK and the Visual Studio build environment<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454286)</ept>","pos":[7172,7311],"source":" For more information, see [WDK and the Visual Studio build environment](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454286)"},{"content":"You can set properties for an individual driver or for an entire driver package.","pos":[7313,7393]},{"content":"The following table shows some of the available properties that you can configure specifically for drivers and driver packages.","pos":[7394,7521]},{"content":"Driver Project Properties","pos":[7639,7664]},{"content":"Driver Package Properties","pos":[7687,7712]},{"content":"Signing properties for individual driver files (see <ph id=\"ph1\">&lt;a href=\"signing_a_driver.md\"&gt;</ph>Signing a Driver<ph id=\"ph2\">&lt;/a&gt;</ph>)","pos":[7778,7881],"source":"Signing properties for individual driver files (see <a href=\"signing_a_driver.md\">Signing a Driver</a>)"},{"content":"Signing properties for driver packages (see <ph id=\"ph1\">&lt;a href=\"signing_a_driver.md\"&gt;</ph>Signing a Driver<ph id=\"ph2\">&lt;/a&gt;</ph>)","pos":[7911,8006],"source":"Signing properties for driver packages (see <a href=\"signing_a_driver.md\">Signing a Driver</a>)"},{"content":"Counters Manifest Preprocessor Properties for Driver Projects<ph id=\"ph1\">&lt;/a&gt;</ph> (for <ph id=\"ph2\">&lt;a href=\"https://perf.ctrpp\"&gt;&lt;strong&gt;</ph>CTRPP<ph id=\"ph3\">&lt;/strong&gt;&lt;/a&gt;</ph>)","pos":[8132,8259],"source":"Counters Manifest Preprocessor Properties for Driver Projects</a> (for <a href=\"https://perf.ctrpp\"><strong>CTRPP</strong></a>)"},{"content":"Deployment Properties for Driver Package Projects<ph id=\"ph1\">&lt;/a&gt;</ph> (see <ph id=\"ph2\">&lt;a href=\"deploying_a_driver_to_a_test_computer.md\"&gt;</ph>Deploying a Driver to a Test Computer<ph id=\"ph3\">&lt;/a&gt;</ph>)","pos":[8340,8492],"source":"Deployment Properties for Driver Package Projects</a> (see <a href=\"deploying_a_driver_to_a_test_computer.md\">Deploying a Driver to a Test Computer</a>)"},{"content":"Driver Model Settings Properties for Driver Projects","pos":[8608,8660]},{"content":"Driver Verifier Properties for Driver Package Projects","pos":[8751,8805]},{"content":"Message Compiler Properties for Driver Projects","pos":[8921,8968]},{"content":"KMDF Verifier Properties for Driver Package Projects","pos":[9064,9116]},{"content":"Stampinf Properties for Driver Projects","pos":[9223,9262]},{"content":"UMDF Verifier Properties for Driver Package Projects","pos":[9358,9410]},{"content":"WPP Preprocessor (WPP Tracing)","pos":[9542,9572]},{"content":"Inf2Cat Properties for Driver Package Projects<ph id=\"ph1\">&lt;/a&gt;</ph> (see the <ph id=\"ph2\">&lt;a href=\"https://devtest.inf2cat\"&gt;&lt;strong&gt;</ph>Inf2Cat<ph id=\"ph3\">&lt;/strong&gt;&lt;/a&gt;</ph> tool)","pos":[9662,9790],"source":"Inf2Cat Properties for Driver Package Projects</a> (see the <a href=\"https://devtest.inf2cat\"><strong>Inf2Cat</strong></a> tool)"},{"content":"Troubleshooting tip for building a driver","pos":[9896,9937],"source":"Troubleshooting tip for building a driver\n"},{"content":"The following tip can help you to troubleshoot problems when you use the WDK and Visual Studio to build drivers.","pos":[10049,10161]},{"content":"To increase the verbosity of the build output using the options in Visual Studio","pos":[10165,10245]},{"pos":[10253,10285],"content":"Click <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept><ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Options<ept id=\"p2\">**</ept>.","source":"Click **Tools**&gt; **Options**."},{"pos":[10290,10361],"content":"Click the <bpt id=\"p1\">**</bpt>Project and Solutions<ept id=\"p1\">**</ept> folder and click <bpt id=\"p2\">**</bpt>Build and Run<ept id=\"p2\">**</ept>.","source":"Click the **Project and Solutions** folder and click **Build and Run**."},{"content":"Change the options for the <bpt id=\"p1\">**</bpt>MSBuild project build output verbosity<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>MSBuild project build log file verbosity<ept id=\"p2\">**</ept>.","pos":[10366,10485],"source":"Change the options for the **MSBuild project build output verbosity** and **MSBuild project build log file verbosity**."},{"content":"By default, these are set to Minimal.","pos":[10486,10523]},{"pos":[10558,10572],"content":"Related topics"},{"content":"Building in Visual Studio","pos":[10625,10650]},{"content":"Building Drivers for Different Versions of Windows","pos":[10704,10754]},{"content":"Using the Microsoft C Runtime with User-Mode Drivers and Desktop Apps","pos":[10814,10883]},{"content":"ProjectUpgradeTool","pos":[10954,10972]},{"content":"MSBuild","pos":[11045,11052]},{"content":"Creating a Driver From Existing Source Files","pos":[11106,11150]},{"content":"WDK and the Visual Studio build environment","pos":[11204,11247]},{"content":"Signing a Driver","pos":[11320,11336]},{"content":"Deploying a Driver to a Test Computer","pos":[11362,11399]},{"pos":[11447,12396],"content":"<bpt id=\"p1\">[</bpt>Send comments about this topic to Microsoft<ept id=\"p1\">]</ept><bpt id=\"p2\">(mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Building%20a%20Driver%20with%20the%20WDK%20%20RELEASE:%20%289/30/2015%29&amp;body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"</bpt>Send comments about this topic to Microsoft<ept id=\"p2\">\")</ept>","source":"[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Building%20a%20Driver%20with%20the%20WDK%20%20RELEASE:%20%289/30/2015%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"Send comments about this topic to Microsoft\")"}],"content":"Building a Driver with the WDK\n===========================================================================\n\nThis topic describes how you can build a driver with the Windows Driver Kit (WDK). WDK 10 is fully integrated with Microsoft Visual Studio. You can build a driver using the Visual Studio development environment, or you can build a driver directly from the command line by using the Microsoft Build Engine ([MSBuild](http://go.microsoft.com/fwlink/p/?linkid=262804)).\n\nYou can use any edition of Microsoft Visual Studio 2015, including Microsoft Visual Studio Community 2015, to build drivers for:\n\n-   Windows 10\n-   Windows 8.1\n-   Windows 7\n\n**Important**  Starting in Windows Driver Kit (WDK) 8, MSBuild replaced the Windows Build Utility (Build.exe). The WDK now uses the same compiler and build tools that you use to build Visual Studio projects. Driver projects that were built with previous versions of the WDK must be converted to work in the Visual Studio environment. You can run a conversion utility from the command line, or you can convert an existing driver by creating new Visual Studio project from existing sources. For more info, see [Creating a Driver From Existing Source Files](creating_a_driver_from_existing_source_files.md) and [WDK and the Visual Studio build environment](https://msdn.microsoft.com/en-us/library/windows/hardware/hh454286).\n\n \n\n<span id=\"building_a_driver_using_visual_studio\"></span><span id=\"BUILDING_A_DRIVER_USING_VISUAL_STUDIO\"></span>Building a Driver Using Visual Studio\n-----------------------------------------------------------------------------------------------------------------------------------------------------\n\nYou build a driver the same way you build any project or solution in Visual Studio. When you create a new driver project using a Windows driver template, the template defines a default (active) project configuration and a default (active) solution build configuration.\n\n**Note**  You can convert projects and solutions that you created with WDK 8 or Windows Driver Kit (WDK) 8.1 to work with Windows Driver Kit (WDK) 10 and Visual Studio 2015. Before you open the projects or solutions, run the [ProjectUpgradeTool](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Dn265174). The ProjectUpgradeTool converts the projects and solutions so that they can be built using WDK 10.\n\n \n\nFor information about managing and editing build configurations, see [Building in Visual Studio](http://go.microsoft.com/fwlink/p/?linkid=227872).\n\nThe default Solution build configuration is **Debug** and **Win32**. In versions of the WDK prior to Windows 8, this build configuration would correspond to building a driver using an **x86 Checked Build Environment**.\n\n**To select a configuration and build a driver**\n\n1.  Ensure that you have the same version of SDK and WDK installed on your computer.\n2.  Open the driver project or solution in Visual Studio.\n3.  Right-click the solution in the **Solutions Explorer** and select **Configuration Manager**.\n4.  From the **Configuration Manager**, select the Active Solution Configuration (for example, **Debug** or **Release**) and the Active Solution Platform (for example, **Win32**) that correspond to the type of build you are interested in.\n5.  Select the target operating system for which to build the driver. Navigate to the project properties in **Driver &gt; General**, and set the **TargetVersion** property.\n6.  Configure the project properties for your driver or driver package. You can set properties for deployment, driver signing, or other tasks. For more information, see [Configuring project properties for your driver and driver package](#configure_project_props).\n7.  From the **Build** menu, click **Build Solution** (**Ctrl+Shift+B**).\n\n<span id=\"building_a_driver_using_the_command_line__msbuild_\"></span><span id=\"BUILDING_A_DRIVER_USING_THE_COMMAND_LINE__MSBUILD_\"></span>Building a Driver Using the Command Line (MSBuild)\n--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nYou can build a driver from the command line using the **Visual Studio Command Prompt** window and the Microsoft Build Engine ([MSBuild](http://go.microsoft.com/fwlink/p/?linkid=262804))\n\n**To build a driver using the Visual Studio Command Prompt window**\n\n1.  Open a **Developer Command Prompt for VS2015** window.\n\n    From this window you can use MSBuild.exe to build any Visual Studio project by specifying the project (.VcxProj) or solutions (.Sln) file.\n\n2.  Navigate to the project directory and enter the **MSbuild** command for your target.\n\n    For example, to perform a clean build of a Visual Studio driver project called MyDriver.vcxproj using the default Platform and Configuration, navigate to the project directory and enter the following MSBuild command:\n\n    ``` syntax\n    msbuild /t:clean /t:build .\\MyDriver.vcxproj\n    ```\n\n    **Syntax** - To specify a specific configuration and platform, use the following command syntax:\n\n    ``` syntax\n    msbuild /t:clean /t:build ProjectFile /p:Configuration=<Debug|Release> /p:Platform=architecture /p:TargetPlatformVersion=a.b.c.d /p:TargetVersion=OS    \n    ```\n\n    For example, the following command builds a Universal Windows driver for the \"Debug\" configuration, \"Win32\" platform, and for Windows 10.\n\n    ``` syntax\n    msbuild /t:clean /t:build .\\MyDriver.vcxproj /p:Configuration=\"Debug\" /p:Platform=Win32 /p:TargetVersion=”Windows10” /p:TargetPlatformVersion=”10.0.10010.0”\n    ```\n\n    The **TargetPlatformVersion** setting is optional and allows you to specify the kit version to build with. The default is to use the latest kit.\n\n<span id=\"configure_project_props\"></span><span id=\"CONFIGURE_PROJECT_PROPS\"></span>Configuring project properties for your driver and driver package\n-----------------------------------------------------------------------------------------------------------------------------------------------------\n\nYou use **property pages** to configure and set options for your driver and driver package. You can choose to configure your driver so that it is automatically signed when you build your solution, or automatically deployed to a remote test computer.\n\nThe WDK provides a number of command-line tools, such as [Stampinf](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff552786) and [WPP Preprocessor (WPP Tracing)](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff556201), that are commonly included in the build process. These tools are not distributed with Visual Studio. To combine these tools with the Visual Studio build environment they are wrapped as [WDK tasks for MSBuild](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454288). If you use one of the driver templates or have an existing driver that you have converted, these property pages might already exist for your project. If not, the property pages are automatically added to your project as you add the related file types to the project or solution (for example, .mc or .man files for the message compiler). For more information, see [WDK and the Visual Studio build environment](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454286)\n\nYou can set properties for an individual driver or for an entire driver package. The following table shows some of the available properties that you can configure specifically for drivers and driver packages.\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th align=\"left\">Driver Project Properties</th>\n<th align=\"left\">Driver Package Properties</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td align=\"left\"><p>Signing properties for individual driver files (see <a href=\"signing_a_driver.md\">Signing a Driver</a>)</p></td>\n<td align=\"left\"><p>Signing properties for driver packages (see <a href=\"signing_a_driver.md\">Signing a Driver</a>)</p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><a href=\"counters_manifest_preprocessor_properties_for_driver_projects.md\">Counters Manifest Preprocessor Properties for Driver Projects</a> (for <a href=\"https://perf.ctrpp\"><strong>CTRPP</strong></a>)</td>\n<td align=\"left\"><p><a href=\"deployment_properties_for_driver_projects.md\">Deployment Properties for Driver Package Projects</a> (see <a href=\"deploying_a_driver_to_a_test_computer.md\">Deploying a Driver to a Test Computer</a>)</p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><a href=\"driver_model_settings_properties_for_driver_projects.md\">Driver Model Settings Properties for Driver Projects</a></td>\n<td align=\"left\"><p><a href=\"driver_verifier_properties_for__driver_projects.md\">Driver Verifier Properties for Driver Package Projects</a></p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><a href=\"message_compiler_properties_for_driver_projects.md\">Message Compiler Properties for Driver Projects</a></td>\n<td align=\"left\"><p><a href=\"kmdf_verifier_properties_for_driver_package_projects.md\">KMDF Verifier Properties for Driver Package Projects</a></p></td>\n</tr>\n<tr class=\"odd\">\n<td align=\"left\"><a href=\"stampinf_properties_for_driver_projects.md\">Stampinf Properties for Driver Projects</a></td>\n<td align=\"left\"><p><a href=\"umdf_verifier_properties_for_driver_package_projects.md\">UMDF Verifier Properties for Driver Package Projects</a></p></td>\n</tr>\n<tr class=\"even\">\n<td align=\"left\"><a href=\"https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff556201\">WPP Preprocessor (WPP Tracing)</a></td>\n<td align=\"left\"><p><a href=\"inf2cat_properties_for_driver_package_projects.md\">Inf2Cat Properties for Driver Package Projects</a> (see the <a href=\"https://devtest.inf2cat\"><strong>Inf2Cat</strong></a> tool)</p></td>\n</tr>\n</tbody>\n</table>\n\n \n\n<span id=\"troubleshooting\"></span><span id=\"TROUBLESHOOTING\"></span>Troubleshooting tip for building a driver\n-------------------------------------------------------------------------------------------------------------\n\nThe following tip can help you to troubleshoot problems when you use the WDK and Visual Studio to build drivers.\n\n**To increase the verbosity of the build output using the options in Visual Studio**\n\n1.  Click **Tools**&gt; **Options**.\n2.  Click the **Project and Solutions** folder and click **Build and Run**.\n3.  Change the options for the **MSBuild project build output verbosity** and **MSBuild project build log file verbosity**. By default, these are set to Minimal.\n\n<span id=\"related_topics\"></span>Related topics\n-----------------------------------------------\n\n* [Building in Visual Studio](http://go.microsoft.com/fwlink/p/?linkid=227872)\n* [Building Drivers for Different Versions of Windows](building_drivers_for_different_versions_of_windows.md)\n* [Using the Microsoft C Runtime with User-Mode Drivers and Desktop Apps](using_the_microsoft_c_runtime_with_user_mode_drivers_and_apps.md)\n* [ProjectUpgradeTool](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Dn265174)\n* [MSBuild](http://go.microsoft.com/fwlink/p/?linkid=262804)\n* [Creating a Driver From Existing Source Files](creating_a_driver_from_existing_source_files.md)\n* [WDK and the Visual Studio build environment](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454286)\n* [Signing a Driver](signing_a_driver.md)\n* [Deploying a Driver to a Test Computer](deploying_a_driver_to_a_test_computer.md)\n\n\n\n\n[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Building%20a%20Driver%20with%20the%20WDK%20%20RELEASE:%20%289/30/2015%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"Send comments about this topic to Microsoft\")\n"}